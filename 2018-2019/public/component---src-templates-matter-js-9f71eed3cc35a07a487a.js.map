{"version":3,"sources":["webpack:///./src/templates/matter.js","webpack:///./src/components/breadcrumb-nav.js","webpack:///./node_modules/reactstrap/es/Breadcrumb.js","webpack:///./node_modules/reactstrap/es/BreadcrumbItem.js","webpack:///./src/components/part-preview.js"],"names":["__webpack_require__","r","__webpack_exports__","Glamor","d","query","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","n","reactstrap__WEBPACK_IMPORTED_MODULE_2__","reactstrap__WEBPACK_IMPORTED_MODULE_3__","_components_layout__WEBPACK_IMPORTED_MODULE_4__","_components_article_preview__WEBPACK_IMPORTED_MODULE_5__","_components_part_preview__WEBPACK_IMPORTED_MODULE_6__","_components_breadcrumb_nav__WEBPACK_IMPORTED_MODULE_7__","_helpers__WEBPACK_IMPORTED_MODULE_8__","Matter","_ref","pageContext","data","location","matter","classe","partNodes","allSitePage","edges","map","flattenFileNode","totalCount","filter","node","length","matterHeader","matterNameFromMatter","classeNameFromClasse","chapterNodes","allFile","slice","createElement","key","id","dataShowPart","propTypes","PropTypes","shape","string","isRequired","arrayOf","partNode","modifiedTime","childMarkdownRemark","fields","chapter","part","slug","gatsby__WEBPACK_IMPORTED_MODULE_1__","react_icons_go__WEBPACK_IMPORTED_MODULE_2__","_helpers__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_4__","reactstrap__WEBPACK_IMPORTED_MODULE_5__","partString","partPath","isChapter","nChapter","isPart","nPart","isMatter","isClasse","partPathFromNode","to","active","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","tag","listTag","className","a","listClassName","cssModule","object","children","aria-label","Breadcrumb","props","Tag","ListTag","label","attributes","Object","classes","listClasses","defaultProps","bool","BreadcrumbItem","aria-current","undefined","_classe_badge__WEBPACK_IMPORTED_MODULE_2__","_matter_badge__WEBPACK_IMPORTED_MODULE_3__","reactstrap__WEBPACK_IMPORTED_MODULE_6__","reactstrap__WEBPACK_IMPORTED_MODULE_7__","reactstrap__WEBPACK_IMPORTED_MODULE_8__","reactstrap__WEBPACK_IMPORTED_MODULE_9__"],"mappings":"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","file":"component---src-templates-matter-js-9f71eed3cc35a07a487a.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { graphql } from 'gatsby'\nimport { CardColumns, Jumbotron } from 'reactstrap'\n\nimport Layout from '../components/layout'\nimport ArticlePreview from '../components/article-preview'\nimport PartPreview from '../components/part-preview'\nimport BreadcrumbNav from '../components/breadcrumb-nav'\n\nimport {\n  flattenFileNode,\n  matterNameFromMatter,\n  classeNameFromClasse,\n} from '../helpers'\n// eslint-disable-next-line\nimport { fileInfosFragment } from '../fragments/fragment-file'\n\nconst Matter = ({ pageContext, data, location }) => {\n  const { matter, classe } = pageContext\n\n  //\n  //parties\n  //\n  let partNodes = data.allSitePage.edges.map(flattenFileNode)\n\n  // on filtre ici\n  // TODO filtrer dans la requête graphql\n  partNodes = partNodes.filter(\n    node => node.matter === matter && node.classe === classe\n  )\n\n  const totalCount = partNodes.length\n  const matterHeader = `${totalCount} partie${\n    totalCount === 1 ? `` : `s`\n  } en ${matterNameFromMatter(matter)} ${classeNameFromClasse(classe)}`\n\n  //\n  // derniers chapitres\n  //\n  // aplat des objets\n  let chapterNodes = data.allFile.edges.map(flattenFileNode)\n\n  // on filtre ici\n  // TODO filtrer dans la requête graphql\n  chapterNodes = chapterNodes.filter(\n    node => node.matter === matter && node.classe === classe\n  )\n  chapterNodes = chapterNodes.slice(0, 3)\n\n  return (\n    <Layout location={location} data={data}>\n      <BreadcrumbNav node={pageContext} />\n      <Jumbotron>\n        <h1> {matterHeader} </h1>\n      </Jumbotron>\n      <CardColumns>\n        {partNodes.map(node => (\n          <PartPreview key={node.id} node={node} />\n        ))}\n      </CardColumns>\n      <h4>Derniers chapitres</h4>\n      <CardColumns>\n        {chapterNodes.map(node => (\n          <ArticlePreview key={node.id} node={node} dataShowPart />\n        ))}\n      </CardColumns>\n    </Layout>\n  )\n}\n\nMatter.propTypes = {\n  pageContext: PropTypes.shape({\n    matter: PropTypes.string.isRequired,\n    classe: PropTypes.string.isRequired,\n  }),\n  location: PropTypes.string.isRequired,\n\n  // TODO proptype allpage au lieu de allfile\n  data: PropTypes.shape({\n    allFile: PropTypes.shape({\n      edges: PropTypes.arrayOf(\n        PropTypes.shape({\n          partNode: PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            modifiedTime: PropTypes.string.isRequired,\n            childMarkdownRemark: PropTypes.shape({\n              fields: PropTypes.shape({\n                matter: PropTypes.string.isRequired,\n                chapter: PropTypes.string.isRequired,\n                part: PropTypes.string.isRequired,\n                slug: PropTypes.string.isRequired,\n              }),\n            }),\n          }),\n        })\n      ),\n    }),\n  }),\n}\n\nexport default Matter\n\nexport const query = graphql`\n  query MatterPage {\n    allSitePage(\n      filter: { componentPath: { regex: \"/.*/part.js/\" } }\n      sort: { fields: [path] }\n    ) {\n      edges {\n        node {\n          componentPath\n          path\n          context {\n            part {\n              classe\n              matter\n              nPart\n              part\n              slug\n            }\n          }\n        }\n      }\n    }\n    allFile(\n      filter: { sourceInstanceName: { eq: \"courses\" }, ext: { eq: \".md\" } }\n      sort: { order: DESC, fields: [modifiedTime] }\n    ) {\n      edges {\n        node {\n          ...FileInfos\n        }\n      }\n    }\n  }\n`\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport { GoHome } from 'react-icons/go'\n\nimport { partPathFromNode } from '../helpers'\nimport { Breadcrumb, BreadcrumbItem } from 'reactstrap'\n\nexport default ({ node }) => {\n  const isChapter = node.nChapter\n  const isPart = node.nPart && !node.nChapter\n  const isMatter = node.matter && !node.nPart\n  const isClasse = node.classe && !node.matter\n\n  let partString, partPath\n  if (isPart || isChapter) {\n    partString = `Partie ${node.nPart}: ${node.part}`\n    partPath = partPathFromNode(node)\n  }\n\n  return (\n    <Breadcrumb>\n      <BreadcrumbItem>\n        <Link to=\"/\">\n          <GoHome />\n        </Link>\n      </BreadcrumbItem>\n\n      <BreadcrumbItem active={isClasse}>\n        {isClasse ? (\n          node.classe\n        ) : (\n          <Link to={`/` + node.classe}>{node.classe}</Link>\n        )}\n      </BreadcrumbItem>\n\n      {!isClasse && (\n        <BreadcrumbItem active={isMatter}>\n          {isMatter ? (\n            node.matter\n          ) : (\n            <Link to={`/` + node.classe + `/` + node.matter}>\n              {node.matter}\n            </Link>\n          )}\n        </BreadcrumbItem>\n      )}\n\n      {!isClasse && !isMatter && (\n        <BreadcrumbItem active={isPart}>\n          {isPart ? partString : <Link to={partPath}>{partString}</Link>}\n        </BreadcrumbItem>\n      )}\n      {isChapter && (\n        <BreadcrumbItem active>\n          {`Chapitre ${node.nChapter}: ${node.chapter}`}\n        </BreadcrumbItem>\n      )}\n    </Breadcrumb>\n  )\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  listTag: tagPropType,\n  className: PropTypes.string,\n  listClassName: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string\n};\nvar defaultProps = {\n  tag: 'nav',\n  listTag: 'ol',\n  'aria-label': 'breadcrumb'\n};\n\nvar Breadcrumb = function Breadcrumb(props) {\n  var className = props.className,\n      listClassName = props.listClassName,\n      cssModule = props.cssModule,\n      children = props.children,\n      Tag = props.tag,\n      ListTag = props.listTag,\n      label = props['aria-label'],\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"listClassName\", \"cssModule\", \"children\", \"tag\", \"listTag\", \"aria-label\"]);\n\n  var classes = mapToCssModules(classNames(className), cssModule);\n  var listClasses = mapToCssModules(classNames('breadcrumb', listClassName), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    \"aria-label\": label\n  }), React.createElement(ListTag, {\n    className: listClasses\n  }, children));\n};\n\nBreadcrumb.propTypes = propTypes;\nBreadcrumb.defaultProps = defaultProps;\nexport default Breadcrumb;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  active: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'li'\n};\n\nvar BreadcrumbItem = function BreadcrumbItem(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      active = props.active,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"active\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, active ? 'active' : false, 'breadcrumb-item'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    \"aria-current\": active ? 'page' : undefined\n  }));\n};\n\nBreadcrumbItem.propTypes = propTypes;\nBreadcrumbItem.defaultProps = defaultProps;\nexport default BreadcrumbItem;","import React from 'react'\nimport { Link } from 'gatsby'\n\nimport ClasseBadge from './classe-badge'\nimport MatterBadge from './matter-badge'\n\nimport { partPathFromNode } from '../helpers'\n\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  CardSubtitle,\n  CardFooter,\n} from 'reactstrap'\n\nexport default ({ node }) => {\n  const Part = () => (\n    <Link to={partPathFromNode(node)}>\n      Partie {node.nPart}-{node.part}\n    </Link>\n  )\n  const MatterPart = () => (\n    <CardSubtitle>\n      <ClasseBadge classe={node.classe} />\n      <MatterBadge node={node} />\n    </CardSubtitle>\n  )\n\n  return (\n    <Card className=\"text-center\">\n      <CardHeader>\n        <CardTitle>\n          <Link to={`/` + node.slug}>\n            Partie {node.nPart}\n            :&nbsp;\n            {node.part}\n          </Link>\n        </CardTitle>\n        <CardBody>\n          <MatterPart />\n        </CardBody>\n      </CardHeader>\n    </Card>\n  )\n}\n"],"sourceRoot":""}