{"componentChunkName":"component---src-templates-cours-md-js","path":"/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\"><summary>Programme Officiel</summary><div><table class=\"table table-bordered table-hover\"><thead class=\"table-warning\"><tr><th colspan=\"1\" rowspan=\"1\"><p>Contenus</p></th><th colspan=\"1\" rowspan=\"1\"><p>Capacités attendues</p></th><th colspan=\"1\" rowspan=\"1\"><p>Commentaires</p></th></tr></thead><tbody><tr><td colspan=\"1\" rowspan=\"1\"><p>Algorithme des k plus\nproches voisins</p></td><td colspan=\"1\" rowspan=\"1\"><p>Écrire un algorithme qui prédit\nla classe d’un élément en\nfonction de la classe majoritaire\nde ses k plus proches voisins.</p></td><td colspan=\"1\" rowspan=\"1\"><p>Il s’agit d’un exemple d’algorithme\nd’apprentissage.</p></td></tr></tbody></table></div><a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme complet</a></details>\n<p>Dans ce chapitre nous abordons un algorithme dit d’<strong>apprentissage automatique</strong> qui permet à un programme d’apprendre à classer des « objets » en utilisant un jeu de données pour qu’il y trouve des similarités.</p>\n<p>C’est un algorithme simple de <em>« machine learning »</em> un sujet très en vogue à l’heure actuelle dans le domaine de l’informatique.</p>\n<h2 id=\"principe\" style=\"position:relative;\"><a href=\"#principe\" aria-label=\"principe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe</h2>\n<h3 id=\"principe-de-lapprentissage-supervisé\" style=\"position:relative;\"><a href=\"#principe-de-lapprentissage-supervis%C3%A9\" aria-label=\"principe de lapprentissage supervisé permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe de l'apprentissage supervisé</h3>\n<p>A l'heure actuelle, l'intelligence artificielle se base souvent sur l'utilisation de données annotées que l'on fournit à l'ordinateur pour qu'il y trouve des similarités(c'est ce que l'on appele de l'apprentissage supervisé).</p>\n<div class=\"example\"><p>On peut fournir à un programme une grande quantité d'écritures de chiffres.</p><p>Le programme va lire toutes les données, et grâce à des algorithmes plus ou moins évolués, le programme va trouver les points communs entre les chiffres représentant le même nombre.\n<a title=\"Josef Steppan / CC BY-SA (https://creativecommons.org/licenses/by-sa/4.0)\" href=\"https://commons.wikimedia.org/wiki/File:MnistExamples.png\"><img width=\"512\" alt=\"MnistExamples\" src=\"https://upload.wikimedia.org/wikipedia/commons/2/27/MnistExamples.png\"></a></p><p>Ensuite, on peut donner au programme une image non annotée, et il nous dira s'il s'agit d'un 1, d'un 6 ou d'un 8...</p><p>C'est un système qui est utilisé depuis des années pour la lecture des codes postaux sur les lettres avec un efficacité supérieure à 99%.</p></div>\n<h3 id=\"principe-lalgorithme-des-k-plus-proches-voisins\" style=\"position:relative;\"><a href=\"#principe-lalgorithme-des-k-plus-proches-voisins\" aria-label=\"principe lalgorithme des k plus proches voisins permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe l'algorithme des k plus proches voisins</h3>\n<p>On dispose d'une collection de données annotées, et on veut savoir à quelle catégorie appartient un nouvel échantillon. Il s'agit d'un problème de <strong>classification</strong>.</p>\n<p>Prenons l'exemple suivant issu de cette <a href=\"https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/\">page</a>.</p>\n<blockquote>\n<p>Imaginons… On étudie des papillons. Ceux-ci ont une certaine largeur et une certaine longueur. Certains sont des males, d’autres des femelles.</p>\n<p>On étudie un certain nombre de ces papillons. Cela constitue un jeu d’apprentissage dont les caractéristiques sont représentées ci-dessous.</p>\n<p>A partir de ce jeu d’apprentissage, on cherche à prédire le sexe d’un papillon dont on connaît les dimensions.</p>\n</blockquote>\n<blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/29114/geogebra-papillons.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABXklEQVQoz32R3WrjQAyFe+eLTN57m7uQZP1shUJJNnYMtUlmxvod2bO4k5YGunsuhBjpY46kJ+fc21vLbIgkRP56HUdAJByBkJkZRmBmEeFPpZTatnXOPTnnuq7LOSfVvh+athURMxOVSFFUQNFsEhH9VM6567r1er3Ar69n73MpxxhF5ApXYGAhThqHd2ubMATihRSReZ4vl8sdfvnz0luPgpNNgCAik02qSkye/eh99GiTmaWU0tfPD7ZVNaWEgMQEDCmlgDEESh9MSgrAIkvPPM8/wwBQYFX16EUWhllDQERhXkb7HywslqzspsDF7UfQB9ur1ep0OolIjBEAbrfb+E0AgAjfX2KMRHQ8Hu9w0zRmhricNYRAROWeJSkREc/ns/d+mUG1aZq77WEYcs7zPBfz0zTlf6u09f2wwFVVbTabuq53u91+v99utyX50uFw2D/qd13/en6uquov9BEpVsYmYcoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Classification des papillons\"\n        title=\"Classification des papillons\"\n        src=\"/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/e5715/geogebra-papillons.png\"\n        srcset=\"/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/8514f/geogebra-papillons.png 192w,\n/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/804b2/geogebra-papillons.png 384w,\n/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/e5715/geogebra-papillons.png 768w,\n/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/4ad3a/geogebra-papillons.png 1152w,\n/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/71c1d/geogebra-papillons.png 1536w,\n/2020-2021/static/f93143296c3d3778756685ad22d4a5a2/29114/geogebra-papillons.png 1920w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</blockquote>\n<blockquote>\n<p>L’objectif est maintenant d’identifier le sexe d’un nouveau papillon en s’appuyant sur notre expérience précédente.</p>\n<p><strong>Le principe est simple : On fait l’hypothèse que notre papillon a le même sexe que ces voisins.</strong></p>\n</blockquote>\n<p>On voit par exemple que le voisin le plus proche est un paillon mâle:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 159px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.90566037735849%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACY0lEQVQ4y4VTy07jQBDMR/ALXPkp7nBm73wAB84g5YZAAiGRvcQQLFtBWbKLSCS8RECISIC8bGNPz/RMT6+cQQmwK20dWprxtPtRVSVjDBEBACISkTFGG11ErQHA3cwjAGhdfHXHkjsAgFLK5bBlIkJEIYS7mUchBCLqGYwxX5Mt2YfhwzSbaiwqW2tdWdfX12TXgJQSES1bRl45Wtn6ucXM02SazkBE7i8A4N47lGCGNE2zLAMJUsj2c/tucNe4aHie5/v+ea3mn59fX18bY9I0zbMMAIQQAFBybQghpJRaayKKJ7FX9brdrhDCWmuZQcpmsxmEoZBSaY2IClEjfpqZiJRSVa8axzEz51lWPB0MaDxm5uj37x+1Gis1335pzoGUkpnb7XYURcyslAIhLDNXKlwuU7nMJyfh5ubbzg4fHNDxMSXJIlkpxcxhGBZlrdVEcjyOz86gXrevrxQEHEWtMLzxPO52db9PAKWPIjHGBEFQsFKQZrNOp7W83FlbY2OwmJ3vHx879/fMjDMCFgtzrDYuGkmSGK2V1uLlZbS3l9RqRimRARvq3N5+29h47vftjPkFVXmWCxS7ld0oiqy1WZalb2/aGIkolYzjCbM9PT1bX1+v1+vFOvP8ve1c5MXAvXCpvLR/tG/JOj0phdbScJisrkaVSvPysk5k3YALbTvdCSm6026v16tWq5PJBBF5BqX09vbp4eF3KYXzxSd5uoVZ60TBo9HI9/0gCFqt1tXVVRAENze/iPR/XKUK8aBT8nA4fHp6GgwGM29aY0ye5/8wxkc/OyCikw3zu0P/9vMfyhm1bpLk3+8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"k=1\"\n        title=\"k=1\"\n        src=\"/2020-2021/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png\"\n        srcset=\"/2020-2021/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png 159w\"\n        sizes=\"(max-width: 159px) 100vw, 159px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Cependant la particularité de l'algorithme des k plus proches voisins est le fait que l'on puisse choisir <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span>, le nombre de plus proches voisins nous permettant de faire notre choix, on va prendre plusieurs voisins pour éviter de se baser que sur une observation pour notre choix.</p>\n<p>Voici par exemple l'application pour <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">k=5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 245px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACsElEQVQ4y0VTy27TQBT1H7PkN9jDhmxYdAkCISFVQq2EhAR1bCcNSdzGdpzGSdO4tud1X2g8FZzVyPKZuedxo2EYrLXGGK21GVEURZqmcRzPRyRJMpvNmqYhIuecGhEokVLKOWeMYea6ruM4LopiGAalFBEhorX2eDyGi4wxge+cs9ZG1lpEFJHAdM6JCDFZawEAEZkZAETkeDxOp9O+7wEg3Bs54/8+HA5pmiIi+c/ExMYYHEFExhhrrYicz+c4jq21L+TXV6+10WmSaq2VVsLy7f7b2+ytoGirnXMAoLW2I0Rks9ms12sR8WPXbV1WZZ7nzNx1HTp8OD9sHjdGjRaOmgelAttYq9Rwc/MrWBsx8XK5fH5+Zn4ZlYlfzkT88EDOQd/j8YjGitDV1eO7dz+G4cQskTEmyzJEBIBABm+UP4PWfH0tnz7Rly/88SN//UqPh07hn8V9XVciEjnnbm9vaURwwoMZAYpXr06fP3t5bYvOsXNEJMJte87zO08ehiFN0xB6P/TWWuet9TrPl5fDciki3svR8JDzbrfL89y77a2epT4MZwXkurp+c/NGWHo1IAsJffiQl+UTEbgRzLxarXa7HTNHvh7bumkaP56xZ3Wu2kpYvGZrCV2WPT09DWOuFGLP8zz0L5of5u+n7/NFTkyhpMwcigGARL58Ie1QxLZtLy4uXsirZvV99728KzfFvda264YwXmj/2GF/DmoRcTabTSaTu7vRMGOM99nBep1NJj8vLw8irLXp+/7fnimlQlWTJKkqH1LI1S8GIHgtTL9/T+fzP6GGAMDMMgIATqdTkiT7/V5Ewnve7f/FGFU1zT7LsvV6XRRFWZbb7baqqjRNF4tF13Wh0mERASD6tyKIaIzx+0jUtm1RFNvttq7r/X7f933oDiKGTQ4v/wXZNfZG2yFjIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"k=5\"\n        title=\"k=5\"\n        src=\"/2020-2021/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png\"\n        srcset=\"/2020-2021/static/149fcbf4c88f134c75494257d35e417d/8514f/geogebra-5-voisins.png 192w,\n/2020-2021/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png 245w\"\n        sizes=\"(max-width: 245px) 100vw, 245px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<details class=\"appli\" data-titre=\"Influence du nombre de voisins\"><summary>Influence du nombre de voisins</summary><p>En utilisant ce fichier <a href=\"https://www.geogebra.org/m/zhbhycsh\">geogebra</a> montrer comment le choix de <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> a une influence sur la prévision de la méthode.</p></details>\n<h2 id=\"implémentation-naïve-en-python\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-na%C3%AFve-en-python\" aria-label=\"implémentation naïve en python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation naïve en Python</h2>\n<p>Le code qui suit utilise des méthodes de <code class=\"language-text\">pandas</code> <code class=\"language-text\">matplotlib</code> et <code class=\"language-text\">numpy</code> non vues, il n'est pas nécessaire de savoir le refaire, par contre en utilisant les commentaires vous pouvez voir comment est effctuée la classification dans cet implémentation.</p>\n<h3 id=\"classification-délèves-en-conseil-de-classe\" style=\"position:relative;\"><a href=\"#classification-d%C3%A9l%C3%A8ves-en-conseil-de-classe\" aria-label=\"classification délèves en conseil de classe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Classification d'élèves en conseil de classe</h3>\n<p>Nous allons utiliser un fichier <code class=\"language-text\">csv</code> qui contient les <em>moyennes, absences et mentions d'élèves de lycée</em>.</p>\n<p>Vous pouvez visualiser ce fichier ici: <a href=\"https://github.com/heoinfo/k-plus-proches-voisins/blob/master/data/mentions-anonymised.csv\">https://github.com/heoinfo/k-plus-proches-voisins/blob/master/data/mentions-anonymised.csv</a></p>\n<p>A partir de ce fichier de données <strong>l'algorithme sera capable de vous indiquer quelle sera votre mention (Félicitations, compliments...)</strong> en fonction de notre moyenne générale et notre nombre d'absences.</p>\n<h3 id=\"tracé-de-la-classification\" style=\"position:relative;\"><a href=\"#trac%C3%A9-de-la-classification\" aria-label=\"tracé de la classification permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tracé de la classification</h3>\n<p>Commencons par observer l'ensemble des données sous forme graphique pour se faire une idée.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># données du conseil de classe </span>\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./data/mentions-anonymised.csv'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># On affiche 3 échantillons du tableau</span>\ndf<span class=\"token punctuation\">.</span>sample<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Mentions</th>\n      <th>1/2j abs</th>\n      <th>Rang</th>\n      <th>Moyenne Générale</th>\n      <th>PHILOSOPHIE</th>\n      <th>HISTOIRE-GEOGRAPHIE</th>\n      <th>MATHEMATIQUES</th>\n      <th>PHYSIQUE-CHIMIE</th>\n      <th>SCIENCES VIE &amp; TERRE</th>\n      <th>ED.PHYSIQUE &amp; SPORT.</th>\n      <th>...</th>\n      <th>ESPAGNOL LV2</th>\n      <th>ITALIEN LV2</th>\n      <th>JAPONAIS LV2</th>\n      <th>SPECIALITE SVT</th>\n      <th>SPECIALITE PHYS</th>\n      <th>NISSART LV3</th>\n      <th>SPECIALITE MATHS</th>\n      <th>SPECIALITE ISN</th>\n      <th>arts fac</th>\n      <th>ENS. MORAL &amp; CIVIQUE</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>59</th>\n      <td>Encouragements</td>\n      <td>16.0</td>\n      <td>20.0</td>\n      <td>12.1</td>\n      <td>13.5</td>\n      <td>NaN</td>\n      <td>12.4</td>\n      <td>9.0</td>\n      <td>11.0</td>\n      <td>18.0</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>12.1</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>N.Not</td>\n      <td>13.7</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Félicitations</td>\n      <td>9.0</td>\n      <td>3.0</td>\n      <td>17.8</td>\n      <td>18.5</td>\n      <td>18.5</td>\n      <td>18.9</td>\n      <td>20.0</td>\n      <td>17.6</td>\n      <td>12.0</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>17.3</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>16.3</td>\n      <td>18.7</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>68</th>\n      <td>Encouragements</td>\n      <td>2.0</td>\n      <td>24.0</td>\n      <td>12.3</td>\n      <td>13.7</td>\n      <td>12.5</td>\n      <td>12.4</td>\n      <td>11.5</td>\n      <td>12.0</td>\n      <td>15.5</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>14.5</td>\n      <td>NaN</td>\n      <td>11.1</td>\n      <td>NaN</td>\n      <td>16.9</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>14.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>3 rows × 22 columns</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># on ne conserve que 3 colonnes pour cette étude simplifiée</span>\ndf <span class=\"token operator\">=</span>  df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Moyenne Générale'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1/2j abs'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Mentions'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\ndf</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Moyenne Générale</th>\n      <th>1/2j abs</th>\n      <th>Mentions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>17.4</td>\n      <td>3.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>18.1</td>\n      <td>5.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>18.2</td>\n      <td>NaN</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>17.0</td>\n      <td>1.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>17.6</td>\n      <td>2.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>9.0</td>\n      <td>12.0</td>\n      <td>Encouragements</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>9.4</td>\n      <td>14.0</td>\n      <td>Pas de mention</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>7.7</td>\n      <td>49.0</td>\n      <td>Pas de mention</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>12.3</td>\n      <td>32.0</td>\n      <td>Pas de mention</td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>11.7</td>\n      <td>33.0</td>\n      <td>Pas de mention</td>\n    </tr>\n  </tbody>\n</table>\n<p>96 rows × 3 columns</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> tracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> mention <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Pas de mention\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Encouragements\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Compliments\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Félicitations\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        df_mention <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">\"Mentions\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> mention<span class=\"token punctuation\">]</span>\n        plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>df_mention<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> df_mention<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span>mention<span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACVElEQVQ4y21STW/TQBD13+LE76CCCwihivJTgB5y44LEEdQjB24crKCmraBpTJrSJg2Ondjrjzj+WO/HPLSbJkRqR3p6M7Oa57fjdQA4ge9/aMdjiNtbgHMLaho8FESEquaIogjX19cWnudhMpmAMfbVMYLzyeRdNRyCj8eNKktFmpTmXBGgiGgHUCY4T1WSMOUNPNXv99XFxQVnjCEMwy9W0Pf9jiwKqDwXImFQvNm62XVmQimFpsiNG+tsOBxiOp1Kc5YkyZEVjBk7JKWAthVimSNfRqCNCJHljaBhzVu0bYuqqlCWJeq6lgAhTdO14CJcdE7Dc0z+eKIpV8iTAKCNM9xzqe+vVjZCY8GSIyetGoflxfvB1Xec//gkyipBXIRIqwikWquoiZCW7Xa6aiW4UNuPEJHUBCQbh7Nw3kGdoYpG4nfkQ2uONI+h22q9N60xjku0Uj+4VyNoOM+zteA0jA9XzActQ3EbhWiqAgUn6KaA4I29fcmFdba7y12HJs+yO0E/WHSa+RXaphTQnJZ5QkKDVJ2TH84pWy7tP7LjD8d/QVLSydLkrSRAEGooLuuyEAAMJBGJsmnlXW17O/kGzfrK+Wfr8Obm5qMUAlIK+86UNLmEkhJCCJDWtja5OTdc1BytmbnrGcRx/M3xPM9xXffRYDA4YEnypNvtHsyC8NloNHre6/X20zTdO+719k09m82eua77Jsuyve7x6aufv85fLhaLp67rvg6C4MXl5eVj63CDfr+/fugx2/bOzs62uZTS8snJybb3dzq1vFqtrLl/3gq0jCOa1GwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png\"\n        srcset=\"/2020-2021/static/aa7e3a26233e59e7a0e6bba3c898f299/8514f/cours_4_0.png 192w,\n/2020-2021/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>On voit bien le groupe des <strong>Félicitations</strong> se dégager avec des hautes notes et peu d'absences, ainsi que le groupe <strong>Pas de mention</strong> pour les absentéistes. Par contre la zone basse du graphique présente de nombreux points de divers mentions proches. </p>\n<h3 id=\"implémentation-de-lalgorithme\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-de-lalgorithme\" aria-label=\"implémentation de lalgorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation de l'algorithme</h3>\n<p>Nous allons maintenant définir la fonction qui à partie de la moyenne et des absences données en argument renverra la mention des k plus proches voisins(par défaut: 3).</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">k_plus_proches_voisins</span><span class=\"token punctuation\">(</span>moyenne<span class=\"token punctuation\">,</span> absences<span class=\"token punctuation\">,</span> k<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Renvoie la classe des k plus proches voisins\n    \n    Entrée:\n        moyenne: moyenne de l'élève\n        absences: nb de 1/2j d'absences lors du trimestre\n        k: nombre de voisins les plus proches à utiliser(par défaut 3)\n        \n    Sortie:\n        renvoie les classe la plus probable des k plus porches voisins\"\"\"</span>\n    \n    <span class=\"token comment\"># on commence par afficher notre point sur un graphique</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>absences<span class=\"token punctuation\">,</span> moyenne<span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">\"Elève étudié\"</span><span class=\"token punctuation\">,</span> marker<span class=\"token operator\">=</span><span class=\"token string\">\"P\"</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\"># on crée une liste pour stocker les distances euclidiennes</span>\n    df<span class=\"token punctuation\">[</span><span class=\"token string\">'distance'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> row<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> moyenne<span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> absences<span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># On affiche les trois plus courtes distances</span>\n    df_voisins <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">.</span>distance<span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df_voisins<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># on les marque sur le graph</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                label<span class=\"token operator\">=</span><span class=\"token string\">\"Plus proches voisins\"</span><span class=\"token punctuation\">,</span> marker<span class=\"token operator\">=</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># On ajoute tous les autres points</span>\n    tracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"Mentions\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value_counts<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>nlargest<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<h3 id=\"appels-de-la-fonction\" style=\"position:relative;\"><a href=\"#appels-de-la-fonction\" aria-label=\"appels de la fonction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Appels de la fonction</h3>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">k_plus_proches_voisins<span class=\"token punctuation\">(</span><span class=\"token number\">12.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">    Moyenne Générale  1/2j abs        Mentions  distance\n32              12.3      11.0     Compliments  1.019804\n62              11.6       9.0  Pas de mention  1.345362\n66              11.4       9.0  Pas de mention  1.486607</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Pas de mention    2\nName: Mentions, dtype: int64</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACaklEQVQ4y21Sy27TQBT1b7HiO6joBoRQRfkUoIvs2LAHdQcLVmysSCRKW0qjxE2cNI9J3Hhsx+PXPDwHzcRNKuDKR/fhmTPn3hkHgLNcLD5GZIFkTaCEsBBViZgVCIIA4/EYg8EAo9EIjDGkaYq6rvG3bbfbb44lnM3eB1MfEVmUvCiU1lrxqlJVRVUYbtRgMFC+7yvP89R4PFaUUsU5VwDsWq11ZQjjOP5iCReLRavMM5SMiTyJIbmABlBsY4RhCN/3rbrhcIjJZGLVaa0fQzaE55ZwE4ZntVKoBRcFY8jizC6skhwRpbi6usLF5QX6/b5pyxJaUnOs+RrCJEl2hKsVac19itl0JniZg9HdjIo8A6XUKryb3IEQYmcllbQwZg42pVKVCGhw7qSlcKKUfZh2fsP7+kOsVgm2mxRFUqAWYj9wJtku0EAuclSqOhBqyBo1aER3Csl63UISIxuPxO3kFrqSSOg9VJHvFU2TKbjkuzYba9QdWo6bluf3y7MtmaMKiFitpyhYAqYySJbCjMBYxjOrrFH0mOzfS1mu163Uv0WVpwJc6YSutNRKizTR85Wn422gd82avf+1A2Etayem0TvzqCTqAhWXWUrN8Ayk1lrknMkmt7VH8QPK5pY/W4W+73+SQkAKCaUUlJSQUlovhICutc1NbP4bz0oGLvhhj1LYbDbfnX6/77iu++Tm5uY0pOGzdrt9Sgg59jzvRafTOYmi6KjT+Xli8uVyeey67ts4jo/a3fbry1+Xr4IgeO667htCyMvhcPjUKnzA9fX1w0Pf13q93j6WUlrf7Xb3tflsbj1jzIr7A5p6sOtsgnPeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png\"\n        srcset=\"/2020-2021/static/00fedeb10c587b81af501a2d1034227c/8514f/cours_8_2.png 192w,\n/2020-2021/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>On observe donc que l'élève n'aurait pas de mention malgré ses 12.5 de moyenne, Voyons ce qu'il en est si on réduit le nombre d'absences à 5.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">k_plus_proches_voisins<span class=\"token punctuation\">(</span><span class=\"token number\">12.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">    Moyenne Générale  1/2j abs        Mentions  distance\n65              12.4       5.0  Encouragements       0.1\n46              12.9       5.0     Compliments       0.4\n58              12.5       4.0  Encouragements       1.0</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Encouragements    2\nName: Mentions, dtype: int64</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACaElEQVQ4y21Sy27TQBT1b7HiO6hgA0KoonwK0EV2bNgXdcGCBXsriER9UBrFaeOkcTKJG4/tePyah+egmbhJBVz56D4898y5M+MAcBbz+aeYzJGuCJQQFqKukLASYRhiPB5jOBzi9vYWjDFkWYamafC3bTabb44lnM0+hFMfMZlXvCyV1lrxulZ1TVUUrdVwOFS+76vRaKTG47GilCrOuQJg12qta0OYJMkXSzifzztVkaNiTBRpAskFNIBykyCKIvi+b9V5nofJZGLVaa0fQ7aEp5ZwHUXHjVJoBBcVY8jT3C6s0wIxpbi8vMT5xTkGg4EZyxJaUrOt+VrCNE23hMsl6QQ+RTANRFnkyKJtk4kppVbh3eQOhBB7VlJJC2NmY1OqVIWQhqcO48qJWfHR/3GO3ydfRc04GM1RJCUaIXYHziTbBhooRIFa1XtCDdmgAY3pViFZhR2dUGQ3npitCMAbpFEIVZY7RdN0Ci75dszWWnX7kZN25OB+cbwhAfj9SixWdyizBEzlkCwDrwrblPPcKmsVPSb791IWq1Un829QF5kAVzqNl1pqpUWW6mA50skm1NthTe9/bU/YyMZJaPzePCqJpgTnMs+oOTwDqbUWBWeyzW3tUfyAqr3lE6vQ9/3PUghIIaGUgpISUkrrhRDQjba5ic1/41nFwAXf9yiF9Xr93RkMBo7ruk+ur6+PIho963a7R4SQF6PR6GWv1zuM4/ig1/t5aPLFYvHCdd13SZIcdPvdNxe/Ll6HYfjcdd23hJBXnuc9tQofcHV19fDQd7Wzs7NdLKW0vt/v72rBLLCeMWbF/QHU1bEH930zWwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png\"\n        srcset=\"/2020-2021/static/bbaab03563ce5e1664e9d8a2f76c9fea/8514f/cours_10_2.png 192w,\n/2020-2021/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>L'élève a maintenant les encouragements.</p>\n<h3 id=\"et-vous-quelle-serait-votre-mention\" style=\"position:relative;\"><a href=\"#et-vous-quelle-serait-votre-mention\" aria-label=\"et vous quelle serait votre mention permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Et vous, quelle serait votre mention?</h3>\n<p>L'algorithme et les données sont en ligne dans le dépôt suivant:</p>\n<p><a href=\"https://github.com/heoinfo/k-plus-proches-voisins\">https://github.com/heoinfo/k-plus-proches-voisins</a></p>\n<p>Vous pouvez <em>soit</em> télécharger le <a href=\"https://github.com/heoinfo/k-plus-proches-voisins/archive/master.zip\">dossier</a> pour travailler sur le code sur votre machine si vous avaez installé python et anconda chez vous.</p>\n<p>Vous pouvez sinon travailler en ligne en lancant un environment <a href=\"http://mybinder.org/v2/gh/heoinfo/k-plus-proches-voisins/master?filepath=index.ipynb\"><img src=\"http://mybinder.org/badge_logo.svg\" alt=\"Binder\"></a>.</p>\n<p>::: {.appli titre=\"L'algorithme est-il efficace?\"}\nReprendre vos bulletins de lycée pour vérifier si la prévision faite à partir de votre moyenne générale et de votre nombre de jours d'absences est conforme au résultat obtenu.</p>\n<p>Vous pouvez éventuellement changer la valeur de <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span> pour améliorer les prédictions.</p>\n<p><strong>Pour conclure:</strong> Que diriez-vous de cette méthode? Peut-on vraiment qualifier cet algorithme d'<em>intelligence artificielle</em>? Voyez-vous des dangers à la prise de décisions par des algorithmes?\nlayout:::</p>\n<h2 id=\"notes-sur-lalgorithme\" style=\"position:relative;\"><a href=\"#notes-sur-lalgorithme\" aria-label=\"notes sur lalgorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notes sur l'algorithme</h2>\n<p>Cet algorithme(<em>brute-force</em>) est peu efficace avec une complexité de <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">[</mo><mi>D</mi><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">O[D N^2]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span>(voir <a href=\"https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms\">doc sklearn</a>).</p>\n<p>D'autres part, il serait bon de mettre à l'échelle les données utilisées, car on voit bien que l'échelle des absences est trois fois plus grande que les moyennes, et ainsi a une importance accrue dans le calcul de la distance des voisins.</p>\n<div class=\"ref\"><ul>\n<li>Cours de Nadja Rebinguet duquel est extrait l'exemple des papillons: <a href=\"https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/\">https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/</a></li>\n<li>Cette video de <a href=\"https://www.youtube.com/watch?v=OEJX-q6UOag\">Phillippe Bouchery sur le machine learning</a></li>\n<li>Cours sur pixees.fr: <a href=\"https://pixees.fr/informatiquelycee/n_site/nsi_prem_knn.html\">https://pixees.fr/informatiquelycee/n_site/nsi_prem_knn.html</a>\n</li>\n<li>Article Wikipedia: <a href=\"https://fr.wikipedia.org/wiki/M%C3%A9thode_des_k_plus_proches_voisins\">https://fr.wikipedia.org/wiki/M%C3%A9thode_des_k_plus_proches_voisins</a>\n</li>\n<li>Doc sklearn: <a href=\"https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms\">https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms</a></li>\n</ul></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#principe\">Principe</a></p>\n<ul>\n<li><a href=\"#principe-de-lapprentissage-supervis%C3%A9\">Principe de l'apprentissage supervisé</a></li>\n<li><a href=\"#principe-lalgorithme-des-k-plus-proches-voisins\">Principe l'algorithme des k plus proches voisins</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#impl%C3%A9mentation-na%C3%AFve-en-python\">Implémentation naïve en Python</a></p>\n<ul>\n<li><a href=\"#classification-d%C3%A9l%C3%A8ves-en-conseil-de-classe\">Classification d'élèves en conseil de classe</a></li>\n<li><a href=\"#trac%C3%A9-de-la-classification\">Tracé de la classification</a></li>\n<li><a href=\"#impl%C3%A9mentation-de-lalgorithme\">Implémentation de l'algorithme</a></li>\n<li><a href=\"#appels-de-la-fonction\">Appels de la fonction</a></li>\n<li><a href=\"#et-vous-quelle-serait-votre-mention\">Et vous, quelle serait votre mention?</a></li>\n</ul>\n</li>\n<li><a href=\"#notes-sur-lalgorithme\">Notes sur l'algorithme</a></li>\n</ul>","frontmatter":{"tags":["Python","algorithmique","Recherche des k plus proche voisins"]},"fields":{"classe":"1g","chapter":"Algorithme des k plus proches voisins","matter":"nsi","nChapter":"3","part":"Algorithmique","nPart":"8"}}},"pageContext":{"slug":"1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins","chapter":"Algorithme des k plus proches voisins"}},"staticQueryHashes":["604483588"]}