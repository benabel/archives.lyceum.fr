{"componentChunkName":"component---src-templates-cours-md-js","path":"/tg/nsi/5-algorithmique/2-algorithmes-sur-les-graphes","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\"><summary>Programme Officiel</summary><div><table class=\"table table-bordered table-hover\"><thead class=\"table-warning\"><tr><th colspan=\"1\" rowspan=\"1\"><p>Contenus</p></th><th colspan=\"1\" rowspan=\"1\"><p>Capacités attendues</p></th><th colspan=\"1\" rowspan=\"1\"><p>Commentaires</p></th></tr></thead><tbody><tr><td colspan=\"1\" rowspan=\"1\"><p>Algorithmes sur les\ngraphes.</p></td><td colspan=\"1\" rowspan=\"1\"><p>Parcourir un graphe en\nprofondeur d’abord, en largeur\nd’abord.</p><p>Repérer la présence d’un cycle\ndans un graphe.</p><p>Chercher un chemin dans un\ngraphe.</p></td><td colspan=\"1\" rowspan=\"1\"><p>Le parcours d’un labyrinthe et le\nroutage dans Internet sont des\nexemples d’algorithme sur les\ngraphes.</p><p>L’exemple des graphes permet\nd’illustrer l’utilisation des classes\nen programmation.</p></td></tr></tbody></table></div><a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme complet</a></details>\n<div class=\"intro clearfix\"><p><a href=\"https://commons.wikimedia.org/wiki/File:Journal.pone.0082873.g001.png#/media/File:Journal.pone.0082873.g001.png\"><img class=\"half right\" src=\"https://upload.wikimedia.org/wikipedia/commons/9/9c/Journal.pone.0082873.g001.png\" alt=\"Journal.pone.0082873.g001.png\"></a><br>By Bumhee Park, Dae-Shik Kim, Hae-Jeong Park - <a rel=\"nofollow\" class=\"external free\" href=\"http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0082873\">http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0082873</a>, <a href=\"https://creativecommons.org/licenses/by-sa/4.0\" title=\"Creative Commons Attribution-Share Alike 4.0\">CC BY-SA 4.0</a>, <a href=\"https://commons.wikimedia.org/w/index.php?curid=59853041\">Link</a></p><blockquote>\n<p>Dans ce chapitre, nous allons voir quelques algorithmes classiques sur les\n<a href=\"../../1-structures-de-donnees/5-graphes\">graphe</a>s. Pour mémoire, un graphe est un ensemble de\nsommets reliés entre eux par des arêtes sans aucune contrainte sur la façon dont sont reliés les\nsommets par opposition aux arbres qui présente une racine, et une relation de descendance.</p>\n</blockquote></div>\n<h2 id=\"présentation-du-module-networkx\" style=\"position:relative;\"><a href=\"#pr%C3%A9sentation-du-module-networkx\" aria-label=\"présentation du module networkx permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Présentation du module <code class=\"language-text\">networkx</code></h2>\n<p>Pour travailler sur ce chapitre, nous allons utiliser la librairie <a href=\"https://networkx.github.io/documentation/stable/index.html\"><code class=\"language-text\">networkx</code></a> qui permet de facilement créer, manipuler et représenter les graphes en Python.</p>\n<p>Nous n'entrerons pas dans les détails de tout ce que l'on peut faire avec cette libraririe, mais nous utiliserons la classe <code class=\"language-text\">Graph</code> que nous instancierons sous la variable <code class=\"language-text\">G</code>.</p>\n<p>La librairie étant écrite en anglais, il faut connaitre les traductions suivantes:</p>\n<ul>\n<li><strong>Sommet/Noeud</strong>: <em>node</em></li>\n<li><strong>Arête/lien</strong>: <em>edge</em></li>\n<li><strong>Graphe</strong>: <em>graph</em></li>\n<li><strong>Voisins</strong>: <em>neighbors</em></li>\n</ul>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">import</span> networkx <span class=\"token keyword\">as</span> nx\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt <span class=\"token comment\"># pour les représentations graphiques</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_graph</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    G <span class=\"token operator\">=</span> nx<span class=\"token punctuation\">.</span>Graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># Ajout des noeuds nommés</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Paris\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Lyon\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Marseille\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Montpellier\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Toulouse\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Rennes\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_node<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nancy\"</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># Ajout des arêtes</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Paris\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Lyon\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Lyon\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Marseille\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Marseille\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Lyon\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Montpellier\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Marseille\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Montpellier\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Toulouse\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Paris\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Toulouse\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Rennes\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Toulouse\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Rennes\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Paris\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nancy\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Paris\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>add_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nancy\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Lyon\"</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token keyword\">return</span> G\n<span class=\"token comment\"># création du graph</span>\nG <span class=\"token operator\">=</span>create_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># Représenation graphique</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># Il s'agit du graphe et non d'une carte!</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/2b1b779b351ecab6a34df8c290bbe20a/6244b/cours_1_0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmklEQVQ4y4VTy07DMBDM33PgyEfwEAeOIAQI6KUIARWFSiAoSemDUlDjxHac2Bm0TpsmjVVWWsXOrmfHu2MPFcvzvPwuvWEmw22vj+snnzJBKdU8r3rQBUJ7pRTiOAZjDEpytLuvuLh/+R9wBWLQ9wNsH5yj032G4ByZ1rW8XKe1W5WA60yiKLLOOcdkHoNzYdfkaVqAGK2hpHC2x/ucMXsVcjqUZRlcRmBUSAqO/nCKt9F3AW7yWnu87b1TDIKg0bd1t/8X8ZP2Ew6vHhz5gKeSBFrrxlAaYIsvtSVNpF3PwxBCiDpDAgvDEMbBquoUN8YUucaUIARICsirQ5FSlhdyKG/FTgrLkCxJEuvU8w/fx9buGWbzqAAcTybYOWrh5d1HIoVtPlUtJh7DpAmOWh0c3zxDK4mQMcuMhkigVHDGBDJtCkAhJe5eB/gcjS1Hqmr7uhQ1C9H7GGH4Gzm1V9NhNUjSYFFU7okBySnL9MbnWXVvGdSLRisp0Xp8w/DrB6SA8gkb05i4i6nnksj+ZQfBdF4AOaSzyf4AYIRE1hSHvZ4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/2b1b779b351ecab6a34df8c290bbe20a/6244b/cours_1_0.png\"\n        srcset=\"/2020-2021/static/2b1b779b351ecab6a34df8c290bbe20a/8514f/cours_1_0.png 192w,\n/2020-2021/static/2b1b779b351ecab6a34df8c290bbe20a/804b2/cours_1_0.png 384w,\n/2020-2021/static/2b1b779b351ecab6a34df8c290bbe20a/6244b/cours_1_0.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>On peut obtenir la <strong>matrice d'adjacence</strong> représentant le graphe.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">nx<span class=\"token punctuation\">.</span>to_numpy_matrix<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">matrix([[0., 1., 0., 0., 0., 1., 1., 1.],\n        [1., 0., 1., 1., 0., 0., 0., 1.],\n        [0., 1., 0., 1., 1., 0., 0., 0.],\n        [0., 1., 1., 0., 0., 0., 0., 0.],\n        [0., 0., 1., 0., 0., 1., 0., 0.],\n        [1., 0., 0., 0., 1., 0., 1., 0.],\n        [1., 0., 0., 0., 0., 1., 0., 0.],\n        [1., 1., 0., 0., 0., 0., 0., 0.]])</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<p>Mais également sous la forme d'une liste d'adjacence comme nous l'avions vu dans le chapitre sur la structure de données <a href=\"/2020-2021/tg/nsi/1-structures-de-donnees/4-graphes\">graphe</a> (ou bien d'autres formes voir <a href=\"https://networkx.org/documentation/stable/reference/convert.html\">doc</a>).</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">nx<span class=\"token punctuation\">.</span>to_dict_of_lists<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">{&#39;Paris&#39;: [&#39;Lyon&#39;, &#39;Toulouse&#39;, &#39;Rennes&#39;, &#39;Nancy&#39;],\n &#39;Lyon&#39;: [&#39;Paris&#39;, &#39;Marseille&#39;, &#39;Nice&#39;, &#39;Nancy&#39;],\n &#39;Marseille&#39;: [&#39;Lyon&#39;, &#39;Nice&#39;, &#39;Montpellier&#39;],\n &#39;Nice&#39;: [&#39;Marseille&#39;, &#39;Lyon&#39;],\n &#39;Montpellier&#39;: [&#39;Marseille&#39;, &#39;Toulouse&#39;],\n &#39;Toulouse&#39;: [&#39;Montpellier&#39;, &#39;Paris&#39;, &#39;Rennes&#39;],\n &#39;Rennes&#39;: [&#39;Toulouse&#39;, &#39;Paris&#39;],\n &#39;Nancy&#39;: [&#39;Paris&#39;, &#39;Lyon&#39;]}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<h2 id=\"parcourir-un-graphe\" style=\"position:relative;\"><a href=\"#parcourir-un-graphe\" aria-label=\"parcourir un graphe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parcourir un graphe</h2>\n<p>Tous comme pour les arbres, il est possible de réaliser deux types de parcours d'un arbre:</p>\n<ul>\n<li>le parcours en profondeur(<em>Depth-First Search</em>)</li>\n<li>le parcours en largeur(<em>Breadth First Search</em>)</li>\n</ul>\n<p>Cependant, contrairement aux arbres</p>\n<ul>\n<li>il n'y a pas de racine, donc on doit choisir à partir de quel noeud on part: le noeud source.</li>\n<li>il peut y avoir un nombre quelconque d'arêtes, et il faut donc <em>marquer</em> les chemins déjà empruntés lors du parcours.</li>\n</ul>\n<h3 id=\"parcours-en-profondeur\" style=\"position:relative;\"><a href=\"#parcours-en-profondeur\" aria-label=\"parcours en profondeur permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parcours en profondeur</h3>\n<blockquote>\n<p>L'exploration d'un parcours en profondeur depuis un sommet S fonctionne comme suit. Il poursuit alors un chemin dans le graphe jusqu'à un cul-de-sac ou alors jusqu'à atteindre un sommet déjà visité. Il revient alors sur le dernier sommet où on pouvait suivre un autre chemin puis explore un autre chemin (voir vidéo ci-contre). L'exploration s'arrête quand tous les sommets depuis S ont été visités. Bref, l'exploration progresse à partir d'un sommet S en s'appelant récursivement pour chaque sommet voisin de S. </p>\n</blockquote>\n<p><em class=\"cite-source\"><a href=\"https://fr.wikipedia.org/wiki/Algorithme_de_parcours_en_profondeur\">Article Wikipédia sur l'Algorithme de parcours en profondeur</a></em></p>\n<p>Nous allons utiliser l'algorithme proposé sur l'article Wikipedia anglais:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">PROCEDURE parcours_en_profondeur(G graph, s sommet)\n    marquer v comme visté\n    POUR TOUS les sommets voisins v de s FAIRE\n        SI v n&#39;est pas marqué comme visité ALORS\n            APPELER RECURSIVEMENT parcours_en_prfondeur(G, v)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"implémentation-en-python\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-en-python\" aria-label=\"implémentation en python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation en Python</h3>\n<p>Nous allons implémenter la procédure <code class=\"language-text\">parcours_en_profondeur</code> proposée précedemment.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">PROCEDURE parcours_en_profondeur(G graph, s sommet)\n    marquer v comme visté\n    POUR TOUS les sommets voisins v de s FAIRE\n        SI v n&#39;est pas marqué comme visité ALORS\n            APPELER RECURSIVEMENT parcours_en_prfondeur(G, v)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Il parait préférable d'utiliser une liste d'adjacence ici puisque l'on a besoin d'accéder aux voisins fréquemment.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">G <span class=\"token operator\">=</span> create_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndg <span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>to_dict_of_lists<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Liste d'adjacence\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----------------\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">parcours_profondeur</span><span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># on récupère la liste des voisins</span>\n    voisins <span class=\"token operator\">=</span> G<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># afficher le sommet</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># marquer le sommet s(je le supprime car visité)</span>\n    <span class=\"token comment\"># ATTENTION modification globale car passage par référence</span>\n    <span class=\"token keyword\">del</span> G<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># POUR TOUT sommet t voisin du sommet s</span>\n    <span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> voisins<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># SI t n'est pas marqué ALORS</span>\n        <span class=\"token keyword\">if</span> t <span class=\"token keyword\">in</span> G<span class=\"token punctuation\">:</span>\n            parcours_profondeur<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nListe des noeuds visités par notre algorithme\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------------------------------------\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parcours_profondeur<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nPour rappel: Forme du graphe\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------\"</span><span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pos<span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>spring_layout<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Liste d&#39;adjacence\n-----------------\n{&#39;Paris&#39;: [&#39;Lyon&#39;, &#39;Toulouse&#39;, &#39;Rennes&#39;, &#39;Nancy&#39;], &#39;Lyon&#39;: [&#39;Paris&#39;, &#39;Marseille&#39;, &#39;Nice&#39;, &#39;Nancy&#39;], &#39;Marseille&#39;: [&#39;Lyon&#39;, &#39;Nice&#39;, &#39;Montpellier&#39;], &#39;Nice&#39;: [&#39;Marseille&#39;, &#39;Lyon&#39;], &#39;Montpellier&#39;: [&#39;Marseille&#39;, &#39;Toulouse&#39;], &#39;Toulouse&#39;: [&#39;Montpellier&#39;, &#39;Paris&#39;, &#39;Rennes&#39;], &#39;Rennes&#39;: [&#39;Toulouse&#39;, &#39;Paris&#39;], &#39;Nancy&#39;: [&#39;Paris&#39;, &#39;Lyon&#39;]}\n\nListe des noeuds visités par notre algorithme\n---------------------------------------------\nNice\nMarseille\nLyon\nParis\nToulouse\nMontpellier\nRennes\nNancy\nNone\n\nPour rappel: Forme du graphe\n------------------------------</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/dd8146c5a1e773bbe4b3421148f1d900/6244b/cours_8_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABnUlEQVQ4y3VTXUvDMBTt/xf03Sf1VXwSH9QJKiITZSI43BT0oc46p1ub77ZJjyRbapvVCyE3N/frnNxEWElVVfWyUuQKo9cYh/0hKMnQ6Wf3lc1LhMDgdSU4Hp5ecNQfYvqZgHOBsizRlK64yNtMVUEb4/RcKRBCWsF5noNSCkoJUkIxZ6rVsdfXOlSNZNastWndw2hcDR6xuX8OspjXiWwzLuHSt0L8McXOyS3i9/e1yuHZQuecuxUiibxTPElwfDNEmmUtTpqP4G0Wutba6XZPkgS9wTOYUEvIXAjHm3deBq8nayb056IoMJl8YK83wIIwRHlRgDHW4tBCCbltQueMQUrp4Aoh2pC3Di6cg01kl+WHUIqi1PXrWrtUCpUucHk/wvbRNaBLGPNHi3+86IdKGGNcJdtZmSuM32Js7J+DEgIphZtBe2e0xudsjmnKOz9DPTah2BGYZRxZlrpiXqRUUFLWc9s14NF/xLsgY5CmKfTqh1jOwo5CnqOuOQsdv2bfOBuMQblYG6lQOiGHAWlGsHt6h4yJfzvzCX8BoA5E/AGCBYYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/dd8146c5a1e773bbe4b3421148f1d900/6244b/cours_8_1.png\"\n        srcset=\"/2020-2021/static/dd8146c5a1e773bbe4b3421148f1d900/8514f/cours_8_1.png 192w,\n/2020-2021/static/dd8146c5a1e773bbe4b3421148f1d900/804b2/cours_8_1.png 384w,\n/2020-2021/static/dd8146c5a1e773bbe4b3421148f1d900/6244b/cours_8_1.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"vérification-avec-networkx\" style=\"position:relative;\"><a href=\"#v%C3%A9rification-avec-networkx\" aria-label=\"vérification avec networkx permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vérification avec <code class=\"language-text\">networkx</code></h3>\n<p>La librairie <code class=\"language-text\">networkx</code> implémente cette traversée avec la méthode <code class=\"language-text\">dfs_edges</code>, nous allons examiner sa sortie à partir du sommet <code class=\"language-text\">Nice</code> pour comparer les sorties.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Liste des chemins suivis\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>nx<span class=\"token punctuation\">.</span>dfs_edges<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> source<span class=\"token operator\">=</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nReprésentation sous forme d'arbre\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------------------------\"</span><span class=\"token punctuation\">)</span>\ntree <span class=\"token operator\">=</span> nx<span class=\"token punctuation\">.</span>dfs_tree<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> source<span class=\"token operator\">=</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pos<span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>spring_layout<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Liste des chemins suivis\n------------------------\n[(&#39;Nice&#39;, &#39;Marseille&#39;), (&#39;Marseille&#39;, &#39;Lyon&#39;), (&#39;Lyon&#39;, &#39;Paris&#39;), (&#39;Paris&#39;, &#39;Toulouse&#39;), (&#39;Toulouse&#39;, &#39;Montpellier&#39;), (&#39;Toulouse&#39;, &#39;Rennes&#39;), (&#39;Paris&#39;, &#39;Nancy&#39;)]\n\nReprésentation sous forme d&#39;arbre\n---------------------------------</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/f0b9d495441c7d6f9c23fb0da2c3b28d/6244b/cours_10_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgUlEQVQ4y41TTUvDQBDNz/cHWDwKnrxJVfBShYrai1StSLEltRVbraTW/cgmm2TzZLdNuk224MDCMrPzZua9WQ+W5Xlujn3PlCp9tmUqN6d4W5jnAnEBJEkCKSViKSHoEo2TNq4ehiamrBxPKeXsQmUZ+sMR9ps38H0fcRwjDAWEECbGRIxIJrXJvGoXOoFSipBzLAnD83iOIAgQhiF08apVG/GeBm84v33E12xqknQnrkRdjDFmTpqm5Zg2XQawP56h1X2FjARcAillJ61izfY9jlrdFTVqG9RzgVRFsjtIEonFkmBBGDhja8WVLUqOXaDVAnpsQkj5NooiUMq2cj0gB+MhRp8LI0id9OKi8EtICV7wLDjD4UUHHwHZqOy/T7F3fInJZGKE0Spr8gmlhtveYIzG6Z1GrVGhC133fMx/6Gax1xFwzp1chpHEdMFqa1JdmVKUIqBH1h3avl0AdnxLlHI91o6Dsw5e3r/Lldj1x21+az/FdlARI05S50j/sT9lC0bUa/az5gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/f0b9d495441c7d6f9c23fb0da2c3b28d/6244b/cours_10_1.png\"\n        srcset=\"/2020-2021/static/f0b9d495441c7d6f9c23fb0da2c3b28d/8514f/cours_10_1.png 192w,\n/2020-2021/static/f0b9d495441c7d6f9c23fb0da2c3b28d/804b2/cours_10_1.png 384w,\n/2020-2021/static/f0b9d495441c7d6f9c23fb0da2c3b28d/6244b/cours_10_1.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>L'ordre de parcours des chemins dépend de l'ordre dans lequel les voisins sont rangés dans la liste des voisins. Cependant on observe bien que l'algorithme avance tant qu'il ne trouve pas un noeud déjà visité.</p>\n<details class=\"appli\"><summary>&nbsp;</summary><ul>\n<li>Reproduire le graphe est l'annoter avec des flèches numérotées pour indiquer l'ordre de viste.</li>\n<li>Faire apparaitre les demi-tours(<em>backtrack en anglais</em>).</li>\n<li>Proposer un autre parcours en profondeur au départ de Nice.</li>\n</ul></details>\n<h3 id=\"parcours-en-largeur\" style=\"position:relative;\"><a href=\"#parcours-en-largeur\" aria-label=\"parcours en largeur permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Parcours en largeur</h3>\n<blockquote>\n<p>L'algorithme de parcours en largeur (ou BFS, pour Breadth First Search en anglais) permet le parcours d'un graphe ou d'un arbre de la manière suivante : on commence par explorer un nœud source, puis ses successeurs, puis les successeurs non explorés des successeurs, etc. L'algorithme de parcours en largeur permet de calculer les distances de tous les nœuds depuis un nœud source dans un graphe non pondéré (orienté ou non orienté).</p>\n</blockquote>\n<p><em class=\"cite-source\"><a href=\"https://fr.wikipedia.org/wiki/Algorithme_de_parcours_en_largeur\">Article Wikipédia sur l'Algorithme de parcours en largeur</a></em></p>\n<p>Nous allons implémenter cet algorithme à l'aide d'une file:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"> FONCTION parcours_largeur(Graphe G, Sommet s):\n       f = CreerFile();\n       f.enfiler(s);\n       marquer(s);\n       TANT QUE la file est non vide\n                s = f.defiler();\n                afficher(s);\n                POUR TOUT voisin t de s dans G\n                         SI t non marqué\n                                 f.enfiler(t);\n                                 marquer(t);</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"implémentation-en-python-1\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-en-python-1\" aria-label=\"implémentation en python 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation en Python</h3>\n<p>Nous allons implémenter la procédure <code class=\"language-text\">parcours_en_largeur</code> proposée précedemment.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"> FONCTION parcours_largeur(Graphe G, Sommet s):\n       f = CreerFile();\n       f.enfiler(s);\n       marquer(s);\n       TANT QUE la file est non vide\n                s = f.defiler();\n                afficher(s);\n                POUR TOUT voisin t de s dans G\n                         SI t non marqué\n                                 f.enfiler(t);\n                                 marquer(t);</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Encore une fois je vais utiliser une liste d'adjacence pour facilement accéder aux voisins. On utilise une liste locale <code class=\"language-text\">marqués</code> pour stocker les noeuds visités.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># On importe deque pour la file</span>\n<span class=\"token keyword\">from</span> collections <span class=\"token keyword\">import</span> deque <span class=\"token keyword\">as</span> <span class=\"token builtin\">file</span>\n\n<span class=\"token comment\"># On repart d'un graphe tout neuf</span>\nG <span class=\"token operator\">=</span> create_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndg <span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>to_dict_of_lists<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Liste d'adjacence\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----------------\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># FONCTION parcours_largeur(Graphe G, Sommet s):</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">parcours_largeur</span><span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\">#f = CreerFile();</span>\n    f <span class=\"token operator\">=</span> <span class=\"token builtin\">file</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">#f.enfiler(s);</span>\n    f<span class=\"token punctuation\">.</span>appendleft<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># marquer(s);</span>\n    marqués <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span>\n    <span class=\"token comment\">#TANT QUE la file est non vide</span>\n    <span class=\"token keyword\">while</span> f<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\">#s = f.defiler();</span>\n        s <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># afficher(s);</span>\n        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">#POUR TOUT voisin t de s dans G</span>\n        <span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> G<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># SI t non marqué</span>\n            <span class=\"token keyword\">if</span> t <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> marqués<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\">#f.enfiler(t);</span>\n                f<span class=\"token punctuation\">.</span>appendleft<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\">#marquer(t);</span>\n                <span class=\"token comment\"># marquer le sommet s</span>\n                marqués<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\">#node[\"visited\"] =  True</span>\n                \n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Liste des noeuds visités par notre algorithme\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------------------------------------\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parcours_largeur<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># je ne sais pas d'ou vient ce dernier None!</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nPour rappel: Forme du graphe\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------\"</span><span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pos<span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>spring_layout<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Liste d&#39;adjacence\n-----------------\n{&#39;Paris&#39;: [&#39;Lyon&#39;, &#39;Toulouse&#39;, &#39;Rennes&#39;, &#39;Nancy&#39;], &#39;Lyon&#39;: [&#39;Paris&#39;, &#39;Marseille&#39;, &#39;Nice&#39;, &#39;Nancy&#39;], &#39;Marseille&#39;: [&#39;Lyon&#39;, &#39;Nice&#39;, &#39;Montpellier&#39;], &#39;Nice&#39;: [&#39;Marseille&#39;, &#39;Lyon&#39;], &#39;Montpellier&#39;: [&#39;Marseille&#39;, &#39;Toulouse&#39;], &#39;Toulouse&#39;: [&#39;Montpellier&#39;, &#39;Paris&#39;, &#39;Rennes&#39;], &#39;Rennes&#39;: [&#39;Toulouse&#39;, &#39;Paris&#39;], &#39;Nancy&#39;: [&#39;Paris&#39;, &#39;Lyon&#39;]}\nListe des noeuds visités par notre algorithme\n---------------------------------------------\nNice\nMarseille\nLyon\nMontpellier\nParis\nNancy\nToulouse\nRennes\nNone\n\nPour rappel: Forme du graphe\n------------------------------</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/4e6385da4f3226fc51b1dd298838f697/6244b/cours_13_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlElEQVQ4y4VTy0rDQBSdz3frJ7gR3Li2irhwIfhGkGpbC7Gt7aJK55VO5nXkTpqYllEvTCa53Nc554YBQIyxPWSn90NMlzy9h46/uf8yhk1CCCE5vK1wct3H8H0O72wbGDOFcw1Y12WtBeei/ZZKQUrZNttFkzuMHlqXeBrPMV8s6il9QAh1q6qqIAXH4ktAVf5XqG1B+pjMPrB/fIlxMUGpNYQQaTK6hVRwRuPg5Aq9mz6CNVBKQ2sNY0yavgs9FVyv19TjX+KlFHDOJWpo8rIsU+5kOsXe0QU+uQIL3oNzTtr8yU1NRR3bNSq8Wq0w/+Rw3oMpXabAnJI5ZWmquFGfCwGl1LbKe4eneC+KLMG7RRs7u3nG+f0AiD+DNPvKllxDbQQgoptpd424IzFMqfEwKPD4NqsXP2yjYN0kUo3UpUNkW+eTjxoRNOKrzo3w1mSpYTlYMQQ8v46ScoPBMBVMy93ExABXmexWsJwQ7ZoYm6Cm5SZapEyQHwnyaJrNYb/+q5l9TB7vcH7XR+/2ZRO7PeU3FIlE+hon5CAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/4e6385da4f3226fc51b1dd298838f697/6244b/cours_13_1.png\"\n        srcset=\"/2020-2021/static/4e6385da4f3226fc51b1dd298838f697/8514f/cours_13_1.png 192w,\n/2020-2021/static/4e6385da4f3226fc51b1dd298838f697/804b2/cours_13_1.png 384w,\n/2020-2021/static/4e6385da4f3226fc51b1dd298838f697/6244b/cours_13_1.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"vérification-avec-networkx-1\" style=\"position:relative;\"><a href=\"#v%C3%A9rification-avec-networkx-1\" aria-label=\"vérification avec networkx 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vérification avec <code class=\"language-text\">networkx</code></h3>\n<p>La librairie <code class=\"language-text\">networkx</code> implémente cette traversée avec la méthode <code class=\"language-text\">bfs_edges</code>, nous allons examiner sa sortie à partir du sommet <code class=\"language-text\">Nice</code> pour comparer les sorties.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Liste des chemins suivis\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>nx<span class=\"token punctuation\">.</span>bfs_edges<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> source<span class=\"token operator\">=</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nReprésentation sous forme d'arbre\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------------------------\"</span><span class=\"token punctuation\">)</span>\ntree <span class=\"token operator\">=</span> nx<span class=\"token punctuation\">.</span>bfs_tree<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> source<span class=\"token operator\">=</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pos<span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>spring_layout<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Liste des chemins suivis\n------------------------\n[(&#39;Nice&#39;, &#39;Marseille&#39;), (&#39;Nice&#39;, &#39;Lyon&#39;), (&#39;Marseille&#39;, &#39;Montpellier&#39;), (&#39;Lyon&#39;, &#39;Paris&#39;), (&#39;Lyon&#39;, &#39;Nancy&#39;), (&#39;Montpellier&#39;, &#39;Toulouse&#39;), (&#39;Paris&#39;, &#39;Rennes&#39;)]\n\nReprésentation sous forme d&#39;arbre\n---------------------------------</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/ebedd8e74011fcf4a276f09ca0395048/6244b/cours_15_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeUlEQVQ4y4WTW0vDMBTH+/nFV33xxSeZ+DTfhDEn6EDHEBWc4oR14rXUrmuSpmmSvyRttza7eODQkyb5nWs8bBGt9eKbK41yBfO72nPFcwF1SGVLwbF70sPI/7JrpfRmoNlQ5eWmNqHB7wxhFK1EvjXC/4QQAiGETb3uvAH8iRKMP0LwlIGyQiVn2D+9wmA0gc4FGGP2Is8yZDwt0nZgle31H15weHaDnDN7gXMOmecIkxQxYRAiQ5qmiOM5VJbiqDPAxd24bE8BqsOdpvyftv8dYfIZgJLEOneb6hm6Ugp6TbddVTWPUipQSkEJwet7AMrFssu2JoKj1R2id/u0EVqNTB3MKcFe+xJ+EC+BdlsrPL8FeBxPIEW2FlqXoq5xI22bclW8+nH3YCWmNNOpj53jLvrD+8b/RVMWEUI3XoCBmnEx6ZlokiSxauwgpsilWsmi0WV3+ul8hlbnGgftc8RhAKnU1re+YWxKb9ZWIGmGhPGN3XdhBvgHgzFHlkHlBTsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/ebedd8e74011fcf4a276f09ca0395048/6244b/cours_15_1.png\"\n        srcset=\"/2020-2021/static/ebedd8e74011fcf4a276f09ca0395048/8514f/cours_15_1.png 192w,\n/2020-2021/static/ebedd8e74011fcf4a276f09ca0395048/804b2/cours_15_1.png 384w,\n/2020-2021/static/ebedd8e74011fcf4a276f09ca0395048/6244b/cours_15_1.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>L'ordre de parcours des chemins dépend de l'ordre dans lequel les voisins sont visités par la méthode <code class=\"language-text\">neighbors</code>. Cependant on observe bien que l'algorithme explore toujours tous les voisins d'un sommet avant d'avancer d'une profondeur supplémentaire.</p>\n<details class=\"appli\"><summary>&nbsp;</summary><ul>\n<li>Reproduire le graphe est l'annoter avec des flèches numérotées pour indiquer l'ordre de viste.</li>\n<li>Proposer un autre parcours en largeur au départ de Nice.</li>\n</ul></details>\n<h2 id=\"repérer-la-présence-dun-cycle\" style=\"position:relative;\"><a href=\"#rep%C3%A9rer-la-pr%C3%A9sence-dun-cycle\" aria-label=\"repérer la présence dun cycle permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Repérer la présence d'un cycle</h2>\n<dl class=\"def\" data-terme=\"cycle\"><dt>cycle</dt><p>Un cycle est une suite d'arêtes consécutives (chaine simple) dont les deux sommets extrémités sont identiques.</p></dl>\n<div class=\"example\"><p>Dans notre graphique Nice - Marseille - Lyon forme un cycle</p></div>\n<details class=\"plus\"><summary>&nbsp;</summary><p>La détection de cycle peut-être interressante par exemple en programmation concurrente dans les systèmes d'exploitation pour détecter un interblocage(<em>deadlock</em>) qui se produit lorsque des processus concurrents s'attendent mutuellement.</p><p>Les processus bloqués dans cet état le sont définitivement, il s'agit donc d'une situation catastrophique.</p></details>\n<h3 id=\"principe\" style=\"position:relative;\"><a href=\"#principe\" aria-label=\"principe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe</h3>\n<p>Pour détecter un cycle nous allons simplement parcourir le graphe en profondeur et vérifier qu'aucune arête pointe vers un noeud déjà visité(présence d'un <em>backedge</em>).</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">FONCTION recherche_cycle(G graph, s sommet)\n    marquer v comme visté\n    POUR TOUS les sommets voisins v de s FAIRE\n        SI v n&#39;est pas marqué comme visité ALORS\n            APPELER RECURSIVEMENT recherche_cycle(G, v)\n        SINON\n            # On a découvert un cycle\n            renvoyer VRAI\n    # Aucun cycle découvert après parcours complet\n    renvoyer FAUX</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"implémentation\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation\" aria-label=\"implémentation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation</h3>\n<p>Voici le code proposé.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># On repart d'un graphe tout neuf</span>\nG <span class=\"token operator\">=</span> create_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># Transformation en liste d'adjacence</span>\ndg <span class=\"token operator\">=</span> nx<span class=\"token punctuation\">.</span>to_dict_of_lists<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">recherche_cycle</span><span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> vus<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># ATTENTION: Liste vide par défaut</span>\n    <span class=\"token comment\"># voir: https://lyceum.fr/blog/2021-04-02-comment-passer-une-liste-vide-par-defaut-a-une-fonction-en-python/</span>\n    <span class=\"token keyword\">if</span> vus <span class=\"token keyword\">is</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">:</span>\n        vus <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># on récupère la liste des voisins</span>\n    voisins <span class=\"token operator\">=</span> G<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># marquer le sommet s</span>\n    vus<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># POUR TOUT sommet t voisin du sommet s</span>\n    <span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> voisins<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">if</span> t <span class=\"token keyword\">in</span> vus<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span>\n        <span class=\"token comment\"># SI t n'est pas marqué ALORS</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            recherche_cycle<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">,</span> vus<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Présence d'un cycle\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>recherche_cycle<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Test de la fonction à partir de tous les noeuds de départ</span>\n<span class=\"token keyword\">for</span> node <span class=\"token keyword\">in</span> G<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># networkx est capable de trouver des cycles</span>\n    <span class=\"token keyword\">assert</span> nx<span class=\"token punctuation\">.</span>find_cycle<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> source<span class=\"token operator\">=</span>node<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># on teste notre fonction maintenant</span>\n    <span class=\"token keyword\">assert</span> node<span class=\"token punctuation\">,</span> recherche_cycle<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">)</span>\n    \n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nPour rappel: Forme du graphe\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>  <span class=\"token string\">\"----------------------------\"</span><span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pos<span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>spring_layout<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Présence d&#39;un cycle\n-------------------\nTrue\n\nPour rappel: Forme du graphe\n----------------------------</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/cff07b0ebd764307d50de8b05a0c618a/6244b/cours_17_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABoklEQVQ4y4VSy0rDQBSd33fhyoUrN65cCC6KgogLC+IbseIDUWO1hipN00wzk5kkkyN36oRJau2FYV73ce65h+HXqqqCf/bvvtk/UyKacOxePNV+bmcu2F/OJjzFazhClklIKcE5x3Q6hcoyfA6/0Tm9RxsQM6aaQ6e1hpIpTq7vsLp9hH7wat/ozxhj/YqiAKpyrjvmDkoppGlqUQghkOd57VSWpUVG73VCrSGknKOIrXeO0X8LkGVZI4lzpA6cEUpX8H04QlGaRkJa7OIhsJy0B/Ift5xPsbJ1iK9xYu+uqE1oCj3jw+Oizam/U8uEktDRTlRZWoyZJVRaQwqxFJ0bXpIkDWooqX9nVHE84TB/y65hNDQX7HcRhiGOb5+hdA5WZAJrO10cnvWgRGr5oaq0SHtlUWAUJ9ju3iCKxg09Op8oirCxf4mYi5lsUpUjGseWH8eFk9IkjvE+CLF3/gghJKrKNOlodcFccE5cSlF/UGVCQVJZZpSjHoqd3G/Sj/AL3d6LRUW69CfsAhbJqdah/xgMhtg8uLLo2lNvD2KR/QDBFEQ8ffi1QgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/cff07b0ebd764307d50de8b05a0c618a/6244b/cours_17_1.png\"\n        srcset=\"/2020-2021/static/cff07b0ebd764307d50de8b05a0c618a/8514f/cours_17_1.png 192w,\n/2020-2021/static/cff07b0ebd764307d50de8b05a0c618a/804b2/cours_17_1.png 384w,\n/2020-2021/static/cff07b0ebd764307d50de8b05a0c618a/6244b/cours_17_1.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># Nous supprimons quelques arêtes pour</span>\n<span class=\"token comment\"># retirer les cycles et tester la fonction</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_acyclic_graph</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    G <span class=\"token operator\">=</span> create_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>remove_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Lyon\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>remove_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Nancy\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Lyon\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>remove_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Paris\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Rennes\"</span><span class=\"token punctuation\">)</span>\n    G<span class=\"token punctuation\">.</span>remove_edge<span class=\"token punctuation\">(</span><span class=\"token string\">\"Toulouse\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Montpellier\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> G\n\nG <span class=\"token operator\">=</span> create_acyclic_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># Transformation en liste d'adjacence</span>\ndg <span class=\"token operator\">=</span> nx<span class=\"token punctuation\">.</span>to_dict_of_lists<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Présence d'un cycle\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-------------------\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>recherche_cycle<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Paris\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Test de la fonction à partir de tous les noeuds de départ</span>\n<span class=\"token keyword\">for</span> node <span class=\"token keyword\">in</span> G<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n        nx<span class=\"token punctuation\">.</span>find_cycle<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> source<span class=\"token operator\">=</span>node<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">assert</span> <span class=\"token boolean\">False</span>\n    <span class=\"token keyword\">except</span> nx<span class=\"token punctuation\">.</span>NetworkXNoCycle<span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">pass</span>\n    G <span class=\"token operator\">=</span> create_acyclic_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">assert</span> <span class=\"token keyword\">not</span> recherche_cycle<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nPour rappel: Forme du graphe\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>  <span class=\"token string\">\"----------------------------\"</span><span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pos<span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>spring_layout<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Présence d&#39;un cycle\n-------------------\nFalse\n\nPour rappel: Forme du graphe\n----------------------------</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/f9202838570cbb0d7ffe53a5489db518/6244b/cours_18_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABO0lEQVQ4y6WSz0vDMBTH8//D9OLRsyedhx0ED4JzSC876ERFEXvYQEa7NU3Spvn1lXZbbeuqtT54CYGXz/u+b0LObx/BRII8nHNw271vkOFkhtU6KoH4B6wA5ssyCLEIYzhrsWG63ioL4MOrj8HpNRitKO05OrHbS1plEEJ8eVmB/QVMqod1RDFfrmqgKryLFSSkAlJKyDSBv/jAwdkYEaUwxtQKqw/2E5QMhhNwFkNrXRYqpcAYA2cMIknBpfpV9S5Js0Oz+/T5HUcjD84oGGs7eNjo0FSQhzEWaZoijuPi4ZTWsLZem2abCUmb/LaPzqMQx6MxTi498GgFzgWCIMDh8AZUyO8jN0ffp1ooA8ZFrT5RBnafh23wMnMLlMT9i4+7tzmsVnBt/7ALuFDDKK6mT7jwZsgSXmv6CeIKSujtpkonAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/f9202838570cbb0d7ffe53a5489db518/6244b/cours_18_1.png\"\n        srcset=\"/2020-2021/static/f9202838570cbb0d7ffe53a5489db518/8514f/cours_18_1.png 192w,\n/2020-2021/static/f9202838570cbb0d7ffe53a5489db518/804b2/cours_18_1.png 384w,\n/2020-2021/static/f9202838570cbb0d7ffe53a5489db518/6244b/cours_18_1.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<details class=\"plus\" data-titre=\"Recherche d&#x27;un cycle dans un graphe orienté\"><summary>Recherche d'un cycle dans un graphe orienté</summary><p>Le recherche d'un cycle dans un graphe orienté et plus délicate, on utilise classiquement un système de trois couleurs NOIR GRIS BLANC lors du parcours du graphe.</p><ul>\n<li>BLANC: le sommet n'est pas encore traité. Au départ, tous les sommets sont BLANC.</li>\n<li>GRIS: le sommet est en cours de traitement (le parcours en profondeur pour ce sommet a commencé, mais pas terminé, ce qui signifie que tous les descendants (dans l'arborescence du parcours) de ce sommet ne sont pas encore traités.</li>\n<li>NOIR: le sommet et tous ses descendants sont traités. Si une arête est rencontrée entre le sommet actuel et un sommet GRIS, alors cette arête est l'arête arrière et il y a donc un cycle.</li>\n</ul><p><em><a href=\"https://www.geeksforgeeks.org/detect-cycle-direct-graph-using-colors/\">Article geek for geeks en anglais</a></em></p></details>\n<h2 id=\"chercher-un-chemin-dans-un-graphe\" style=\"position:relative;\"><a href=\"#chercher-un-chemin-dans-un-graphe\" aria-label=\"chercher un chemin dans un graphe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Chercher un chemin dans un graphe</h2>\n<p>La recherche de chemin(<em>pathfinding</em>), et un domaine important de recherche dans le développement de l'intelligence artificielle et de la robotique.</p>\n<h3 id=\"plus-court-chemin-dans-un-graphe-non-pondéré\" style=\"position:relative;\"><a href=\"#plus-court-chemin-dans-un-graphe-non-pond%C3%A9r%C3%A9\" aria-label=\"plus court chemin dans un graphe non pondéré permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plus court chemin dans un graphe non pondéré</h3>\n<p>Le plus court chemin à travers un graphe non pondéré est utilisé dans le protocole réseau <a href=\"/2020-2021/tg/nsi/3-architectures-materielles-systemes-dexploitation-et-reseaux/3-protocoles-de-routage\">RIP</a>.</p>\n<p>Il se base simplement sur un <em>parcours en profondeur</em> pour s'assurer que le nombre d'arêtes traversées est minimum.</p>\n<p>Si le sommet est rencontré, on renverra le chemin suivi.</p>\n<p>Pour cela on ajoute à notre algorithme un dictionnaire qui stocke la liste des prédecesseurs lors du parcours.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># On repart d'un graphe tout neuf</span>\nG <span class=\"token operator\">=</span> create_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># On crée la liste d'adjacence</span>\ndg <span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>to_dict_of_lists<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># FONCTION plus court chemin(Graphe G, Sommet s, Destination d):</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">plus_court_chemin</span><span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># dictionnaire des prédecesseurs</span>\n    prédecesseurs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>s<span class=\"token punctuation\">:</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">}</span>\n    <span class=\"token comment\"># f = CreerFile();</span>\n    f <span class=\"token operator\">=</span> <span class=\"token builtin\">file</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># f.enfiler(s);</span>\n    f<span class=\"token punctuation\">.</span>appendleft<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># marquer(s);</span>\n    marqués <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span>\n    <span class=\"token comment\"># TANT QUE la file est non vide</span>\n    <span class=\"token keyword\">while</span> f<span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># On récupère le noeud</span>\n        s <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># POUR TOUT voisin t de s dans G</span>\n        <span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> G<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> t <span class=\"token operator\">==</span> d<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># Destination trouvée, on remonte le chemin</span>\n                ville <span class=\"token operator\">=</span> s\n                chemin <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">]</span>\n                <span class=\"token keyword\">while</span> ville<span class=\"token punctuation\">:</span>\n                    chemin<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>ville<span class=\"token punctuation\">)</span>\n                    ville <span class=\"token operator\">=</span> prédecesseurs<span class=\"token punctuation\">[</span>ville<span class=\"token punctuation\">]</span>\n                <span class=\"token comment\"># On remet dans l'ordre</span>\n                chemin<span class=\"token punctuation\">.</span>reverse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">return</span> chemin\n            <span class=\"token comment\"># SI t non marqué</span>\n            <span class=\"token keyword\">elif</span> t <span class=\"token keyword\">not</span> <span class=\"token keyword\">in</span> marqués<span class=\"token punctuation\">:</span>\n                <span class=\"token comment\"># f.enfiler(t);</span>\n                f<span class=\"token punctuation\">.</span>appendleft<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\"># marquer(t);</span>\n                marqués<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>t<span class=\"token punctuation\">)</span>\n                <span class=\"token comment\"># màJ du dictionnaire de prédecesseurs  </span>\n                prédecesseurs<span class=\"token punctuation\">[</span>t<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> s\n    <span class=\"token comment\"># Destination non trouvée        </span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n                \n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"On teste sur tous les trajets possibles\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---------------------------------------\"</span><span class=\"token punctuation\">)</span>\nvilles <span class=\"token operator\">=</span> G<span class=\"token punctuation\">.</span>nodes\n<span class=\"token keyword\">from</span> itertools <span class=\"token keyword\">import</span> combinations\n<span class=\"token keyword\">for</span> source<span class=\"token punctuation\">,</span> dest <span class=\"token keyword\">in</span> combinations<span class=\"token punctuation\">(</span>villes<span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    chemin <span class=\"token operator\">=</span> plus_court_chemin<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> source<span class=\"token punctuation\">,</span> dest<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>source<span class=\"token punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>dest<span class=\"token punctuation\">}</span></span><span class=\"token string\">: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>chemin<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nSi la destination n'est pas trouvée\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"-----------------------------------\"</span><span class=\"token punctuation\">)</span>\nsource<span class=\"token punctuation\">,</span> dest <span class=\"token operator\">=</span> <span class=\"token string\">\"Nice\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Tokyo\"</span>\nchemin <span class=\"token operator\">=</span> plus_court_chemin<span class=\"token punctuation\">(</span>dg<span class=\"token punctuation\">,</span> source<span class=\"token punctuation\">,</span> dest<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>source<span class=\"token punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>dest<span class=\"token punctuation\">}</span></span><span class=\"token string\">: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>chemin<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\nPour vérification: Forme du graphe\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"------------------------------------\"</span><span class=\"token punctuation\">)</span>\nnx<span class=\"token punctuation\">.</span>draw<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">,</span> with_labels<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> pos<span class=\"token operator\">=</span>nx<span class=\"token punctuation\">.</span>spring_layout<span class=\"token punctuation\">(</span>G<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">On teste sur tous les trajets possibles\n---------------------------------------\nParis -&gt; Lyon: [&#39;Paris&#39;, &#39;Lyon&#39;]\nParis -&gt; Marseille: [&#39;Paris&#39;, &#39;Lyon&#39;, &#39;Marseille&#39;]\nParis -&gt; Nice: [&#39;Paris&#39;, &#39;Lyon&#39;, &#39;Nice&#39;]\nParis -&gt; Montpellier: [&#39;Paris&#39;, &#39;Toulouse&#39;, &#39;Montpellier&#39;]\nParis -&gt; Toulouse: [&#39;Paris&#39;, &#39;Toulouse&#39;]\nParis -&gt; Rennes: [&#39;Paris&#39;, &#39;Rennes&#39;]\nParis -&gt; Nancy: [&#39;Paris&#39;, &#39;Nancy&#39;]\nLyon -&gt; Marseille: [&#39;Lyon&#39;, &#39;Marseille&#39;]\nLyon -&gt; Nice: [&#39;Lyon&#39;, &#39;Nice&#39;]\nLyon -&gt; Montpellier: [&#39;Lyon&#39;, &#39;Marseille&#39;, &#39;Montpellier&#39;]\nLyon -&gt; Toulouse: [&#39;Lyon&#39;, &#39;Paris&#39;, &#39;Toulouse&#39;]\nLyon -&gt; Rennes: [&#39;Lyon&#39;, &#39;Paris&#39;, &#39;Rennes&#39;]\nLyon -&gt; Nancy: [&#39;Lyon&#39;, &#39;Nancy&#39;]\nMarseille -&gt; Nice: [&#39;Marseille&#39;, &#39;Nice&#39;]\nMarseille -&gt; Montpellier: [&#39;Marseille&#39;, &#39;Montpellier&#39;]\nMarseille -&gt; Toulouse: [&#39;Marseille&#39;, &#39;Montpellier&#39;, &#39;Toulouse&#39;]\nMarseille -&gt; Rennes: [&#39;Marseille&#39;, &#39;Lyon&#39;, &#39;Paris&#39;, &#39;Rennes&#39;]\nMarseille -&gt; Nancy: [&#39;Marseille&#39;, &#39;Lyon&#39;, &#39;Nancy&#39;]\nNice -&gt; Montpellier: [&#39;Nice&#39;, &#39;Marseille&#39;, &#39;Montpellier&#39;]\nNice -&gt; Toulouse: [&#39;Nice&#39;, &#39;Marseille&#39;, &#39;Montpellier&#39;, &#39;Toulouse&#39;]\nNice -&gt; Rennes: [&#39;Nice&#39;, &#39;Lyon&#39;, &#39;Paris&#39;, &#39;Rennes&#39;]\nNice -&gt; Nancy: [&#39;Nice&#39;, &#39;Lyon&#39;, &#39;Nancy&#39;]\nMontpellier -&gt; Toulouse: [&#39;Montpellier&#39;, &#39;Toulouse&#39;]\nMontpellier -&gt; Rennes: [&#39;Montpellier&#39;, &#39;Toulouse&#39;, &#39;Rennes&#39;]\nMontpellier -&gt; Nancy: [&#39;Montpellier&#39;, &#39;Marseille&#39;, &#39;Lyon&#39;, &#39;Nancy&#39;]\nToulouse -&gt; Rennes: [&#39;Toulouse&#39;, &#39;Rennes&#39;]\nToulouse -&gt; Nancy: [&#39;Toulouse&#39;, &#39;Paris&#39;, &#39;Nancy&#39;]\nRennes -&gt; Nancy: [&#39;Rennes&#39;, &#39;Paris&#39;, &#39;Nancy&#39;]\n\nSi la destination n&#39;est pas trouvée\n-----------------------------------\nNice -&gt; Tokyo: []\n\nPour vérification: Forme du graphe\n------------------------------------</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 446px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2020-2021/static/6d5d624ff0943a1db55b96bc1426e98a/6244b/cours_20_1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.70833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuUlEQVQ4y41TXU/bMBTN//8VvCDxMLEHnpjGNjSExBhTi7YxqeO7Qy1V0zpx/BXbZ7o3OCShSBzpxkl8fXzuV7b/YwJrDOq6hnOutXy5xN7JBaazBWLw/C+EgNcQ+RGR7Xw6wyrPoZSClJLNGIPF4yN2v45xM32AVlW7V5Ylr0IIzGZzHIyvsFjmTBkjkBExOQ1RSvlSRYzw3rNSUnxze4edg++4vf/H6khlRqxaa741SZdlySppjw4TEdlmhDYV5JMlx6IogOCZUtD7k8NwHZp1rjnbJUwHLq6nGE3ue4e7hK+BCL1vVHIOk+Tjn5d4dzjiMGInb0N1wwutNanOfYW+tkD0kLLiQnVzs4ko4WG+wOH4L+c96zoKUSC0t1puDSpY2g8dIvomAlVVGP/6g639b1zMHmExKAYh9WeCtY6/ybeqKtS1bza8ew6ZUDsHrVUbEk0OkWlt4JTE9sdTfDj9DaskjLW9kMl3JURDmMKgiXl/dI5gNYeeJoYIfe1wN88xzwtYo9tpobS0xXKmr3AtNURl8BZw/1n7NI4lVus1vowmcD40bRMHyd5kYdA2XVBqtj+PUCqL/zuHQwX+R+cvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2020-2021/static/6d5d624ff0943a1db55b96bc1426e98a/6244b/cours_20_1.png\"\n        srcset=\"/2020-2021/static/6d5d624ff0943a1db55b96bc1426e98a/8514f/cours_20_1.png 192w,\n/2020-2021/static/6d5d624ff0943a1db55b96bc1426e98a/804b2/cours_20_1.png 384w,\n/2020-2021/static/6d5d624ff0943a1db55b96bc1426e98a/6244b/cours_20_1.png 446w\"\n        sizes=\"(max-width: 446px) 100vw, 446px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"plus-court-chemin-dans-un-graphe-pondéré\" style=\"position:relative;\"><a href=\"#plus-court-chemin-dans-un-graphe-pond%C3%A9r%C3%A9\" aria-label=\"plus court chemin dans un graphe pondéré permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plus court chemin dans un graphe pondéré</h3>\n<p>Souvent, on s'intéressera plus précisément à la recherche du plus court chemin sur des graphes pondérés, c’est-à-dire sur lesquelles on ajoute un poids à l'arête, dans notre exemple, on pourrait ajouter les temps ou distance des routes entre chaque ville.</p>\n<p>On peut également citer le protocole réseau <a href=\"/2020-2021/tg/nsi/3-architectures-materielles-systemes-dexploitation-et-reseaux/3-protocoles-de-routage\">OSPF</a> qui vise à optimiser les vitesses de transmission à travers les réseaux.</p>\n<p>Il existe deux principaux algorithmes de plus court chemin, cette vidéo, vous présente l'algorithme de Dijkstra.</p>\n<details class=\"plus\"><summary>&nbsp;</summary><p><a href=\"https://www.youtube.com/watch?v=JPeCmKFrKio\" title=\"Cliquer pour voir la vidéo sur youtube.com\"><img src=\"https://img.youtube.com/vi/JPeCmKFrKio/0.jpg\" alt=\"Thumbnail of Youtube video JPeCmKFrKio\" title=\"Cliquer pour voir la vidéo sur youtube.com\" width=\"768\" class=\"center\"></a></p></details>\n<!--\nLe programme ne demandant que le recherche d'un chemin dans un graphe, je vous présente un algorithme de recherche de chemin qui indique simplement le chemin s'il existe sans s'assurer qu'il s'agit du plus court chemin.\n\nUtilisons un parcours en largeur pour faire cette recherche qui permettra de minimiser le nombre d'arêtes traversées par rapport à une recherche en profondeur.\n\n-->\n<p>Un article très détaillé et illustré est disponible à cette adresse: <a href=\"https://perso.liris.cnrs.fr/vincent.nivoliers/lifap6/Supports/Cours/graph_traversal.html\">https://perso.liris.cnrs.fr/vincent.nivoliers/lifap6/Supports/Cours/graph_traversal.html</a></p>\n<!--\n# On repart d'un graphe non annoté\nG = create_graph()\n\n# FONCTION parcours_largeur(Graphe G, Sommet s):\ndef recherche_chemin(G, départ=None, arrivée=None):\n    \"\"\"Recherche de chemin\n    \n    On se contente d'indiquer si le chemin existe\n    \n    Returns\n    -------\n    bool\n    \"\"\"\n    profondeur = 0\n    #f = CreerFile();\n    #f.enfiler(s);\n    f = [départ]\n    #marquer(s);\n    node = G.nodes[départ]\n    node[\"visited\"] =  True\n    #TANT QUE la file est non vide\n    while f:\n        #s = f.defiler();\n        s = f.pop()\n        #POUR TOUT voisin t de s dans G\n        for t in G.neighbors(s):\n            node = G.nodes[t]            \n            if t == arrivée:\n                return True\n            #SI t non marqué\n            elif not(node.get(\"visited\")):\n                #f.enfiler(t);\n                f.insert(0, t)\n                #marquer(t);\n                # marquer le sommet s\n                node[\"visited\"] =  True\n    return False\n                \n\nprint(\"Liste des noeuds visités par notre algorithme\")\nprint(\"---------------------------------------------\")\nprint(recherche_chemin(create_graph(), \"Nice\", \"Paris\"))\nprint(recherche_chemin(create_graph(), \"Nice\", \"Rennes\"))\nprint(recherche_chemin(create_graph(), \"Nice\", \"Massilia\"))\n# je ne sais pas d'ou vient ce dernier None!\n\nprint(\"\\nPour rappel: Forme du graphe\")\nprint(\"------------------------------\")\nnx.draw(G, with_labels=True, pos=nx.spring_layout(G))\n\n-->\n<div class=\"ref\"><ul>\n<li><a href=\"https://fr.wikipedia.org/wiki/Algorithme_de_parcours_en_profondeur\">Article Wikipédia sur l'Algorithme de parcours en profondeur</a></li>\n<li><a href=\"https://fr.wikipedia.org/wiki/Algorithme_de_parcours_en_profondeur\">Article Wikipédia sur l'Algorithme de parcours en largeur</a></li>\n</ul></div>","tableOfContents":"<ul>\n<li><a href=\"#pr%C3%A9sentation-du-module-networkx\">Présentation du module <code class=\"language-text\">networkx</code></a></li>\n<li>\n<p><a href=\"#parcourir-un-graphe\">Parcourir un graphe</a></p>\n<ul>\n<li><a href=\"#parcours-en-profondeur\">Parcours en profondeur</a></li>\n<li><a href=\"#impl%C3%A9mentation-en-python\">Implémentation en Python</a></li>\n<li><a href=\"#v%C3%A9rification-avec-networkx\">Vérification avec <code class=\"language-text\">networkx</code></a></li>\n<li><a href=\"#parcours-en-largeur\">Parcours en largeur</a></li>\n<li><a href=\"#impl%C3%A9mentation-en-python-1\">Implémentation en Python</a></li>\n<li><a href=\"#v%C3%A9rification-avec-networkx-1\">Vérification avec <code class=\"language-text\">networkx</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#rep%C3%A9rer-la-pr%C3%A9sence-dun-cycle\">Repérer la présence d'un cycle</a></p>\n<ul>\n<li><a href=\"#principe\">Principe</a></li>\n<li><a href=\"#impl%C3%A9mentation\">Implémentation</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#chercher-un-chemin-dans-un-graphe\">Chercher un chemin dans un graphe</a></p>\n<ul>\n<li><a href=\"#plus-court-chemin-dans-un-graphe-non-pond%C3%A9r%C3%A9\">Plus court chemin dans un graphe non pondéré</a></li>\n<li><a href=\"#plus-court-chemin-dans-un-graphe-pond%C3%A9r%C3%A9\">Plus court chemin dans un graphe pondéré</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"tags":["cours","terminale","lycée","numérique et sciences informatiques","nsi"]},"fields":{"classe":"tg","chapter":"Algorithmes sur les graphes","matter":"nsi","nChapter":"2","part":"Algorithmique","nPart":"5"}}},"pageContext":{"slug":"tg/nsi/5-algorithmique/2-algorithmes-sur-les-graphes","chapter":"Algorithmes sur les graphes"}},"staticQueryHashes":["604483588"]}