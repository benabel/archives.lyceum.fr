{"componentChunkName":"component---src-templates-cours-md-js","path":"/tg/nsi/5-algorithmique/5-recherche-textuelle","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\"><summary>Programme Officiel</summary><div><table class=\"table table-bordered table-hover\"><thead class=\"table-warning\"><tr><th colspan=\"1\" rowspan=\"1\"><p>Contenus</p></th><th colspan=\"1\" rowspan=\"1\"><p>Capacités attendues</p></th><th colspan=\"1\" rowspan=\"1\"><p>Commentaires</p></th></tr></thead><tbody><tr><td colspan=\"1\" rowspan=\"1\"><p>Recherche textuelle.</p></td><td colspan=\"1\" rowspan=\"1\"><p>Étudier l’algorithme de Boyer-\nMoore pour la recherche d’un\nmotif dans un texte.</p></td><td colspan=\"1\" rowspan=\"1\"><p>L’intérêt du prétraitement du motif\nest mis en avant.</p><p>L’étude du coût, difficile, ne peut\nêtre exigée.</p></td></tr></tbody></table></div><a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme complet</a></details>\n<blockquote>\n<p>La recherche d'une sous-chaine a des applications importantes en informatiques, par exemple dans\nles moteurs de recherche. Nous commencerons par une application naïve puis nous verrons qu'il est\nbien plus efficace de faire la recherche en sens inverse en partant du dernier caractère du mot\npour ne pas tester toutes les positions.</p>\n</blockquote>\n<h2 id=\"algorithme-naïf\" style=\"position:relative;\"><a href=\"#algorithme-na%C3%AFf\" aria-label=\"algorithme naïf permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Algorithme naïf</h2>\n<p>Nous allons appliquer une méthode itérative brute pour rechercher une sous-chaine dans une chaine\nde caractères.</p>\n<p>Nous allons avancer dans le texte caractère par caractère, puis si le caractère considéré\ncorrespond au premier caractère du mot, nous comparerons les caractères suivants à ceux du mot. si\nla recherche s'avère fructueuse on renvoie <code class=\"language-text\">True</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">recherche_mot</span><span class=\"token punctuation\">(</span>texte<span class=\"token punctuation\">,</span> mot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Recherche un mot dans un texte\n\n    Arguments\n    ---------\n    texte: str\n        le texte dans lequel on effectue la recherche\n    mot: str\n        le mot recherché\n\n    Returns\n    -------\n    bool\n        renvoie True si le mot est trouvé\n    \"\"\"</span>\n    N <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>texte<span class=\"token punctuation\">)</span>\n    n <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>mot<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span>N<span class=\"token operator\">-</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        trouvé <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n        <span class=\"token keyword\">while</span> recherche <span class=\"token keyword\">and</span> k <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> mot<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> texte<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span>k<span class=\"token punctuation\">]</span>\n                recherche <span class=\"token operator\">=</span> <span class=\"token boolean\">False</span>\n            k <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">if</span> recherche<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>L'exécution est relativement lente, la fonction doit tester <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi><mo>−</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">N-n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> positions dans <code class=\"language-text\">texte</code> et pour\nchacune effectuer jusqu'à <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi><mo>−</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">N-n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span> comparaisons, soit jusqu'à <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>N</mi><mo>−</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>×</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">(N-n)\\times n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>.</p>\n<p>La complexité de cet algorithme est dans le pire des cas <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mrow><mo fence=\"true\">(</mo><mo stretchy=\"false\">(</mo><mi>N</mi><mo>−</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo>×</mo><mi>n</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">O\\left( (N-n) \\times n \\right )</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span>, c'est\nune complexité quadratique <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mrow><mo fence=\"true\">(</mo><msup><mi>N</mi><mn>2</mn></msup><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">O\\left( N^2 \\right )</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.20001em;vertical-align:-0.35001em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">(</span></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size1\">)</span></span></span></span></span></span> car souvent <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi><mo>&gt;</mo><mo>&gt;</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">N &gt;&gt; n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>.</p>\n<p>Nous allons voir qu'il est beaucoup plus efficace de faire la recherche à l'envers à partir de la fin du mot.</p>\n<h2 id=\"lalgorithme-de-boyer-moore--version-simplifiée-de-horspool\" style=\"position:relative;\"><a href=\"#lalgorithme-de-boyer-moore--version-simplifi%C3%A9e-de-horspool\" aria-label=\"lalgorithme de boyer moore  version simplifiée de horspool permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>L'algorithme de Boyer-Moore : version simplifiée de Horspool</h2>\n<p>Nous allons étudier une version simplifiée du meilleur algorithme connu : l'algorithme de\nBoyer-Moore qui a été proposé par Nigel Horspool.</p>\n<p>Cet algorithme repose sur deux idées :</p>\n<ol>\n<li>On compare le mot de droite à gauche à partir de sa dernière lettre.</li>\n<li>On n'avance pas dans le texte caractère par caractère, mais on utilise un décalage dépendant de\nla dernière comparaison effectuée.</li>\n</ol>\n<h3 id=\"déroulement-de-lalgorithme\" style=\"position:relative;\"><a href=\"#d%C3%A9roulement-de-lalgorithme\" aria-label=\"déroulement de lalgorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Déroulement de l'algorithme</h3>\n<p>Nous considérons ici la recherche du motif <code class=\"language-text\">mot = &#39;dab&#39;</code> dans le texte <code class=\"language-text\">texte = &#39;abracadabra&#39;</code>.</p>\n<p>On commence la recherche à l'index 2 :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">abracadabra\ndab</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Il n'y a pas de correspondance à la fin du mot : <code class=\"language-text\">&#39;r&#39; != &#39;b&#39;</code>, donc on avance, mais de combien de caractères\navance-t-on. Pour le décider, on utilise le fait que le caractère <code class=\"language-text\">&#39;r&#39;</code> n'apparait pas dans le mot\ncherché, donc on peut avancer de <code class=\"language-text\">n = len(mot) = 3</code> caractères sans crainte de rater le mot.</p>\n<p>On recherche donc à l'indice 2 + 3 = 5 :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">abracadabra\n   dab</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Il n'y a pas de correspondance à la fin du mot : <code class=\"language-text\">&#39;a&#39; != &#39;b&#39;</code>, donc on avance, cependant, cette\nfois, comme le caractère <code class=\"language-text\">&#39;a&#39;</code> apparait pas dans le mot cherché en avant-dernière position, on ne\npeut avancer que de une case pour faire une comparaison en alignant les <code class=\"language-text\">&#39;a&#39;</code>.</p>\n<p>On recherche donc à l'indice 5 + 1 = 6 :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">abracadabra\n    dab</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Il n'y a pas de correspondance à la fin du mot : <code class=\"language-text\">&#39;d&#39; != &#39;b&#39;</code>, donc on avance, cependant, cette\nfois, comme le caractère <code class=\"language-text\">&#39;d&#39;</code> apparait dans le mot cherché en avant-avant-dernière\nposition(<em>première position, mais on doit lire à l'envers !</em>), on avance de deux cases pour faire\nune comparaison en alignant les <code class=\"language-text\">&#39;d&#39;</code>.</p>\n<p>On recherche donc à l'indice 6 + 2 = 8 :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">abracadabra\n      dab</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Maintenant lorsqu'on effectue les comparaisons à l'envers : les <code class=\"language-text\">&#39;b&#39;</code>, puis les <code class=\"language-text\">&#39;a&#39;</code>, puis les\n<code class=\"language-text\">&#39;d&#39;</code> correspondent. On a trouvé le mot on renvoie <code class=\"language-text\">VRAI</code>.</p>\n<h3 id=\"implémentation-en-python\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-en-python\" aria-label=\"implémentation en python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation en Python</h3>\n<p>Pour implémenter efficacement cet algorithme, on va passer par un pré-traitement du nom pour\nfacilement accéder au décalage à effectuer. On utilise un dictionnaire pour cela.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">pre_traitement</span><span class=\"token punctuation\">(</span>mot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Renvoie un dictionnaire avec pour clé la lettre et pour valeur le décalage\n\n    Arguments\n    ---------\n    mot: str\n    \n    Returns\n    -------\n    dict\n    \"\"\"</span>\n    n <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>mot<span class=\"token punctuation\">)</span>\n    décalages <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token comment\"># Il n'est pas nécéssaire d'inclure la dernière lettre</span>\n    <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> letter <span class=\"token keyword\">in</span> <span class=\"token builtin\">enumerate</span><span class=\"token punctuation\">(</span>mot<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        décalages<span class=\"token punctuation\">[</span>letter<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> i <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> décalages\n\n<span class=\"token comment\"># tests</span>\n<span class=\"token keyword\">assert</span> pre_traitement<span class=\"token punctuation\">(</span><span class=\"token string\">\"dab\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">assert</span> pre_traitement<span class=\"token punctuation\">(</span><span class=\"token string\">\"maman\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'a'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Maintenant la fonction de recherche :</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">recherche_mot_boyer</span><span class=\"token punctuation\">(</span>texte<span class=\"token punctuation\">,</span> mot<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Recherche un mot dans un texte avec l'algo de boyer-moore\n\n    Arguments\n    ---------\n    texte: str\n        le texte dans lequel on effectue la recherche\n    mot: str\n        le mot recherché\n\n    Returns\n    -------\n    bool\n        renvoie True si le mot est trouvé\n    \"\"\"</span>\n    N <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>texte<span class=\"token punctuation\">)</span>\n    n <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>mot<span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\"># création de notre dictionnaire de décalages</span>\n    décalages <span class=\"token operator\">=</span> pre_traitement<span class=\"token punctuation\">(</span>mot<span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\"># on commence à la fin du mot</span>\n    i <span class=\"token operator\">=</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">while</span> i <span class=\"token operator\">&lt;</span> N<span class=\"token punctuation\">:</span>\n        lettre <span class=\"token operator\">=</span> texte<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">if</span> lettre <span class=\"token operator\">==</span> mot<span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># On vérifie que le mot est là avec un slice sur texte</span>\n            <span class=\"token comment\"># On pourrait faire un while</span>\n            <span class=\"token keyword\">if</span> texte<span class=\"token punctuation\">[</span>i<span class=\"token operator\">-</span>n<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> mot<span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">True</span>\n        <span class=\"token comment\"># on décale</span>\n        <span class=\"token keyword\">if</span> lettre <span class=\"token keyword\">in</span> décalages<span class=\"token punctuation\">.</span>keys<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            i <span class=\"token operator\">+=</span> décalages<span class=\"token punctuation\">[</span>lettre<span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            i <span class=\"token operator\">+=</span> n\n        \n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n\n<span class=\"token comment\"># Quelques tests</span>\n<span class=\"token keyword\">assert</span> recherche_mot_boyer<span class=\"token punctuation\">(</span><span class=\"token string\">'abracadabra'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'dab'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">assert</span> recherche_mot_boyer<span class=\"token punctuation\">(</span><span class=\"token string\">'abracadabra'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'abra'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">assert</span> recherche_mot_boyer<span class=\"token punctuation\">(</span><span class=\"token string\">'abracadabra'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'obra'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">False</span>\n<span class=\"token keyword\">assert</span> recherche_mot_boyer<span class=\"token punctuation\">(</span><span class=\"token string\">'abracadabra'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bara'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">False</span>\n<span class=\"token keyword\">assert</span> recherche_mot_boyer<span class=\"token punctuation\">(</span><span class=\"token string\">'maman est là'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'maman'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">assert</span> recherche_mot_boyer<span class=\"token punctuation\">(</span><span class=\"token string\">'bonjour maman'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'maman'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">assert</span> recherche_mot_boyer<span class=\"token punctuation\">(</span><span class=\"token string\">'bonjour maman'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'papa'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">False</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<details class=\"appli\"><summary>&nbsp;</summary><p>Copier et tester ce code dans votre environnement, puis :</p><ol>\n<li>Ajouter des tests avec des cas limites.</li>\n<li>Remplacer <code class=\"language-text\">if texte[i-n+1:i+1] == mot:return True</code> par une boucle <code class=\"language-text\">while</code>, qui lit les\ncaractères de droite à gauche et retourne <code class=\"language-text\">True</code> si tous les caractères de <code class=\"language-text\">texte</code> et de <code class=\"language-text\">mot</code>\ncorrespondent à la position <code class=\"language-text\">i</code> considéré.</li>\n</ol></details>\n<div class=\"ref\"><ul>\n<li><a href=\"https://editions.lavoisier.fr/etudes-superieures/informatique-mp-pc-pt-psi/preaux/tec-et-doc/le-tout-en-un/livre/9782743022976\">Informatique MP-PC-PT-PSI</a></li>\n<li><a href=\"https://eduscol.education.fr/cid144156/nsi-bac-2021.html\">Ressources pour la NSI sur eduscol</a></li>\n</ul></div>","tableOfContents":"<ul>\n<li><a href=\"#algorithme-na%C3%AFf\">Algorithme naïf</a></li>\n<li>\n<p><a href=\"#lalgorithme-de-boyer-moore--version-simplifi%C3%A9e-de-horspool\">L'algorithme de Boyer-Moore : version simplifiée de Horspool</a></p>\n<ul>\n<li><a href=\"#d%C3%A9roulement-de-lalgorithme\">Déroulement de l'algorithme</a></li>\n<li><a href=\"#impl%C3%A9mentation-en-python\">Implémentation en Python</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"tags":["cours","terminale","lycée","numérique et sciences informatiques","nsi"]},"fields":{"classe":"tg","chapter":"Recherche textuelle","matter":"nsi","nChapter":"5","part":"Algorithmique","nPart":"5"}}},"pageContext":{"slug":"tg/nsi/5-algorithmique/5-recherche-textuelle","chapter":"Recherche textuelle"}},"staticQueryHashes":["604483588"]}