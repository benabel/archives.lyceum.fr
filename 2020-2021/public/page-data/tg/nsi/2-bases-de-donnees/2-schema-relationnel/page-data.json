{"componentChunkName":"component---src-templates-cours-md-js","path":"/tg/nsi/2-bases-de-donnees/2-schema-relationnel","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\"><summary>Programme Officiel</summary><div><table class=\"table table-bordered table-hover\"><thead class=\"table-warning\"><tr><th colspan=\"1\" rowspan=\"1\"><p>Contenus</p></th><th colspan=\"1\" rowspan=\"1\"><p>Capacités attendues</p></th><th colspan=\"1\" rowspan=\"1\"><p>Commentaires</p></th></tr></thead><tbody><tr><td colspan=\"1\" rowspan=\"1\"><p>Base de données\nrelationnelle.</p></td><td colspan=\"1\" rowspan=\"1\"><p>Savoir distinguer la structure\nd’une base de données de son\ncontenu.</p><p>Repérer des anomalies dans le\nschéma d’une base de données.</p></td><td colspan=\"1\" rowspan=\"1\"><p>La structure est un ensemble de\nschémas relationnels qui\nrespecte les contraintes du\nmodèle relationnel.</p><p>Les anomalies peuvent être des\nredondances de données ou des\nanomalies d’insertion, de\nsuppression, de mise à jour.</p><p>On privilégie la manipulation de\ndonnées nombreuses et\nréalistes.</p></td></tr></tbody></table></div><a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme complet</a></details>\n<blockquote>\n<p>Nous allons voir plus en détail ce que sont les bases de données relationnelles, et mettre en\névidence quelques anomalies qui peuvent être rencontrées.</p>\n</blockquote>\n<h2 id=\"vocabulaire\" style=\"position:relative;\"><a href=\"#vocabulaire\" aria-label=\"vocabulaire permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vocabulaire</h2>\n<p>Nous allons définir le vocabulaire de l'algèbre relationnelle inventée en 1970 par Edgar Frank\nCodd, et le mettre en relation avec le vocabulaire plus abordable des tableaux.</p>\n<p><a title=\"Puerto01 at French Wikipedia, CC BY-SA 3.0 <http://creativecommons.org/licenses/by-sa/3.0/>, via Wikimedia Commons\" href=\"https://commons.wikimedia.org/wiki/File:Table_relationnel.png\"><img width=\"512\" alt=\"Table relationnel\" src=\"https://upload.wikimedia.org/wikipedia/commons/f/fd/Table_relationnel.png\"></a></p>\n<dl class=\"def\" data-terme=\"Relation\"><dt>Relation</dt><p>Dans le modèle relationnel, les données sont stockées dans des tables, aussi appelées <strong>relations</strong>.</p></dl>\n<p>L'illustration ci-dessus présente une relation appelée <code class=\"language-text\">voiture</code>.</p>\n<dl class=\"def\" data-terme=\"Attribut\"><dt>Attribut</dt><p>Le nom d'une colonne d'une relation est appelé <strong>attribut</strong>.</p></dl>\n<p>La relation <code class=\"language-text\">voiture</code> possède trois attributs: <code class=\"language-text\">marque</code>, <code class=\"language-text\">couleur</code> et <code class=\"language-text\">plaque</code>.</p>\n<dl class=\"def\" data-terme=\"n-uplet\"><dt>n-uplet</dt><p>Un enregistrement (ligne) d'une relation est appelé <strong>n-uplet</strong>.</p></dl>\n<div class=\"examples\"><ul>\n<li><code class=\"language-text\">ID voiture</code>, <code class=\"language-text\">marque</code> de la table voiture.</li>\n<li><code class=\"language-text\">ID carburant</code>, <code class=\"language-text\">type</code> de la table carburant.</li>\n</ul></div>\n<dl class=\"def\" data-terme=\"Domaine\"><dt>Domaine</dt><p>Le <strong>domaine</strong> d'un attribut est l'ensemble des valeurs qui peuvent être prises par cet attribut.</p></dl>\n<div class=\"examples\"><p>Une base de donnée <a href=\"https://www.sqlite.org/datatype3.html#storage_classes_and_datatypes\">sqlite</a> il n'y a que cinq domaines de valeurs possibles:</p><ul>\n<li><code class=\"language-text\">NULL</code>. La valeur est une valeur NULL.</li>\n<li><code class=\"language-text\">INTEGER</code>. La valeur est un entier signé, stocké dans 1, 2, 3, 4, 6 ou 8 octets en fonction de\nl'amplitude de la valeur.</li>\n<li><code class=\"language-text\">REAL</code>. La valeur est une valeur à virgule flottante, stockée sous forme de nombre à virgule\nflottante IEEE de 8 octets.</li>\n<li><code class=\"language-text\">TEXT</code>. La valeur est une chaîne de texte, stockée à l'aide du codage de la base de données\n(UTF-8, UTF-16BE ou UTF-16LE).</li>\n<li><code class=\"language-text\">BLOB</code>. La valeur est une donnée binaire brute, stocké exactement comme elle a été entrée.</li>\n</ul><p>En MariaDb il y a beaucoup plus de types avec notamment des formats pour les dates <a href=\"https://mariadb.com/kb/en/data-types/\">(voir\ndoc)</a>.</p></div>\n<p>Pour résumer, le tableau suivant montre celui, rigoureux, issu de l'algèbre relationnelle et celui,\nplus vague, correspondant à la représentation par table. Les termes de chaque ligne seront\nconsidérés comme équivalents, mais on privilégiera les premiers qui sont plus précis.</p>\n<div><table class=\"table table-bordered table-hover\"><thead class=\"table-warning\"><tr><th colspan=\"1\" rowspan=\"1\"><p>Terme de l'algèbre relationnelle</p></th><th colspan=\"1\" rowspan=\"1\"><p>Terme de la représentation par table</p></th></tr></thead><tbody><tr><td colspan=\"1\" rowspan=\"1\"><p>Relation</p></td><td colspan=\"1\" rowspan=\"1\"><p>Table</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><p>n-uplet</p></td><td colspan=\"1\" rowspan=\"1\"><p>ligne</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><p>Nom d’attribut</p></td><td colspan=\"1\" rowspan=\"1\"><p>Nom de colonne</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><p>Valeur d’attribut</p></td><td colspan=\"1\" rowspan=\"1\"><p>Cellule</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><p>Domaine</p></td><td colspan=\"1\" rowspan=\"1\"><p>Type</p></td></tr></tbody></table></div>\n<p><em class=\"cite-source\"><a href=\"http://sql.bdpedia.fr/relationnel.html#le-schema\">Philippe Rigaux sur\nsql.dbpedia.fr CC-BY-NC-SA</a></em></p>\n<h2 id=\"clés-primaire-et-secondaire\" style=\"position:relative;\"><a href=\"#cl%C3%A9s-primaire-et-secondaire\" aria-label=\"clés primaire et secondaire permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Clés primaire et secondaire</h2>\n<div class=\"def terme=&#x22;Clé primaire&#x22;\"><p>Chaque ligne de la table doit comporter un attribut qui l'identifie de façon <strong>unique</strong>, on\nl'appelle la <strong>clé primaire</strong>.</p></div>\n<div class=\"examples\"><ul>\n<li>Dans la table <code class=\"language-text\">voiture</code> l'attribut <code class=\"language-text\">plaque</code> pourrait constituer la clé primaire.</li>\n<li>En s'inscrivant sur un site, on vous impose d'utiliser un <code class=\"language-text\">identifiant</code> unique pour créer votre\nligne dans la base de données.</li>\n<li>L'email d'un utilisateur peut servir de clé primaire, mais ce n'est pas conseillé.</li>\n</ul></div>\n<details class=\"plus\"><summary>&nbsp;</summary><p>On préférera utiliser une clé primaire complètement indépendante des données métier, afin de\ns'assurer que le champ est toujours rempli et n'évolue pas dans le temps.</p><p>Toutes les bases de données proposent des mécanismes prenant en charge une numérotation utilisable\npour les clés primaires. </p></details>\n<div class=\"def terme=&#x22;Clé secondaire&#x22;\"><p>Une clé secondaire ou <strong>clé étrangère</strong> est une clé utilisée dans une table pour faire référence à\nun enregistrement d'une autre table.</p></div>\n<p><a href=\"https://commons.wikimedia.org/wiki/File:Relation.png#/media/File:Relation.png\"><img src=\"https://upload.wikimedia.org/wikipedia/commons/5/59/Relation.png\" alt=\"Relation.png\"></a><br>By <a href=\"https://en.wikipedia.org/wiki/fr:User:Puerto01\" class=\"extiw\" title=\"w:fr:User:Puerto01\">Puerto01</a> at <a href=\"https://en.wikipedia.org/wiki/fr:\" class=\"extiw\" title=\"w:fr:\">French Wikipedia</a>, <a href=\"https://creativecommons.org/licenses/by/2.5\" title=\"Creative Commons Attribution 2.5\">CC BY 2.5</a>, <a href=\"https://commons.wikimedia.org/w/index.php?curid=16455198\">Link</a></p>\n<div class=\"example\"><p>Dans la table <code class=\"language-text\">voiture</code> l'attribut <code class=\"language-text\">ID carburant</code> fait référence à la table de carburants: c'est\nune clé étrangère de la table <code class=\"language-text\">voiture</code>.</p></div>\n<p>L'ensemble constitué d'une <em>clé primaire</em> et d'une <em>clé étrangère</em> sert à établir des <em>relations</em> entre tables.</p>\n<h2 id=\"contraintes-dintégrité\" style=\"position:relative;\"><a href=\"#contraintes-dint%C3%A9grit%C3%A9\" aria-label=\"contraintes dintégrité permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contraintes d'intégrité</h2>\n<p>Les SGBD modernes permettent de garder les données conformes au modèle relationnel. <strong>Trois types\nde contraintes d'intégrité</strong> font partie intégrante du modèle de données relationnel:</p>\n<ul>\n<li><strong>L'intégrité de clé primaire</strong>: cette règle stipule que chaque table doit avoir une clé primaire\net que la ou les colonnes choisies pour être la clé primaire doivent être uniques et non nulles.</li>\n</ul>\n<div class=\"example\"><p>Dans la table <code class=\"language-text\">voiture</code> l'ID voiture ne pourrait pas être choisi comme clé primaire car deux\nenregistrements ont la valeur 1.</p></div>\n<ul>\n<li><strong>L'intégrité référentielle</strong> est une situation dans laquelle pour chaque information d'une table\nA qui fait référence à une information d'une table B, l'information référencée existe dans la\ntable B.</li>\n</ul>\n<div class=\"example\"><p>Si vous tentez de supprimer la ligne 2 de la table carburant, le SGBD vous le refusera en raison de\nsa présence dans la table des voitures à la ligne de la BMW.</p></div>\n<ul>\n<li><strong>L'intégrité du domaine</strong> spécifie que toutes les colonnes d'une base de données relationnelle\ndoivent être déclarées sur un domaine défini.</li>\n</ul>\n<div class=\"example\"><p>S'assurer qu'une valeur est bien un email, un numéro de téléphone ou un code postal.</p></div>\n<p>Une fois la contrainte déclarée, le SGBD refusera toute modification du contenu de la base de\ndonnées qui violerait une de ces règles et casserait l'intégrité. </p>\n<h2 id=\"exemples-danomalies\" style=\"position:relative;\"><a href=\"#exemples-danomalies\" aria-label=\"exemples danomalies permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exemples d'anomalies</h2>\n<p>Nous allons montrer sur un l'exemple d'une base de donnée de DVD <em>mal construite</em> quels types\nd'anomalies peuvent apparaitre.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.14583333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABXElEQVQY0yWR246jMBBE8/9/luwokSarsKNwa2Nj6LYxjIxvkLCCnPcqnVKdNOfu5+e3666329fXn9v1Wpbl4/EQQozGKKW01krR+XyuAXjTXC4X1rC/93tVVScpJec8hICIUsrX6xVj5Jznec4510qLth0GUxR503CtNSJaa7uuizGesO8ZYzFGRFRKreuaUhJCFGWhlPLeO+e89wCg9WDMME5jiBEAvPenvusQaV0WIur7PqW0LEvXdYwxACgPvHNCCMSeEOd57+Kcb9t2km37L8ucc0oREW3bllJsmub5fCKi995a65yrqoqUGobBGBNCAADn3L75+/5trSUi2bYfbYA6y7JxNNuBc67I80PbEFEIoSiKaZr2MBKt664tpfyEpZRQ14yxtm2rqjLGANSc8+FgnudxHHdtxF4pFWOUBzGlz0IAOLpe67pYaxljuznt303TZEbzfr//A7h+uKxkIy7PAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"exemple de table de DVDs\"\n        title=\"exemple de table de DVDs\"\n        src=\"/2020-2021/static/b9c17be41e0b7f1face0b5123aeab92c/e5715/table-univ-orleans.png\"\n        srcset=\"/2020-2021/static/b9c17be41e0b7f1face0b5123aeab92c/8514f/table-univ-orleans.png 192w,\n/2020-2021/static/b9c17be41e0b7f1face0b5123aeab92c/804b2/table-univ-orleans.png 384w,\n/2020-2021/static/b9c17be41e0b7f1face0b5123aeab92c/e5715/table-univ-orleans.png 768w,\n/2020-2021/static/b9c17be41e0b7f1face0b5123aeab92c/4ad3a/table-univ-orleans.png 1152w,\n/2020-2021/static/b9c17be41e0b7f1face0b5123aeab92c/03914/table-univ-orleans.png 1173w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><em class=\"cite-source\"><a href=\"https://www.univ-orleans.fr/lifo/Members/Mirian.Halfeld/Cours/BD/iutA2-intro.pdf\">Mirian Halfeld-Ferrari Université d'Orléans</a></em></p>\n<p>Comme vous le voyez cette table est mal construite:</p>\n<ul>\n<li>Les données sont <em>redondantes</em>: À chaque fois qu’un film apparaît, les valeurs pour le genre,\nlength et rating apparaissent aussi.</li>\n<li>Les attributs concernent à la fois le DVD et le film, il <strong>faudrait créer des tables\nséparées</strong>.</li>\n</ul>\n<p>Maintenant intéressons-nous aux anomalies qui pourraient se présenter:</p>\n<ul>\n<li><strong>Anomalie de mise à jour</strong>: Que se passe-t-il si le film <code class=\"language-text\">Elisabeth</code> est renommé <code class=\"language-text\">Élisabeth</code>\npour satisfaire les clients francophones?</li>\n<li><strong>Anomalie d’insertion</strong>: Que se passe-t-il avec l’insertion du n-uplet : <code class=\"language-text\">〈102,1/1/99,\nElisabeth, drama,110, PG13〉</code></li>\n<li><strong>Anomalie de suppression</strong>: Que se passe-t-il lors de la suppression du DVD numéro <code class=\"language-text\">123</code>?</li>\n</ul>\n<details class=\"plus\" data-titre=\"Comment concevoir une base de données bien structurée?\"><summary>Comment concevoir une base de données bien structurée?</summary><p>Une base de données bien structurée:</p><ul>\n<li>Économise de l'espace disque en éliminant les données redondantes.</li>\n<li>Maintient l'exactitude et l'intégrité des données.</li>\n<li>Fournit un accès facile aux données utiles.</li>\n</ul><p>Le processus de conception peut-être scindé comme suit:</p><ol>\n<li>Analyse des besoins, ou identification de l'objectif de votre base de données.</li>\n<li>Organisation des données en tableaux.</li>\n<li>Spécification des clés primaires et analyse des relations.</li>\n</ol></details>","tableOfContents":"<ul>\n<li><a href=\"#vocabulaire\">Vocabulaire</a></li>\n<li><a href=\"#cl%C3%A9s-primaire-et-secondaire\">Clés primaire et secondaire</a></li>\n<li><a href=\"#contraintes-dint%C3%A9grit%C3%A9\">Contraintes d'intégrité</a></li>\n<li><a href=\"#exemples-danomalies\">Exemples d'anomalies</a></li>\n</ul>","frontmatter":{"tags":["cours","terminale","lycée","numérique et sciences informatiques","nsi"]},"fields":{"classe":"tg","chapter":"Schéma relationnel","matter":"nsi","nChapter":"2","part":"Bases de données","nPart":"2"}}},"pageContext":{"slug":"tg/nsi/2-bases-de-donnees/2-schema-relationnel","chapter":"Schéma relationnel"}},"staticQueryHashes":["604483588"]}