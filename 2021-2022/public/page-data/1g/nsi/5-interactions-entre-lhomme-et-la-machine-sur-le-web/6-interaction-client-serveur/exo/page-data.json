{"componentChunkName":"component---src-templates-exo-md-js","path":"/1g/nsi/5-interactions-entre-lhomme-et-la-machine-sur-le-web/6-interaction-client-serveur/exo","result":{"data":{"markdownRemark":{"html":"<h2 id=\"tp-sur-lapplication-web-serveur-en-python\" style=\"position:relative;\"><a href=\"#tp-sur-lapplication-web-serveur-en-python\" aria-label=\"tp sur lapplication web serveur en python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TP sur l'application web serveur en python</h2>\n<p>Vous allez créer une application web, avec un serveur écrit en python,\ntelle que décrite dans le cours.</p>\n<p>Le code est disponible dans ce dépôt\n<span><a href=\"https://framagit.org/lyceum/flask-csv\">framagit</a></span> au\nformat\n<span><a href=\"https://framagit.org/lyceum/flask-csv/-/archive/master/flask-csv-master.zip\">zip</a></span>.\nTéléchargez-le, puis dézippez-le.</p>\n<p>Ouvrir le <strong>dossier</strong> dans Visual Studio Code.</p>\n<p>Lancer l'application en tapant dans le terminal de vscode:\n<code class=\"language-text\">python flask-csv.py</code></p>\n<p>Vous pourrez alors ouvrir votre navigateur pour observer son\nfonctionnement à l'adresse locale : <a href=\"http://localhost:5000\">http://localhost:5000</a></p>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/29114/screenshot-vscode-firefox-flask-app.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB9UlEQVQoz3WR3WvTUBiH81+IheakOZ9JTpJ2rk3HFDYVb0T89/TWexWFCU7t1aAXCq441rqWIXNOceKaHJbk5CQ5slZURH+8vHcPz/th9PtrQRDatg0RYsxhGGNMucuhjYIgnMexSJKPx59OPn+Jk6RYJE1TWRRlWRpRtNbtRhhhSIgXcNdlhFLmUoRt7nMhRC7lfB7HSZLluZQyy7KiKMqq0lobvV5vZWUVQtiCMGx3HIdRSh2XQQQ9zxVCFEqpssyyTClV13WapnVd60WM1V633e7Ytg0AsBEhhCKEeOA7nsO5J4SolJJ5li6EWutl/wn7fkAIhRACABBhCCEAAKEk6PCwE6ZCjE7Pdk++6qq8GKAslVJVVS3lBuccQrSALUwYwtiyAEGYMuoHvkiSuKzP8t+2P2Nw7iOEIYRWq0X9AFFiNk3TNBuNBqVUCKG1/rXk37Dvh2ixKiaEui51HIgQoRQAy+M8SRKt9fK2/4JdBi3gERSF3MeQWiYBTQKarcuXPIKX8H/NV67fwb1Nvn6rc+NuuHGbr9/0r26w6BoI+m60efrtu1TV+Xma57IoCillvqz84unG1s7o3qPBk2fD+4P3D7aHD18Nnw+GT7d3tl7sPH45fPd29Hpv+mZ3b7q/f3R0PDv8cHhwMJ2MZ5PJbDz+ATZNhDUn/+c5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"copie d&#39;écran de\ndéveloppement\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/fcda8/screenshot-vscode-firefox-flask-app.png\"\n        srcset=\"/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/12f09/screenshot-vscode-firefox-flask-app.png 148w,\n/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/e4a3f/screenshot-vscode-firefox-flask-app.png 295w,\n/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/fcda8/screenshot-vscode-firefox-flask-app.png 590w,\n/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/efc66/screenshot-vscode-firefox-flask-app.png 885w,\n/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/c83ae/screenshot-vscode-firefox-flask-app.png 1180w,\n/2021-2022/static/1729bd2457a2f4595ebee3942d40eae0/29114/screenshot-vscode-firefox-flask-app.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></span></p>\n<p>L'application présente trois pages accessibles au adresse:</p>\n<ul>\n<li><code class=\"language-text\">/</code> page racine: affiche la liste des élèves</li>\n<li><code class=\"language-text\">/ajout</code> ajout d'élève avec un formulaire GET.</li>\n<li><code class=\"language-text\">/ajout_post</code> ajout d'élève avec un formulaire POST.</li>\n</ul>\n<p>Vous pourrez parcourir le code, et le modifier:</p>\n<ul>\n<li>\n<p>côté <strong>serveur</strong> : fichier <code class=\"language-text\">flask-csv.py</code> (langage serveur :\n<code class=\"language-text\">python</code>)</p>\n<p>Ce fichier contient le code permettant de traiter les trois pages\ncôté serveur.</p>\n<p>Par exemple la page racine:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>route</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">index_page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token string\">\"Page d'accueil qui liste les élèves.\"</span>\n\n    <span class=\"token keyword\">return</span> render_template<span class=\"token punctuation\">(</span><span class=\"token string\">\"index.html\"</span><span class=\"token punctuation\">,</span> data<span class=\"token operator\">=</span>g<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>La première ligne indique le chemin(<em>route</em>) vers la page, ici <code class=\"language-text\">/</code>\ncomme on est à la racine.</p>\n<p>la dernière indique que l'on renvoie la page <code class=\"language-text\">index.html</code> dans\nlaquelle on a fait passer les données <code class=\"language-text\">data</code> du fichier <code class=\"language-text\">csv</code>.</p>\n</li>\n<li>\n<p>côté <strong>client</strong> :</p>\n<p>Toutes les pages html se trouvent dans le dossier <code class=\"language-text\">pages</code>. fichier\n<code class=\"language-text\">pages/index.html</code> (langage client <code class=\"language-text\">html</code>)</p>\n</li>\n</ul>\n<p><strong>Travail proposé</strong></p>\n<ol>\n<li>Traiter les données avec le formulaire dans la fonction\n<code class=\"language-text\">post_form_page</code> du fichier <code class=\"language-text\">flask_csv.py</code>.</li>\n<li>Ajouter <strong>coté client</strong> des entrées au formulaire pour stocker\nd'autres informations, par exemple l'âge. Modifier le code côté\nserveur pour stocker correctement ces nouvelles entrées dans le\nfichier <code class=\"language-text\">csv</code>.</li>\n<li>Ajouter une validation du champ âge <strong>côté client</strong> pour vérifier\nque l'age est bien supérieur à 14 ans.</li>\n<li>Travailler <strong>à la fois du côté du client et du serveur</strong> pour\nproposer à l'utilisateur de supprimer une entrée.</li>\n</ol>","fields":{"classe":"1g","chapter":"Interaction client–serveur","matter":"nsi","nChapter":"6","part":"Interactions entre l'homme et la machine sur le Web","nPart":"5","type":"exo"}}},"pageContext":{"slug":"1g/nsi/5-interactions-entre-lhomme-et-la-machine-sur-le-web/6-interaction-client-serveur/exo"}},"staticQueryHashes":["604483588"]}