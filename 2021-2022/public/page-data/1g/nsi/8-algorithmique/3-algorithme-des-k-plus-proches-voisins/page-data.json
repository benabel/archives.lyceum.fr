{"componentChunkName":"component---src-templates-cours-md-js","path":"/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\">\n<summary>\nProgramme Officiel\n</summary>\n<table class=\"table table-bordered table-hover\">\n<thead class=\"table-warning\">\n<tr class=\"header\">\n<th>\nContenus\n</th>\n<th>\nCapacités attendues\n</th>\n<th>\nCommentaires\n</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>\nAlgorithme des k plus proches voisins\n</td>\n<td>\nÉcrire un algorithme qui prédit la classe d'un élément en fonction de la\nclasse majoritaire de ses k plus proches voisins.\n</td>\n<td>\nIl s'agit d'un exemple d'algorithme d'apprentissage.\n</td>\n</tr>\n</tbody>\n</table>\n<a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme\ncomplet</a>\n</details>\n<p>Dans ce chapitre nous abordons un algorithme dit d'<strong>apprentissage\nautomatique</strong> qui permet à un programme d'apprendre à classer des\n« objets » en utilisant un jeu de données pour qu'il y trouve des\nsimilarités.</p>\n<p>C'est un algorithme simple de <em>« machine learning »</em> un sujet très en\nvogue à l'heure actuelle dans le domaine de l'informatique.</p>\n<h2 id=\"principe\" style=\"position:relative;\"><a href=\"#principe\" aria-label=\"principe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe</h2>\n<h3 id=\"principe-de-lapprentissage-supervisé\" style=\"position:relative;\"><a href=\"#principe-de-lapprentissage-supervis%C3%A9\" aria-label=\"principe de lapprentissage supervisé permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe de l'apprentissage supervisé</h3>\n<p>A l'heure actuelle, l'intelligence artificielle se base souvent sur\nl'utilisation de données annotées que l'on fournit à l'ordinateur pour\nqu'il y trouve des similarités(c'est ce que l'on appele de\nl'apprentissage supervisé).</p>\n<div class=\"example\">\n<p>On peut fournir à un programme une grande quantité d'écritures de\nchiffres.</p>\n<p>Le programme va lire toutes les données, et grâce à des algorithmes plus\nou moins évolués, le programme va trouver les points communs entre les\nchiffres représentant le même nombre.\n<a title=\"Josef Steppan / CC BY-SA (https://creativecommons.org/licenses/by-sa/4.0)\" href=\"https://commons.wikimedia.org/wiki/File:MnistExamples.png\"><img width=\"512\" alt=\"MnistExamples\" src=\"https://upload.wikimedia.org/wikipedia/commons/2/27/MnistExamples.png\"></a></p>\n<p>Ensuite, on peut donner au programme une image non annotée, et il nous\ndira s'il s'agit d'un 1, d'un 6 ou d'un 8...</p>\n<p>C'est un système qui est utilisé depuis des années pour la lecture des\ncodes postaux sur les lettres avec un efficacité supérieure à 99%.</p>\n</div>\n<h3 id=\"principe-lalgorithme-des-k-plus-proches-voisins\" style=\"position:relative;\"><a href=\"#principe-lalgorithme-des-k-plus-proches-voisins\" aria-label=\"principe lalgorithme des k plus proches voisins permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe l'algorithme des k plus proches voisins</h3>\n<p>On dispose d'une collection de données annotées, et on veut savoir à\nquelle catégorie appartient un nouvel échantillon. Il s'agit d'un\nproblème de <strong>classification</strong>.</p>\n<p>Prenons l'exemple suivant issu de cette\n<span><a href=\"https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/\">page</a></span>.</p>\n<blockquote>\n<p>Imaginons... On étudie des papillons. Ceux-ci ont une certaine largeur\net une certaine longueur. Certains sont des males, d'autres des\nfemelles.</p>\n<p>On étudie un certain nombre de ces papillons. Cela constitue un jeu\nd'apprentissage dont les caractéristiques sont représentées\nci-dessous.</p>\n<p>A partir de ce jeu d'apprentissage, on cherche à prédire le sexe d'un\npapillon dont on connaît les dimensions.</p>\n</blockquote>\n<blockquote>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABXklEQVQoz32R3WrjQAyFe+eLTN57m7uQZP1shUJJNnYMtUlmxvod2bO4k5YGunsuhBjpY46kJ+fc21vLbIgkRP56HUdAJByBkJkZRmBmEeFPpZTatnXOPTnnuq7LOSfVvh+athURMxOVSFFUQNFsEhH9VM6567r1er3Ar69n73MpxxhF5ApXYGAhThqHd2ubMATihRSReZ4vl8sdfvnz0luPgpNNgCAik02qSkye/eh99GiTmaWU0tfPD7ZVNaWEgMQEDCmlgDEESh9MSgrAIkvPPM8/wwBQYFX16EUWhllDQERhXkb7HywslqzspsDF7UfQB9ur1ep0OolIjBEAbrfb+E0AgAjfX2KMRHQ8Hu9w0zRmhricNYRAROWeJSkREc/ns/d+mUG1aZq77WEYcs7zPBfz0zTlf6u09f2wwFVVbTabuq53u91+v99utyX50uFw2D/qd13/en6uquov9BEpVsYmYcoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Classification des\npapillons\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/f93143296c3d3778756685ad22d4a5a2/fcda8/geogebra-papillons.png\"\n        srcset=\"/2021-2022/static/f93143296c3d3778756685ad22d4a5a2/12f09/geogebra-papillons.png 148w,\n/2021-2022/static/f93143296c3d3778756685ad22d4a5a2/e4a3f/geogebra-papillons.png 295w,\n/2021-2022/static/f93143296c3d3778756685ad22d4a5a2/fcda8/geogebra-papillons.png 590w,\n/2021-2022/static/f93143296c3d3778756685ad22d4a5a2/efc66/geogebra-papillons.png 885w,\n/2021-2022/static/f93143296c3d3778756685ad22d4a5a2/c83ae/geogebra-papillons.png 1180w,\n/2021-2022/static/f93143296c3d3778756685ad22d4a5a2/29114/geogebra-papillons.png 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></span></p>\n</blockquote>\n<blockquote>\n<p>L'objectif est maintenant d'identifier le sexe d'un nouveau papillon\nen s'appuyant sur notre expérience précédente.</p>\n<p><strong>Le principe est simple : On fait l'hypothèse que notre papillon a le\nmême sexe que ces voisins.</strong></p>\n</blockquote>\n<p>On voit par exemple que le voisin le plus proche est un paillon mâle:</p>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 159px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85.13513513513513%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACY0lEQVQ4y4VTy07jQBDMR/ALXPkp7nBm73wAB84g5YZAAiGRvcQQLFtBWbKLSCS8RECISIC8bGNPz/RMT6+cQQmwK20dWprxtPtRVSVjDBEBACISkTFGG11ErQHA3cwjAGhdfHXHkjsAgFLK5bBlIkJEIYS7mUchBCLqGYwxX5Mt2YfhwzSbaiwqW2tdWdfX12TXgJQSES1bRl45Wtn6ucXM02SazkBE7i8A4N47lGCGNE2zLAMJUsj2c/tucNe4aHie5/v+ea3mn59fX18bY9I0zbMMAIQQAFBybQghpJRaayKKJ7FX9brdrhDCWmuZQcpmsxmEoZBSaY2IClEjfpqZiJRSVa8axzEz51lWPB0MaDxm5uj37x+1Gis1335pzoGUkpnb7XYURcyslAIhLDNXKlwuU7nMJyfh5ubbzg4fHNDxMSXJIlkpxcxhGBZlrdVEcjyOz86gXrevrxQEHEWtMLzxPO52db9PAKWPIjHGBEFQsFKQZrNOp7W83FlbY2OwmJ3vHx879/fMjDMCFgtzrDYuGkmSGK2V1uLlZbS3l9RqRimRARvq3N5+29h47vftjPkFVXmWCxS7ld0oiqy1WZalb2/aGIkolYzjCbM9PT1bX1+v1+vFOvP8ve1c5MXAvXCpvLR/tG/JOj0phdbScJisrkaVSvPysk5k3YALbTvdCSm6026v16tWq5PJBBF5BqX09vbp4eF3KYXzxSd5uoVZ60TBo9HI9/0gCFqt1tXVVRAENze/iPR/XKUK8aBT8nA4fHp6GgwGM29aY0ye5/8wxkc/OyCikw3zu0P/9vMfyhm1bpLk3+8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"k=1\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png\"\n        srcset=\"/2021-2022/static/67af857cfe8fa6faf1e98c96b10a70eb/12f09/geogebra-1voisin.png 148w,\n/2021-2022/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png 159w\"\n        sizes=\"(max-width: 159px) 100vw, 159px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></span></p>\n<p>Cependant la particularité de l'algorithme des k plus proches voisins\nest le fait que l'on puisse choisir <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span>, le nombre de plus proches\nvoisins nous permettant de faire notre choix, on va prendre plusieurs\nvoisins pour éviter de se baser que sur une observation pour notre\nchoix.</p>\n<p>Voici par exemple l'application pour <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">k=5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">5</span></span></span></span></span>:</p>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 245px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACiElEQVQ4y01TPW/bQAz1b87f6Nx06Z4pS5cMRVAgQ1EURdPYsRTp5M84lVXJUSRb90HyyOJ0QVpO1Oke+fj4bmKt1VoDgHOOiNbr9f39/W63q+saEUVEa73f79M0TZJEa42IwzDAGBNEtNZ670WkKAqlFBGJCBEBABHFX0TUtu1sNuu6DhHj+cSTJwi31+v1crkUkXCbJdb23tMY1loRMcbc3d0Nw8DMRDT5/vv7x/lHOtE8mTOzsYaBz+/PN88bIUHC2McYAwAicjgc0jQVEUSc1F392D3mD/nhcAAArbWzbrafPffPVhuHaIkcwMmM+ajLbDZr2zaAhcVpp5SKDBGRmUNhgJAdj75tGQCaxmst4jfb4cOHn1X1KCITZq6qarVaiYgbI4hBFHOfZfz5M3/6RDc3fHXFi8IgP+2es+whgEWkaZrNZhPHiJ3Zexbprq62Z2eC5E+DM4YBeFyEMSelVAAjYlmWi8WCmfUYgx6stQbguFy2X78SWs94GgYHkY17eXlJkiSo7b1vDk2xKEJJZ8TLux/vptVUvBgX5P327c+XL3sRN6oe1ts0zWKxCJ0BgJlVrow15AkBO9s5cogIAcx1PVTVgOiioiKy3W77vn+d+VJdXv66rHc1CwOGbsz8ZpLRYRxdGMEXFxdx1RMCmpfzp/4pS7Oqqna7Y98PceHGGOectdY5dzqdgvjeK6Wur6+n0+kr7ZG5WGtvb3++f3/bde7/tUWHxWmzLNtut+M2fDDJ28MI3jQmz5PNZq21fiMZX0VZlkmSlGUZHf76MBDROReNHo+qqiqKIk3TPM9Xq1U+hlLKGBO9EPn/A8ePoDC8CmatPR6Pfd9baxExUosN3sB/ARtYwo8jV3U3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"k=5\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png\"\n        srcset=\"/2021-2022/static/149fcbf4c88f134c75494257d35e417d/12f09/geogebra-5-voisins.png 148w,\n/2021-2022/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png 245w\"\n        sizes=\"(max-width: 245px) 100vw, 245px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></span></p>\n<details class=\"appli\">\n<summary>\nInfluence du nombre de voisins\n</summary>\n<p>En utilisant ce fichier\n<span><a href=\"https://www.geogebra.org/m/zhbhycsh\">geogebra</a></span> montrer\ncomment le choix de <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span> a une influence sur la prévision de la méthode.</p>\n</details>\n<h2 id=\"implémentation-naïve-en-python\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-na%C3%AFve-en-python\" aria-label=\"implémentation naïve en python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation naïve en Python</h2>\n<p>Le code qui suit utilise des méthodes de <code class=\"language-text\">pandas</code> <code class=\"language-text\">matplotlib</code> et\n<code class=\"language-text\">numpy</code> non vues, il n'est pas nécessaire de savoir le refaire, par\ncontre en utilisant les commentaires vous pouvez voir comment est\neffctuée la classification dans cet implémentation.</p>\n<h3 id=\"classification-délèves-en-conseil-de-classe\" style=\"position:relative;\"><a href=\"#classification-d%C3%A9l%C3%A8ves-en-conseil-de-classe\" aria-label=\"classification délèves en conseil de classe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Classification d'élèves en conseil de classe</h3>\n<p>Nous allons utiliser un fichier <code class=\"language-text\">csv</code> qui contient les <em>moyennes,\nabsences et mentions d'élèves de lycée</em>.</p>\n<p>Vous pouvez visualiser ce fichier ici:\n<a href=\"https://framagit.org/lyceum/k-plus-proches-voisins/blob/master/data/mentions-anonymised.csv\">https://framagit.org/lyceum/k-plus-proches-voisins/blob/master/data/mentions-anonymised.csv</a></p>\n<p>A partir de ce fichier de données <strong>l'algorithme sera capable de vous\nindiquer quelle sera votre mention (Félicitations, compliments...)</strong> en\nfonction de notre moyenne générale et notre nombre d'absences.</p>\n<h3 id=\"tracé-de-la-classification\" style=\"position:relative;\"><a href=\"#trac%C3%A9-de-la-classification\" aria-label=\"tracé de la classification permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tracé de la classification</h3>\n<p>Commencons par observer l'ensemble des données sous forme graphique pour\nse faire une idée.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># données du conseil de classe </span>\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./data/mentions-anonymised.csv'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># On affiche 3 échantillons du tableau</span>\ndf<span class=\"token punctuation\">.</span>sample<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Résultat</small></p>\n</div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\nMentions\n</th>\n<th>\n1/2j abs\n</th>\n<th>\nRang\n</th>\n<th>\nMoyenne Générale\n</th>\n<th>\nPHILOSOPHIE\n</th>\n<th>\nHISTOIRE-GEOGRAPHIE\n</th>\n<th>\nMATHEMATIQUES\n</th>\n<th>\nPHYSIQUE-CHIMIE\n</th>\n<th>\nSCIENCES VIE & TERRE\n</th>\n<th>\nED.PHYSIQUE & SPORT.\n</th>\n<th>\n...\n</th>\n<th>\nESPAGNOL LV2\n</th>\n<th>\nITALIEN LV2\n</th>\n<th>\nJAPONAIS LV2\n</th>\n<th>\nSPECIALITE SVT\n</th>\n<th>\nSPECIALITE PHYS\n</th>\n<th>\nNISSART LV3\n</th>\n<th>\nSPECIALITE MATHS\n</th>\n<th>\nSPECIALITE ISN\n</th>\n<th>\narts fac\n</th>\n<th>\nENS. MORAL & CIVIQUE\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n59\n</th>\n<td>\nEncouragements\n</td>\n<td>\n16.0\n</td>\n<td>\n20.0\n</td>\n<td>\n12.1\n</td>\n<td>\n13.5\n</td>\n<td>\nNaN\n</td>\n<td>\n12.4\n</td>\n<td>\n9.0\n</td>\n<td>\n11.0\n</td>\n<td>\n18.0\n</td>\n<td>\n...\n</td>\n<td>\nNaN\n</td>\n<td>\n12.1\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nN.Not\n</td>\n<td>\n13.7\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n9\n</th>\n<td>\nFélicitations\n</td>\n<td>\n9.0\n</td>\n<td>\n3.0\n</td>\n<td>\n17.8\n</td>\n<td>\n18.5\n</td>\n<td>\n18.5\n</td>\n<td>\n18.9\n</td>\n<td>\n20.0\n</td>\n<td>\n17.6\n</td>\n<td>\n12.0\n</td>\n<td>\n...\n</td>\n<td>\nNaN\n</td>\n<td>\n17.3\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\n16.3\n</td>\n<td>\n18.7\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n68\n</th>\n<td>\nEncouragements\n</td>\n<td>\n2.0\n</td>\n<td>\n24.0\n</td>\n<td>\n12.3\n</td>\n<td>\n13.7\n</td>\n<td>\n12.5\n</td>\n<td>\n12.4\n</td>\n<td>\n11.5\n</td>\n<td>\n12.0\n</td>\n<td>\n15.5\n</td>\n<td>\n...\n</td>\n<td>\nNaN\n</td>\n<td>\n14.5\n</td>\n<td>\nNaN\n</td>\n<td>\n11.1\n</td>\n<td>\nNaN\n</td>\n<td>\n16.9\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\n14.0\n</td>\n</tr>\n</tbody>\n</table>\n<p>\n3 rows × 22 columns\n</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\"># on ne conserve que 3 colonnes pour cette étude simplifiée</span>\ndf <span class=\"token operator\">=</span>  df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Moyenne Générale'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1/2j abs'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Mentions'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\ndf</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Résultat</small></p>\n</div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\nMoyenne Générale\n</th>\n<th>\n1/2j abs\n</th>\n<th>\nMentions\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n0\n</th>\n<td>\n17.4\n</td>\n<td>\n3.0\n</td>\n<td>\nFélicitations\n</td>\n</tr>\n<tr>\n<th>\n1\n</th>\n<td>\n18.1\n</td>\n<td>\n5.0\n</td>\n<td>\nFélicitations\n</td>\n</tr>\n<tr>\n<th>\n2\n</th>\n<td>\n18.2\n</td>\n<td>\nNaN\n</td>\n<td>\nFélicitations\n</td>\n</tr>\n<tr>\n<th>\n3\n</th>\n<td>\n17.0\n</td>\n<td>\n1.0\n</td>\n<td>\nFélicitations\n</td>\n</tr>\n<tr>\n<th>\n4\n</th>\n<td>\n17.6\n</td>\n<td>\n2.0\n</td>\n<td>\nFélicitations\n</td>\n</tr>\n<tr>\n<th>\n...\n</th>\n<td>\n...\n</td>\n<td>\n...\n</td>\n<td>\n...\n</td>\n</tr>\n<tr>\n<th>\n91\n</th>\n<td>\n9.0\n</td>\n<td>\n12.0\n</td>\n<td>\nEncouragements\n</td>\n</tr>\n<tr>\n<th>\n92\n</th>\n<td>\n9.4\n</td>\n<td>\n14.0\n</td>\n<td>\nPas de mention\n</td>\n</tr>\n<tr>\n<th>\n93\n</th>\n<td>\n7.7\n</td>\n<td>\n49.0\n</td>\n<td>\nPas de mention\n</td>\n</tr>\n<tr>\n<th>\n94\n</th>\n<td>\n12.3\n</td>\n<td>\n32.0\n</td>\n<td>\nPas de mention\n</td>\n</tr>\n<tr>\n<th>\n95\n</th>\n<td>\n11.7\n</td>\n<td>\n33.0\n</td>\n<td>\nPas de mention\n</td>\n</tr>\n</tbody>\n</table>\n<p>\n96 rows × 3 columns\n</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> tracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> mention <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Pas de mention\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Encouragements\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Compliments\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Félicitations\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        df_mention <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">\"Mentions\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> mention<span class=\"token punctuation\">]</span>\n        plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>df_mention<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> df_mention<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span>mention<span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACZUlEQVQ4y5WSzU7bQBSF3V3VB6v6FtAtSDxOtygr5CIEjZCqLmgrsaNqIcitSYyJsZ2JHf+N47+xZzynctpESaCLXulqjudefT4zc5XPFxev4/n8NBiPjwLHUUPfVwPXVeMkUaMo2sg4jlTPn6mPxFfHDw+qYRiqaZqqrutHhJAPd3d3+4pmjA7Y/T1qXYcsCqAVkFmGf4UQAmVRwHEcWJYF0zSh6zoIIZhOp++VsePslh3QtuvG9zkA3pYVl0JwKeVWgjcN4xWL+GRC+HA45Jqm8dFoxOI4hm3bh8r3m5s9kefgKRU8jmWTZ5B/3UgpV+tSNzVDkSawbQeDwQCapsGx7c4I3MmkpzxY1lspWqCuBcpKJoELLgU66nPAVgi0rAarGaqqQlmWqOt6ASSE9JSf19r+MDIxtoYijQJZFSnynD4BrTt+JjjjEs6E9BQaZTu/3Gt8+fpO5N6jDIsAASXgggFtu+guO/O1WEHTsoHoassfSskbIeF2Dq9+3OyhopAzTYx8U2a8Rpb5oGkIyD+QYM7gpdWG6y3niyN7ntdTbJfsUhoBZSxGtiXnxRwV42i4QFuXK4e0bFA24tnH2gB+G+j7lWegDq2uW1YJQZTXQFMg9By4QQwh2o17XHf4BPhojXe4aJE3kqEVvEpDzni7mMcuE0o5a8RCr8/k1jfrgNPp9FC5vb09wH+GXEz/033f94+Vy8vLN0EQfMqy/DgMw34Ux/0sy05ms9l5mqanNEnOOt3tLepR1Kfp/MS0yXma0jNK6anv+/08zz8ahnGgAFiloigv1vTLbd3Vlz1b9VdL/RuBp/TaFKp8ugAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png\"\n        srcset=\"/2021-2022/static/aa7e3a26233e59e7a0e6bba3c898f299/12f09/cours_4_0.png 148w,\n/2021-2022/static/aa7e3a26233e59e7a0e6bba3c898f299/e4a3f/cours_4_0.png 295w,\n/2021-2022/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></span></p>\n<p>On voit bien le groupe des <strong>Félicitations</strong> se dégager avec des hautes\nnotes et peu d'absences, ainsi que le groupe <strong>Pas de mention</strong> pour les\nabsentéistes. Par contre la zone basse du graphique présente de nombreux\npoints de divers mentions proches.</p>\n<h3 id=\"implémentation-de-lalgorithme\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-de-lalgorithme\" aria-label=\"implémentation de lalgorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation de l'algorithme</h3>\n<p>Nous allons maintenant définir la fonction qui à partie de la moyenne et\ndes absences données en argument renverra la mention des k plus proches\nvoisins(par défaut: 3).</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">k_plus_proches_voisins</span><span class=\"token punctuation\">(</span>moyenne<span class=\"token punctuation\">,</span> absences<span class=\"token punctuation\">,</span> k<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Renvoie la classe des k plus proches voisins\n    \n    Entrée:\n        moyenne: moyenne de l'élève\n        absences: nb de 1/2j d'absences lors du trimestre\n        k: nombre de voisins les plus proches à utiliser(par défaut 3)\n        \n    Sortie:\n        renvoie les classe la plus probable des k plus porches voisins\"\"\"</span>\n    \n    <span class=\"token comment\"># on commence par afficher notre point sur un graphique</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>absences<span class=\"token punctuation\">,</span> moyenne<span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">\"Elève étudié\"</span><span class=\"token punctuation\">,</span> marker<span class=\"token operator\">=</span><span class=\"token string\">\"P\"</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\"># on crée une liste pour stocker les distances euclidiennes</span>\n    df<span class=\"token punctuation\">[</span><span class=\"token string\">'distance'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> row<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> moyenne<span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> absences<span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># On affiche les trois plus courtes distances</span>\n    df_voisins <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">.</span>distance<span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df_voisins<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># on les marque sur le graph</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                label<span class=\"token operator\">=</span><span class=\"token string\">\"Plus proches voisins\"</span><span class=\"token punctuation\">,</span> marker<span class=\"token operator\">=</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># On ajoute tous les autres points</span>\n    tracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"Mentions\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value_counts<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>nlargest<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<h3 id=\"appels-de-la-fonction\" style=\"position:relative;\"><a href=\"#appels-de-la-fonction\" aria-label=\"appels de la fonction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Appels de la fonction</h3>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">k_plus_proches_voisins<span class=\"token punctuation\">(</span><span class=\"token number\">12.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Sortie</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">    Moyenne Générale  1/2j abs        Mentions  distance\n32              12.3      11.0     Compliments  1.019804\n62              11.6       9.0  Pas de mention  1.345362\n66              11.4       9.0  Pas de mention  1.486607</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<div class=\"card\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Résultat</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Pas de mention    2\nName: Mentions, dtype: int64</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</div>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACeElEQVQ4y51TTU/bQBB1b1V/WNV/Ab2CxF+qOCGDEDRCanvgxLWUj6A0ZMEfsZ3Yjh17/bFee9f7KhsIIeLUkZ7m7Y73eWZnVjs/P/+cUHoym9oHvufpizDQg5mnO/5CN925TiYTnRCij8dj3bIsnVKqx3GsR1HU+2ccJEnyfTwe72p/7+/3IneK0DLQ8AqqbdGwEoxVyLIchmHANE1MJhP4vo8sy0ApxXsWBMGhZk+d7YVjI/FndRZHAoBoeC04p6JkS2GaljAMQ5imKQghwnVdkSSJUEqtg3eC8/n8m/bn6mqnZgxVkcuSpooz1v+NswIFTWCaFgghGI1GuLu767PsrG3b3iulOnSJdLF9zbSsr20r0YpGCl6pNFyiVUBd8B7kgWA4HPawbRtCCAgpeqEnRbwVvL653A1mFO7UlzlNVc04WFGhaWoUeQ7HdWA8Gnh8eOzvrzMp5Urw2QvecjgzZ1+LaLLljqe4Ovwp5/ZMJYscRVxA8gZSNP0h1rAeXTadWFqlkK18FVQQjWrgzbx97ff1zY6iKRryIMn9RGVFiSpOQOMQkE/3FLEIYRmuuqmgXkvGRsmO522nywAqTaVpD1VZUJRNjlpwyOcGMcFAOUUlqvUyXxryVvByNNqljxMUU7OrQRW+h2W1BFiFwCXwYhOyFevZrPBul23T2hKtRNlWvDtZRoGoZd3PY4dl4gsueM/XZ29j/TqHt7e3e/gPExDvvZQj7eLi4stisfiVF/lRFEWDeLkc5Hl+HIbhGaX0JEmS0453e308jgc0o8eGa5zRlJ6maXoSBMGgKIofhJA9DcAKmqZ9WOMfN3kXf/lmI/7phf8DaDbw60bnOLUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png\"\n        srcset=\"/2021-2022/static/00fedeb10c587b81af501a2d1034227c/12f09/cours_8_2.png 148w,\n/2021-2022/static/00fedeb10c587b81af501a2d1034227c/e4a3f/cours_8_2.png 295w,\n/2021-2022/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></span></p>\n<p>On observe donc que l'élève n'aurait pas de mention malgré ses 12.5 de\nmoyenne, Voyons ce qu'il en est si on réduit le nombre d'absences à 5.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">k_plus_proches_voisins<span class=\"token punctuation\">(</span><span class=\"token number\">12.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Sortie</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">    Moyenne Générale  1/2j abs        Mentions  distance\n65              12.4       5.0  Encouragements       0.1\n46              12.9       5.0     Compliments       0.4\n58              12.5       4.0  Encouragements       1.0</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<div class=\"card\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Résultat</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Encouragements    2\nName: Mentions, dtype: int64</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</div>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACeElEQVQ4y51TTU/bQBB1b1V/WNV/Ab2CxF9CnFoXIWiEVPXAiVOlUj6C0pAl/ojtJHZsr9efa+96X2UDISBOHelp3u54n2d2ZrWzs7OPlLHj+cz+svQ8fRX4uj/3dGe50k13oZPJRCeE6OPxWLcsS2eM6VEU6WEY9v4RXyil38fj8a729+5uL3RnCCwDDa+g2hZNWaAsK6RpBsMwYJomJpMJlssl0jQFYwxvme/73zR75myvHBt0Oa/TKBQARMNrwTkTRRkL07SEYRjCNE1BCBGu6wpKqVBKbYJ3govFYl/7c3m5U5clqjyTBUsUL8v+b7zMkTMK07RACMFoNMLt7W2fZWdt2/ZeKdWhS6SLHWimZX1uW4m2qaWoK8UCilYBdc57kHuC4XDYw7ZtCCEgpOiFHhTxUvDq+mLXnzPM3UAyShUvKlR5haapkWcZHNeBMTUwvZ/299eZlHIt+OgFbzmcuXOghYxueeMZfu1/lWzhqyKpkYYZJG8gRdMfKpuyR5dNJ5ZUCWQrnwUVRKMaeHPvQPt9db2jWIJ8OJTezFG1aFGGMVgUAPLhnsIyRFAE624qqOeS8apkx/O2k9gHWCqn9kjlGUPRZKgFh3xsUClKMM5QiWqzzKeGvBS8GI122XSCfGZ2Nah86SGuYqCs4LsEXmRCtmIzmzXe7LJtWluilSjaincni9AXtaz7eewQ06Xggvd8c/ZerZ/n8ObmZg//YQLirZdyqJ2fn39arVY/szw7DMNwEMXxIMuyoyAIThljx5TSk453e308igYsZUeGa5yyhJ0kSXLs+/4gz/MfhJA9DcAamqa92+DvX/Mu/vTNq/iHJ/4PoN3xBhLfwM4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png\"\n        srcset=\"/2021-2022/static/bbaab03563ce5e1664e9d8a2f76c9fea/12f09/cours_10_2.png 148w,\n/2021-2022/static/bbaab03563ce5e1664e9d8a2f76c9fea/e4a3f/cours_10_2.png 295w,\n/2021-2022/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></span></p>\n<p>L'élève a maintenant les encouragements.</p>\n<h3 id=\"et-vous-quelle-serait-votre-mention\" style=\"position:relative;\"><a href=\"#et-vous-quelle-serait-votre-mention\" aria-label=\"et vous quelle serait votre mention permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Et vous, quelle serait votre mention?</h3>\n<p>L'algorithme et les données sont en ligne dans le dépôt suivant:</p>\n<p><a href=\"https://framagit.org/lyceum/k-plus-proches-voisins\">https://framagit.org/lyceum/k-plus-proches-voisins</a></p>\n<p>Vous pouvez <em>soit</em> télécharger le\n<span><a href=\"https://framagit.org/lyceum/k-plus-proches-voisins/archive/master.zip\">dossier</a></span>\npour travailler sur le code sur votre machine si vous avaez installé\npython et anconda chez vous.</p>\n<p>Vous pouvez sinon travailler en ligne en lancant un environment\n<span><a href=\"http://mybinder.org/v2/gh/heoinfo/k-plus-proches-voisins/master?filepath=index.ipynb\"><span><img src=\"http://mybinder.org/badge_logo.svg\" alt=\"Binder\"></span></a></span>.</p>\n<details class=\"appli\">\n<summary>\nL'algorithme est-il efficace?\n</summary>\n<p>Reprendre vos bulletins de lycée pour vérifier si la prévision faite à\npartir de votre moyenne générale et de votre nombre de jours d'absences\nest conforme au résultat obtenu.</p>\n<p>Vous pouvez éventuellement changer la valeur de <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span> pour améliorer les\nprédictions.</p>\n<p><strong>Pour conclure:</strong> Que diriez-vous de cette méthode? Peut-on vraiment\nqualifier cet algorithme d'<em>intelligence artificielle</em>? Voyez-vous des\ndangers à la prise de décisions par des algorithmes?</p>\n</details>\n<h2 id=\"notes-sur-lalgorithme\" style=\"position:relative;\"><a href=\"#notes-sur-lalgorithme\" aria-label=\"notes sur lalgorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notes sur l'algorithme</h2>\n<p>Cet algorithme(<em>brute-force</em>) est peu efficace avec une complexité de\n<span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">[</mo><mi>D</mi><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">O[D N^2]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span></span>(voir <span><a href=\"https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms\">doc\nsklearn</a></span>).</p>\n<p>D'autres part, il serait bon de mettre à l'échelle les données\nutilisées, car on voit bien que l'échelle des absences est trois fois\nplus grande que les moyennes, et ainsi a un importance accrue dans le\ncalcul de la distance des voisins.</p>\n<h2 id=\"références\" style=\"position:relative;\"><a href=\"#r%C3%A9f%C3%A9rences\" aria-label=\"références permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Références</h2>\n<ul>\n<li>\n<p>Cours de Nadja Rebinguet duquel est extrait l'exemple des papillons:\n<a href=\"https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/\">https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/</a></p>\n</li>\n<li>\n<p>Cette video de <span><a href=\"https://www.youtube.com/watch?v=OEJX-q6UOag\">Phillippe Bouchery sur le machine\nlearning</a></span></p>\n</li>\n<li>\n<p>Cours sur pixees.fr:\n<a href=\"https://pixees.fr/informatiquelycee/n_site/nsi_prem_knn.html\">https://pixees.fr/informatiquelycee/n_site/nsi_prem_knn.html</a></p>\n</li>\n<li>\n<p>Article Wikipedia:\n<a href=\"https://fr.wikipedia.org/wiki/M%C3%A9thode_des_k%5C_plus_proches_voisins\">https://fr.wikipedia.org/wiki/M%C3%A9thode_des_k\\_plus_proches_voisins</a></p>\n</li>\n<li>\n<p>Doc sklearn:\n<a href=\"https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms\">https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms</a></p>\n</li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#principe\">Principe</a></p>\n<ul>\n<li><a href=\"#principe-de-lapprentissage-supervis%C3%A9\">Principe de l'apprentissage supervisé</a></li>\n<li><a href=\"#principe-lalgorithme-des-k-plus-proches-voisins\">Principe l'algorithme des k plus proches voisins</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#impl%C3%A9mentation-na%C3%AFve-en-python\">Implémentation naïve en Python</a></p>\n<ul>\n<li><a href=\"#classification-d%C3%A9l%C3%A8ves-en-conseil-de-classe\">Classification d'élèves en conseil de classe</a></li>\n<li><a href=\"#trac%C3%A9-de-la-classification\">Tracé de la classification</a></li>\n<li><a href=\"#impl%C3%A9mentation-de-lalgorithme\">Implémentation de l'algorithme</a></li>\n<li><a href=\"#appels-de-la-fonction\">Appels de la fonction</a></li>\n<li><a href=\"#et-vous-quelle-serait-votre-mention\">Et vous, quelle serait votre mention?</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#notes-sur-lalgorithme\">Notes sur l'algorithme</a></p>\n</li>\n<li>\n<p><a href=\"#r%C3%A9f%C3%A9rences\">Références</a></p>\n</li>\n</ul>","frontmatter":{"tags":["Python","algorithmique","Recherche des k plus proche voisins"]},"fields":{"classe":"1g","chapter":"Algorithme des k plus proches voisins","matter":"nsi","nChapter":"3","part":"Algorithmique","nPart":"8"}}},"pageContext":{"slug":"1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins","chapter":"Algorithme des k plus proches voisins"}},"staticQueryHashes":["604483588"]}