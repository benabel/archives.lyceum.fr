{"componentChunkName":"component---src-templates-blog-md-js","path":"/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"exploration-des-possibilités-offertes-par-python\" style=\"position:relative;\"><a href=\"#exploration-des-possibilit%C3%A9s-offertes-par-python\" aria-label=\"exploration des possibilités offertes par python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exploration des possibilités offertes par Python</h2>\n<p>Dans cette partie nous allons tiliser deux bibliothèques\nparticulièrement adaptées à notre travail:</p>\n<ul>\n<li><span><a href=\"https://pandas.pydata.org/\">pandas</a></span>: pour l'import de\ndonnées sous format texte.</li>\n<li><span><a href=\"https://matplotlib.org/\">matplotlib</a></span>: pour le tracé\ndes vecteurs.</li>\n</ul>\n<p>A priori ces bibliothèques sont directement installées avec la plupart\ndes distributions python.</p>\n<h3 id=\"export-csv-depuis-spanlogger-prospan\" style=\"position:relative;\"><a href=\"#export-csv-depuis-spanlogger-prospan\" aria-label=\"export csv depuis spanlogger prospan permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Export csv depuis <span><a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a></span></h3>\n<p>Une fois les pointages réalisés dans <span><a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger\nPro©</a></span>, on les\nexporte au format <code class=\"language-text\">csv</code> dans le même dossier que le script python.</p>\n<p>On obtient un fichier <code class=\"language-text\">csv</code> qui a cette forme(ici, il s'agit d'un\npointage de lancer de ballon de basket avec rebond, je l'ai appelé\n<span><a href=\"/2021-2022/10a018227686415f3386520187a014b6/basket.csv\"><code class=\"language-text\">basket.csv</code></a></span>):</p>\n<div class=\"gatsby-highlight\" data-language=\"csv\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-csv line-numbers\"><code class=\"language-csv\"><span class=\"token value\">\"Analyse Vidéo: Temps (s)\"</span><span class=\"token value\">;</span><span class=\"token value\">\"Analyse Vidéo: X (m)\"</span><span class=\"token value\">;</span><span class=\"token value\">\"Analyse Vidéo: Y (m)\"</span><span class=\"token value\">;</span><span class=\"token value\">\"Analyse Vidéo: Vitesse X (m/s)\"</span><span class=\"token value\">;</span><span class=\"token value\">\"Analyse Vidéo: Vitesse Y (m/s)\"</span>\n<span class=\"token value\">0;0</span><span class=\"token punctuation\">,</span><span class=\"token value\">0524329864114;2</span><span class=\"token punctuation\">,</span><span class=\"token value\">06735774994;2</span><span class=\"token punctuation\">,</span><span class=\"token value\">13773602824;1</span><span class=\"token punctuation\">,</span><span class=\"token value\">97072540103</span>\n<span class=\"token value\">0</span><span class=\"token punctuation\">,</span><span class=\"token value\">013;0</span><span class=\"token punctuation\">,</span><span class=\"token value\">0898851195624;2</span><span class=\"token punctuation\">,</span><span class=\"token value\">09731945646;0</span><span class=\"token punctuation\">,</span><span class=\"token value\">65546386032;1</span><span class=\"token punctuation\">,</span><span class=\"token value\">3425328963</span>\n<span class=\"token value\">0</span><span class=\"token punctuation\">,</span><span class=\"token value\">046;0</span><span class=\"token punctuation\">,</span><span class=\"token value\">0823946929322;2</span><span class=\"token punctuation\">,</span><span class=\"token value\">12728116298;0</span><span class=\"token punctuation\">,</span><span class=\"token value\">416469595422;1</span><span class=\"token punctuation\">,</span><span class=\"token value\">36256531621</span>\n<span class=\"token value\">0</span><span class=\"token punctuation\">,</span><span class=\"token value\">079;0</span><span class=\"token punctuation\">,</span><span class=\"token value\">104865972823;2</span><span class=\"token punctuation\">,</span><span class=\"token value\">17971414939;0</span><span class=\"token punctuation\">,</span><span class=\"token value\">821528854964;1</span><span class=\"token punctuation\">,</span><span class=\"token value\">84956069973</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Les valeurs sont séparées par des <code class=\"language-text\">;</code> et le séparateur décimal est <code class=\"language-text\">,</code>.</p>\n<p>On les importe dans python grâce à la libraire Python <code class=\"language-text\">pandas</code> avec la\nfonction <code class=\"language-text\">read_csv()</code>, et on simplifie les noms de colonne pour y\naccéder simplement avec la notation pointée.</p>\n<ul>\n<li><code class=\"language-text\">data.x</code> pour les abscisses.</li>\n<li><code class=\"language-text\">data.vitesse_x</code> pour la composant horizontale de la vitesse.</li>\n</ul>\n<p>Nous allons maintenant les importer dans Python grâce à la bibliothèque\npandas.</p>\n<h3 id=\"import-des-données-avec-pandas\" style=\"position:relative;\"><a href=\"#import-des-donn%C3%A9es-avec-pandas\" aria-label=\"import des données avec pandas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Import des données avec <code class=\"language-text\">pandas</code></h3>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token comment\">## Format A4 pour les graphs(en pouces)</span>\nplt<span class=\"token punctuation\">.</span>rcParams<span class=\"token punctuation\">[</span><span class=\"token string\">\"figure.figsize\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">11.7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8.3</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"basket.csv\"</span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\";\"</span><span class=\"token punctuation\">,</span> decimal<span class=\"token operator\">=</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">## On renomme les colonnes sans le Analyse Vidéo ni l'unité</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">rename_cols</span><span class=\"token punctuation\">(</span>col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Renomme les colonnes pour garder que le symbole\"\"\"</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\"(\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"_\"</span><span class=\"token punctuation\">)</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token string\">\"_\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> col\n<span class=\"token comment\">##data.head()    </span>\ndata <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>rename<span class=\"token punctuation\">(</span>rename_cols<span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token string\">'columns'</span><span class=\"token punctuation\">)</span>\ndata<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Résultat</small></p>\n</div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\ntemps\n</th>\n<th>\nx\n</th>\n<th>\ny\n</th>\n<th>\nvitesse_x\n</th>\n<th>\nvitesse_y\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n0\n</th>\n<td>\n0.000\n</td>\n<td>\n0.052433\n</td>\n<td>\n2.067358\n</td>\n<td>\n2.137736\n</td>\n<td>\n1.970725\n</td>\n</tr>\n<tr>\n<th>\n1\n</th>\n<td>\n0.013\n</td>\n<td>\n0.089885\n</td>\n<td>\n2.097319\n</td>\n<td>\n0.655464\n</td>\n<td>\n1.342533\n</td>\n</tr>\n<tr>\n<th>\n2\n</th>\n<td>\n0.046\n</td>\n<td>\n0.082395\n</td>\n<td>\n2.127281\n</td>\n<td>\n0.416470\n</td>\n<td>\n1.362565\n</td>\n</tr>\n<tr>\n<th>\n3\n</th>\n<td>\n0.079\n</td>\n<td>\n0.104866\n</td>\n<td>\n2.179714\n</td>\n<td>\n0.821529\n</td>\n<td>\n1.849561\n</td>\n</tr>\n<tr>\n<th>\n4\n</th>\n<td>\n0.113\n</td>\n<td>\n0.142318\n</td>\n<td>\n2.247128\n</td>\n<td>\n1.233414\n</td>\n<td>\n2.783728\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n<h3 id=\"tracé-des-vecteurs-avec-matplotlib\" style=\"position:relative;\"><a href=\"#trac%C3%A9-des-vecteurs-avec-matplotlib\" aria-label=\"tracé des vecteurs avec matplotlib permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tracé des vecteurs avec <code class=\"language-text\">matplotlib</code></h3>\n<p>Les positions sont tracées avec <code class=\"language-text\">plt.scatter</code>, les vecteurs avec\n<code class=\"language-text\">plt.quiver</code>. Les arguments utilisés peuvent être changés, notamment\npour les échelles qui ne sont pas évidentes à régler.</p>\n<p>Voici les liens vers la doc.</p>\n<ul>\n<li><a href=\"https://matplotlib.org/3.1.0/api/%5C_as_gen/matplotlib.pyplot.scatter.html\">https://matplotlib.org/3.1.0/api/\\_as_gen/matplotlib.pyplot.scatter.html</a></li>\n<li><a href=\"https://matplotlib.org/3.1.0/api/%5C_as_gen/matplotlib.pyplot.quiver.html?highlight=quiver#matplotlib.pyplot.quiver\">https://matplotlib.org/3.1.0/api/\\_as_gen/matplotlib.pyplot.quiver.html?highlight=quiver#matplotlib.pyplot.quiver</a></li>\n</ul>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\">## Positions en vert</span>\nplt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">## vecteurs vitesse en bleu</span>\n<span class=\"token comment\">## TODO travailler sur l'échelle</span>\nplt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n           color<span class=\"token operator\">=</span><span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span>\n           scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n           scale<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n           alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n           label<span class=\"token operator\">=</span><span class=\"token string\">\"$\\\\vec{v}$\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">## vecteurs accélération en rouge</span>\n<span class=\"token comment\">## TODO travailler sur l'échelle</span>\ndiff <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>diff<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n           diff<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n           diff<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n           color<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span>\n           scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n           scale<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n           alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n           label<span class=\"token operator\">=</span><span class=\"token string\">\"$\\\\vec{\\Delta v}$\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Résultat</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;matplotlib.legend.Legend at 0x7f7b08a96e20></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<p><span><img src=\"/2021-2022/a8e263565187598a570457a06a9ba808/index_4_1.svg\" alt=\"svg\" title=\"fig:\"></span></p>\n<h3 id=\"améliorations-possibles\" style=\"position:relative;\"><a href=\"#am%C3%A9liorations-possibles\" aria-label=\"améliorations possibles permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Améliorations possibles</h3>\n<p>On peut utiliser une moyenne mobile sur les mesures pour avoir moins de\npoints et améliorer la précison.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">data2 <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>rolling<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> center<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndata2</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Résultat</small></p>\n</div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n<thead>\n<tr style=\"text-align: right;\">\n<th>\n</th>\n<th>\ntemps\n</th>\n<th>\nx\n</th>\n<th>\ny\n</th>\n<th>\nvitesse_x\n</th>\n<th>\nvitesse_y\n</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<th>\n0\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n1\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n2\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n3\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n4\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n...\n</th>\n<td>\n...\n</td>\n<td>\n...\n</td>\n<td>\n...\n</td>\n<td>\n...\n</td>\n<td>\n...\n</td>\n</tr>\n<tr>\n<th>\n69\n</th>\n<td>\n2.2649\n</td>\n<td>\n5.106973\n</td>\n<td>\n1.858375\n</td>\n<td>\n0.876044\n</td>\n<td>\n-1.294343\n</td>\n</tr>\n<tr>\n<th>\n70\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n71\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n72\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n<tr>\n<th>\n73\n</th>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n<td>\nNaN\n</td>\n</tr>\n</tbody>\n</table>\n<p>\n74 rows × 5 columns\n</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">trace_vecteurs</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Positions en vert</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># vecteurs vitesse en bleu</span>\n    <span class=\"token comment\"># TODO travailler sur l'échelle</span>\n    plt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n               color<span class=\"token operator\">=</span><span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span>\n               scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n               scale<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n               alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n               label<span class=\"token operator\">=</span><span class=\"token string\">\"$\\\\vec{v}$\"</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># vecteurs accélération en rouge</span>\n    <span class=\"token comment\"># TODO travailler sur l'échelle</span>\n    diff <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>diff<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n               diff<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n               diff<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n               color<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span>\n               scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n               scale<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n               alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n               label<span class=\"token operator\">=</span> <span class=\"token string\">\"$\\\\vec{\\Delta v}$\"</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntrace_vecteurs<span class=\"token punctuation\">(</span>data2<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Sortie</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">/usr/lib/python3.8/site-packages/matplotlib/quiver.py:748: RuntimeWarning: invalid value encountered in less\n  short = np.repeat(length &lt; minsh, 8, axis=1)\n/usr/lib/python3.8/site-packages/matplotlib/quiver.py:762: RuntimeWarning: invalid value encountered in less\n  tooshort = length &lt; self.minlength</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p><span><img src=\"/2021-2022/a8f39ac040e8209567c4e7fef03763f1/index_7_1.svg\" alt=\"svg\" title=\"fig:\"></span></p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\">## sous échantillonage</span>\nN <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\ndata3 <span class=\"token operator\">=</span> data2<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> data2<span class=\"token punctuation\">.</span>index <span class=\"token keyword\">if</span> i <span class=\"token operator\">%</span> N <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\ntrace_vecteurs<span class=\"token punctuation\">(</span>data3<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<p><span><img src=\"/2021-2022/f74347391c68ea082597c44f773eff19/index_8_0.svg\" alt=\"svg\" title=\"fig:\"></span></p>\n<h2 id=\"création-dun-module-trace_cinematique\" style=\"position:relative;\"><a href=\"#cr%C3%A9ation-dun-module-trace_cinematique\" aria-label=\"création dun module trace_cinematique permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Création d'un module <code class=\"language-text\">trace_cinematique</code></h2>\n<p>Compte tenu de la complexité du code et des paramètres des tracés, j'ai\ncréé un module <code class=\"language-text\">trace_cinematique</code> qui contient une fonction\n<code class=\"language-text\">trace_vecteurs</code> que les élèves peuvent importer simplement et utiliser\nen travaillant sur les paramètres proposés de la fonction.</p>\n<p>Le module <code class=\"language-text\">trace_cinematique</code> est disponible dans un dépôt sur\n<span><a href=\"https://framagit.org/benabel/trace_cinematique/\">framagit</a></span>.</p>\n<p>Vous pouvez le télécharger à cette adresse:\n[<span class=\"uri\" ><a href=\"https://framagit.org/benabel/trace_cinematique/-/archive/master/trace_cinematique-master.zip\">https://framagit.org/benabel/trace_cinematique/-/archive/master/trace_cinematique-master.zip</a></span>]{.uri}</p>\n<p>N'hésitez pas à faire part de vos remarques en ouvrant un\n<span><a href=\"https://framagit.org/benabel/trace_cinematique/issues\">ticket</a></span>.</p>\n<h3 id=\"mode-demploi\" style=\"position:relative;\"><a href=\"#mode-demploi\" aria-label=\"mode demploi permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mode d'emploi</h3>\n<p>Après avoir fait les pointages, les élèves exportent leurs pointages au\nformat <code class=\"language-text\">csv</code> à partir de <span><a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger\nPro©</a></span> dans le même\ndossier que le fichier <code class=\"language-text\">trace_cinematique</code> .</p>\n<p>Ensuite dans un fichier nommé par exemple <code class=\"language-text\">fichier_eleve.py</code> placé\ntoujours dans le même dossier, les élèves importent la fonction\n<code class=\"language-text\">trace_vecteurs</code> et donnent le nom du fichier csv en argument:</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token comment\">## import de la fonction de tracé</span>\n<span class=\"token keyword\">from</span> trace_cinematique <span class=\"token keyword\">import</span> trace_vecteurs\n\n<span class=\"token comment\">## appel de la fonction pour le tracé des vecteurs cinematiques</span>\ntrace_vecteurs<span class=\"token punctuation\">(</span><span class=\"token string\">\"basket.csv\"</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<p><span><img src=\"/2021-2022/b5d98a14e29232c66368d1c9a606e001/index_10_0.svg\" alt=\"svg\" title=\"fig:\"></span></p>\n<h3 id=\"travail-sur-les-paramètres-du-tracé\" style=\"position:relative;\"><a href=\"#travail-sur-les-param%C3%A8tres-du-trac%C3%A9\" aria-label=\"travail sur les paramètres du tracé permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Travail sur les paramètres du tracé</h3>\n<p>une documentation de la fonction est disponible grâce à la fonction\ngénérique <code class=\"language-text\">help()</code>.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>trace_vecteurs<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Sortie</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Help on function trace_vecteurs in module trace_cinematique:\n\ntrace_vecteurs(csv_file, echelle_v=1, echelle_dv=1, n_lissage=10, n_select=1)\n    Tracé de vecteurs vitesses et variations de vecteurs vitesse\n    \n    Arguments\n    ---------\n    csv_file\n        chemin vers le fichier csv des pointages\n    echelle_v\n        echelle de tracé des vecteurs vitesse: par défaut 1\n    echelle_dv\n        echelle de tracé des vecteurs variation de vecteurs vitesses: par défaut 1\n    n_lissage\n        nombre de points de lissage par défaut 10\n    n_select\n        fraction des points ou les vecteurs sont tracés\n        p.ex: pour n_s=3, 1 vecteur sur 3 st tracé</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<hr>\n<p>Ensuite en jouant sur les paramètres envoyés à la fonction(échelles ,\nfractions de vecteurs tracés...)</p>\n<p>On peut obtenir un tracé comme celui-ci:</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\">\n<p><small class=\"text-muted\">Entrée</small></p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">trace_vecteurs<span class=\"token punctuation\">(</span><span class=\"token string\">\"basket.csv\"</span><span class=\"token punctuation\">,</span>\n               echelle_v<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n               echelle_dv<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n               n_lissage<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n               n_select<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</div>\n<p><span><img src=\"/2021-2022/61885933b8f8b49e2d0e74ab09e7a862/index_14_0.svg\" alt=\"svg\" title=\"fig:\"></span></p>\n<h3 id=\"licence-et-droits-dutilisation\" style=\"position:relative;\"><a href=\"#licence-et-droits-dutilisation\" aria-label=\"licence et droits dutilisation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Licence et droits d'utilisation</h3>\n<p>Le code mis à disposition dans le module <code class=\"language-text\">trace_cinematique</code> est sous\nlicence <span><a href=\"https://fr.wikipedia.org/wiki/Licence_ISC\">ISC</a></span>,\nune licence libre qui permet de l'utiliser et le modifier comme bon vous\nsemble.</p>\n<p>Le logiciel <span><a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger\nPro©</a></span> est un\nlogiciel sous droits d'auteurs, je n'ai aucun rapport avec l'entreprise\nqui le développe, vous pouvez certainement adapter le code au logiciel\nque vous utilisez dans votre établissement.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#exploration-des-possibilit%C3%A9s-offertes-par-python\">Exploration des possibilités offertes par Python</a></p>\n<ul>\n<li><a href=\"#export-csv-depuis-spanlogger-prospan\">Export csv depuis <span>Logger Pro©</span></a></li>\n<li><a href=\"#import-des-donn%C3%A9es-avec-pandas\">Import des données avec <code class=\"language-text\">pandas</code></a></li>\n<li><a href=\"#trac%C3%A9-des-vecteurs-avec-matplotlib\">Tracé des vecteurs avec <code class=\"language-text\">matplotlib</code></a></li>\n<li><a href=\"#am%C3%A9liorations-possibles\">Améliorations possibles</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#cr%C3%A9ation-dun-module-trace_cinematique\">Création d'un module <code class=\"language-text\">trace_cinematique</code></a></p>\n<ul>\n<li><a href=\"#mode-demploi\">Mode d'emploi</a></li>\n<li><a href=\"#travail-sur-les-param%C3%A8tres-du-trac%C3%A9\">Travail sur les paramètres du tracé</a></li>\n<li><a href=\"#licence-et-droits-dutilisation\">Licence et droits d'utilisation</a></li>\n</ul>\n</li>\n</ul>","timeToRead":8,"fields":{"slug":"blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/"},"frontmatter":{"author":"Benjamin Abel","tags":["physique","mécanique","cinématique","vecteur","vitesse","variation"],"title":"Tracé de vecteurs vitesse et variations de vitesse en Python","date":"2020-01-31T00:00:00.000Z"}}},"pageContext":{"slug":"blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/"}},"staticQueryHashes":["604483588"]}