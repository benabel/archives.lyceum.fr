{"componentChunkName":"component---src-templates-exo-md-js","path":"/tg/nsi/2-bases-de-donnees/3-langage-sql/exo","result":{"data":{"markdownRemark":{"html":"<h2 id=\"tp-du-cnam-sur-les-requêtes-sql\" style=\"position:relative;\"><a href=\"#tp-du-cnam-sur-les-requ%C3%AAtes-sql\" aria-label=\"tp du cnam sur les requêtes sql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TP du Cnam sur les requêtes <code class=\"language-text\">sql</code></h2>\n<p>Un TP en ligne avec correction est proposé par le CNAM et vous permet de\nvous entraîner sur 4 jeux de données:\n<span class=\"uri\" ><a href=\"http://deptfod.cnam.fr/bd/tp\">http://deptfod.cnam.fr/bd/tp</a></span>.</p>\n<p>La base de données <code class=\"language-text\">films</code> a été importée sur\n<a href=\"https://apps.lyceum.fr/sqlite\">https://apps.lyceum.fr/sqlite</a>.</p>\n<h2 id=\"enquête-en-ligne-et-en-anglais\" style=\"position:relative;\"><a href=\"#enqu%C3%AAte-en-ligne-et-en-anglais\" aria-label=\"enquête en ligne et en anglais permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Enquête en ligne (et en anglais)</h2>\n<p>Résolvez l'enquête du meurtre de SQL City. Pour accéder à cette enquête,\nil existe diverses possibilités:</p>\n<ul>\n<li>Version interactive en <code class=\"language-text\">html</code>:\n<span class=\"uri\" ><a href=\"http://mystery.knightlab.com\">http://mystery.knightlab.com</a></span></li>\n<li>Fichiers dont la base de données sqlite sur github:\n<span class=\"uri\" ><a href=\"https://github.com/NUKnightLab/sql-mysteries\">https://github.com/NUKnightLab/sql-mysteries</a></span></li>\n<li>Version interactive sur repl.it:\n<span class=\"uri\" ><a href=\"https://repl.it/@ToniScullion1/Silver-TASK-2-SQL-Murder-Mystery#actvity.md\">https://repl.it/@ToniScullion1/Silver-TASK-2-SQL-Murder-Mystery#actvity.md</a></span></li>\n</ul>\n<h2 id=\"mini-projet-application-web-avec-base-de-données-sqlite\" style=\"position:relative;\"><a href=\"#mini-projet-application-web-avec-base-de-donn%C3%A9es-sqlite\" aria-label=\"mini projet application web avec base de données sqlite permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mini-projet: application web avec base de données <code class=\"language-text\">sqlite</code></h2>\n<p>Le dépôt git suivant contient une mini-application web utilisant python\npour accéder aux données d'une base de données <code class=\"language-text\">sqlite</code>.</p>\n<p><span class=\"uri\" ><a href=\"https://framagit.org/lyceum/flask-sqlite\">https://framagit.org/lyceum/flask-sqlite</a></span></p>\n<p>Par <strong>groupe de 2 ou 3</strong>, développez l'ébauche d'application proposée\npour qu'elle utilise des <em>données intéressantes</em> de votre choix mais non\npersonnelles.</p>\n<p>Outre le changement de données, vous pourrez:</p>\n<ul>\n<li>utiliser plusieurs relations dans votre base de données, et les\njoindre dans vos requêtes.</li>\n<li>proposer plusieurs pages <code class=\"language-text\">html</code> pour la visualisation de données\ndifférentes, leur édition...</li>\n</ul>\n<h2 id=\"exercice-type-bac\" style=\"position:relative;\"><a href=\"#exercice-type-bac\" aria-label=\"exercice type bac permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exercice type BAC</h2>\n<blockquote>\n<p>Cet exercice est issu du sujet zéro.</p>\n</blockquote>\n<p>L'énoncé de cet exercice utilise les mots du langage <code class=\"language-text\">SQL</code> suivant :</p>\n<p><code class=\"language-text\">SELECT</code>, <code class=\"language-text\">FROM</code>, <code class=\"language-text\">WHERE</code>, <code class=\"language-text\">JOIN</code>, <code class=\"language-text\">INSERT INTO</code>, <code class=\"language-text\">VALUES</code>, <code class=\"language-text\">COUNT</code>,\n<code class=\"language-text\">ORDER BY</code>.</p>\n<p>Dans un lycée imaginaire, les données relatives aux élèves de secondes\nsont regroupées dans un fichier nommé <code class=\"language-text\">seconde_lyc.csv</code>. Un extrait de\nson contenu est représenté figure 1.</p>\n<p><span><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 574px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2021-2022/static/ab141eee0c7d635edb3dbf0906425be1/86389/image-bdd-csv.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAAC7ElEQVQozz1TyZKiShT1/z+lNVq7rBIRGQQVRMYEZRRQmXIgFY2o9QvLF7W7mxNnvANjr4vSyvd9aSWVZanrO+B5CKEoDJg5O5lMTNM6nU6LxSLLct/36qryPa+FsKqqgWkaiqI4tm2Y5vP51HUNeD7GOArDGcNMJhPHBUWeM7NZFCdt2xJCAAAIobquB5q65XnBdd31eg0R2u3UJE0xxmmSCILw8fERhmFRFDzP53mBEKK0A8CF8AdsW6Ysy77vCwIfRpGiKLZtI4TiKOS45WQ83qpqFEUMw1yv146Q2+3m/fh6gXeqynFL1wWbzbrve03TojjGGCdx9Pn5ORyNTNNK05RfLi+XaxhFdV27wG0hfDNbsqwcg6Msyx2ljm0HYXi73S7nQhSl6ccUAHAtr4IgtC1ECD4ejygK+/5BCBns9d1yufQAmLNsC6GqqkEQIoTSNOUW3Gg0MkwzSRKO48qqovTW3++u4yCEmqYeaNstu+CCIGAYpm5aTd2GYUQIiaNwPmf/DIeu652LYjb7SpI0CIKyqgAA8C3b2O9FUToeD5vNpus60zQP/gFC+JO2OJ1OD4dDlmWCIJRlVZYlxtj3ffgOzNjr0mpl29Z6vaGUGqZhWRaE8HRKVpI0nU51w3gFxvPn8wVjTCn1fns2jddIAACiKDZNq2mqC7x3z/P5fDwe27aT59l8zqSnDBNCaec4zv+yTcOQZcVxHEVRCO4MY388BgihJI45jvs3+WfZdpZlLMsmSZqmadd1/m/Pjm1JkgQ8IApC0zQvZtf9HcloOASel51OX19fWZY1TdMR4rhO27avbe80leeFIAhlWaaU7nXdsm1KaZrELPt6jK2qxj9VtW3bdV3f3z3fI4TAtn0tTBSlg+/zgvB4PneaqqzXtKNFns1m8/HfsWmaeVEIokAIud/v39/fx+Ox73uM8aCqqizLyrJMkwRhXOT5+Xx+WWrq9JQGYViWZdM0eZ5jjBFChJDL9fo+/gOpox+s3JT3pQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Extrait du fichier\nseconde_lyc.csv\"\n        title=\"fig:\"\n        src=\"/2021-2022/static/ab141eee0c7d635edb3dbf0906425be1/86389/image-bdd-csv.png\"\n        srcset=\"/2021-2022/static/ab141eee0c7d635edb3dbf0906425be1/12f09/image-bdd-csv.png 148w,\n/2021-2022/static/ab141eee0c7d635edb3dbf0906425be1/e4a3f/image-bdd-csv.png 295w,\n/2021-2022/static/ab141eee0c7d635edb3dbf0906425be1/86389/image-bdd-csv.png 574w\"\n        sizes=\"(max-width: 574px) 100vw, 574px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></span></p>\n<p>Pour les besoins de l'organisation du lycée, le chef d'établissement\nexploite la base de données par des requêtes en langage <code class=\"language-text\">SQL</code>. Il a pour\ncela créé une table (ou relation) <code class=\"language-text\">SQL</code> dénommée <code class=\"language-text\">seconde</code> dans son\nsystème de gestion de bases de données dont la structure est la suivante\n:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">+--------------------------+\n| seconde                  |\n+==========================+\n| num_eleve(clef primaire) |\n+--------------------------+\n| langue1                  |\n+--------------------------+\n| langue2                  |\n+--------------------------+\n| option                   |\n+--------------------------+\n| classe                   |\n+--------------------------+</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>L'attribut <code class=\"language-text\">num_eleve</code> est un entier, les autres sont des chaines de\ncaractère (le type <code class=\"language-text\">CHAR</code>).</p>\n<ol>\n<li>\n<p> </p>\n<ol>\n<li>\n<p>Dans le modèle relationnel, quel est l'intérêt de l'attribut\n<code class=\"language-text\">num_eleve</code>.</p>\n</li>\n<li>\n<p>Écrire une requête SQL d'insertion permettant d'enregistrer\nl'élève <code class=\"language-text\">ACHIR Mussa</code> dans la table seconde. Les informations\nrelatives à cet élève sont données dans la ligne 1 du fichier\n<code class=\"language-text\">seconde_lyc.csv</code>.</p>\n</li>\n<li>\n<p>Lors de l'insertion de l'élève <code class=\"language-text\">ALTMEYER Yohan</code> (ligne 2 du\nfichier <code class=\"language-text\">seconde_lyc.csv</code>), une erreur de saisie a été commise\nsur la première langue, qui devrait être allemand. Écrire une\nrequête SQL de mise à jour corrigeant les données de cet élève.</p>\n</li>\n</ol>\n</li>\n<li>\n<p>On suppose maintenant que la table seconde contient les informations\nissues de la figure 1 (ni plus, ni moins, même si la figure 1 n'est\nqu'un extrait du fichier <code class=\"language-text\">seconde_lyc.csv</code>).</p>\n<ol>\n<li>\n<p>Quel est le résultat de la requête suivante?</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sql line-numbers\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> num_eleve <span class=\"token keyword\">FROM</span> seconde<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>On rappelle qu'en <code class=\"language-text\">SQL</code>, la fonction d'agrégation <code class=\"language-text\">COUNT()</code>\npermet de compter le nombre d'enregistrements dans une table.\nQuel est le résultat de la requête suivante?</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sql line-numbers\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span>num_eleve<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> seconde<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Écrire la requête permettant de connaître le nombre d'élèves qui\nfont allemand en <code class=\"language-text\">langue1</code> ou <code class=\"language-text\">langue2</code>.</p>\n</li>\n</ol>\n</li>\n<li>\n<p>Le chef d'établissement souhaite faire évoluer la structure de sa\nbase de données. Pour ce faire, il créé une nouvelle table eleve\ndont la structure est la suivante:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">+-------------------------------------+\n| eleve                               |\n+=====================================+\n| num_eleve (clef primaire,           |\n+-------------------------------------+\n| clef étrangère de la table seconde) |\n+-------------------------------------+\n| nom                                 |\n+-------------------------------------+\n| prenom                              |\n+-------------------------------------+\n| datenaissance                       |\n+-------------------------------------+</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ol>\n<p>Là encore, l'attribut <code class=\"language-text\">num_eleve</code> est un entier, les autres sont des\nchaines de caractère (le type <code class=\"language-text\">CHAR</code>).</p>\n<ol>\n<li>\n<p>Expliquer ce qu'apporte l'information <code class=\"language-text\">clef étrangère</code> pour\nl'attribut <code class=\"language-text\">num_eleve</code> de cette table en termes d'intégrité et de\ncohérence.</p>\n</li>\n<li>\n<p>On suppose la table <code class=\"language-text\">eleve</code> correctement créée et complétée. Le chef\nd'établissement aimerait lister les élèves (nom, prénom, date de\nnaissance) de la classe <code class=\"language-text\">2A</code>.</p>\n<p>Écrire la commande qui permet d'établir cette liste à l'aide d'une\njointure entre <code class=\"language-text\">eleve</code> et <code class=\"language-text\">seconde</code>.</p>\n</li>\n<li>\n<p>Proposer la structure d'une table <code class=\"language-text\">coordonnees</code> dans laquelle on\npourra indiquer, pour chaque élève, son adresse, son code postal, sa\nville, son adresse mail. Préciser la clef primaire et/ou la clé\nétrangère en vue de la mise en relation avec les autres tables.</p>\n</li>\n</ol>","fields":{"classe":"tg","chapter":"Langage SQL","matter":"nsi","nChapter":"3","part":"Bases de données","nPart":"2","type":"exo"}}},"pageContext":{"slug":"tg/nsi/2-bases-de-donnees/3-langage-sql/exo"}},"staticQueryHashes":["604483588"]}