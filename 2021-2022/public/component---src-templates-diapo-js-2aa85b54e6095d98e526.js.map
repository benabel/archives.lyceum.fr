{"version":3,"file":"component---src-templates-diapo-js-2aa85b54e6095d98e526.js","mappings":"sNAeA,UAEA,UAAmB,KAAEA,EAAF,SAAQC,IACzB,MAAMC,GAAQC,EAAAA,EAAAA,IAAgBH,EAAKI,gBAE7BC,EAAS,iBAAeC,EAAAA,EAAAA,IAC5BJ,EAAMK,eACAC,EAAAA,EAAAA,IAAqBN,EAAMO,YAAYP,EAAMQ,UAE/CC,EAAe,2BAAyBL,EAAAA,EAAAA,IAC5CJ,EAAMK,eACAC,EAAAA,EAAAA,IAAqBN,EAAMO,sBAAsBP,EAAMQ,WAGzDE,EAAQ,QAGRC,EAAoBZ,EAASa,SAChCC,UAAU,EAAGd,EAASa,SAASE,OAASJ,EAAKI,QAC7CC,QAAQ,WAAa,IAQxB,OACE,gBAAC,IAAD,CAAQhB,SAAUA,EAAUD,KAAMA,GAChC,gBAAC,IAAD,CAAQK,MAAQ,GAAEA,IAASa,eAAgB,CAAEC,MAAQ,QACnD,0BAAQP,KAAK,uBAAwB,qGAGxBV,EAAMkB,UAAUlB,EAAMQ,wCACfC,6hBAeCL,EAAAA,EAAAA,IAAqBJ,EAAMK,mCAClCc,EAAAA,EAAAA,IAA4BnB,EAAMK,6CAEpCN,EAASqB,2BAIvB,gBAAC,IAAD,CAAeC,KAAMrB,IACrB,gBAAC,IAAD,CAAQW,kBAAmBA,EAAmBD,KAAMA,IACpD,gBAAC,IAAD,KACE,uCACA,8BAAU,YAAWV,EAAMsB,aAAatB,EAAMQ,YAEhD,2BACE,0BACEE,KAAK,SACLa,UAAU,2CACVC,QA7CR,SAAyBC,GACXA,EAAEC,OAEVC,YAAYC,mBACjB,GAsCK,sCAOA,0BACEC,IAAM,2BAA0BlB,KAChCmB,MAAM,OACNC,OAAO,SAKhB,C","sources":["webpack://gatsby-lyceum-site/./src/templates/diapo.js"],"sourcesContent":["import React from 'react'\nimport { graphql } from 'gatsby'\nimport { Helmet } from 'react-helmet'\n\nimport BreadcrumbNav from '../components/breadcrumb-nav'\nimport TabNav from '../components/tab-nav.js'\nimport Layout from '../components/layout'\nimport MyJumbotron from '../components/jumbotron'\nimport {\n  flattenFileNode,\n  matterNameFromMatter,\n  classeNameFromClasse,\n  classeWikidataURIFromClasse,\n} from '../helpers'\n\nexport default diapoPage\n\nfunction diapoPage({ data, location }) {\n  const cours = flattenFileNode(data.markdownRemark)\n\n  const title = `Diaporama de ${classeNameFromClasse(\n    cours.classe\n  )} en ${matterNameFromMatter(cours.matter)}: ${cours.chapter}`\n\n  const description = `Diaporama reveal.js de ${classeNameFromClasse(\n    cours.classe\n  )} en ${matterNameFromMatter(cours.matter)} intitulé: «${cours.chapter}»`\n\n  // type\n  const type = `diapo`\n\n  // chemin vers le cours pour référence\n  const currentCoursePath = location.pathname\n    .substring(0, location.pathname.length - type.length)\n    .replace(/^\\/|\\/$/g, ``)\n\n  function allowFullscreen(e) {\n    const btn = e.target\n    // l'iframe est juste après!\n    btn.nextSibling.requestFullscreen()\n  }\n\n  return (\n    <Layout location={location} data={data}>\n      <Helmet title={`${title}`} htmlAttributes={{ class: `exo` }}>\n        <script type=\"application/ld+json\">{`\n         {\"@context\": \"http://schema.org/\",\n          \"@type\": \"exercice\",\n          \"name\": \"${cours.part} | ${cours.chapter}\",\n          \"description\": \"${description}\",\n          \"learningResourceType\": [\n            \"lesson\"    ],\n          \"provider\": {\n            \"@type\": \"schema:EducationalOrganization\",\n            \"name\": \"lyceum.fr\"\n          },\n          \"audience\": {\n            \"@type\": \"EducationalAudience\",\n            \"éducationRole\": \"student\"\n          },\n          \"educationalAlignment\": {\n            \"@type\": \"AlignmentObject\",\n            \"alignmentType\": \"educationalLevel\",\n            \"educationalFramework\": \"French Grade Levels\",\n            \"targetName\": \"${classeNameFromClasse(cours.classe)}\",\n            \"@id\": \"${classeWikidataURIFromClasse(cours.classe)}\"\n          },\n          \"url\": \"${location.href}\"\n        }\n    `}</script>\n      </Helmet>\n      <BreadcrumbNav node={cours} />\n      <TabNav currentCoursePath={currentCoursePath} type={type} />\n      <MyJumbotron>\n        <h1>Diaporama</h1>\n        <strong>{`Chapitre ${cours.nChapter}: ${cours.chapter}`}</strong>\n      </MyJumbotron>\n      <div>\n        <button\n          type=\"button\"\n          className=\"btn btn-lg btn-block btn-outline-primary\"\n          onClick={allowFullscreen}\n        >\n          Lancer le diaporama en plein écran\n        </button>\n        <iframe\n          src={`https://diapo.lyceum.fr/${currentCoursePath}/`}\n          width=\"100%\"\n          height=\"400\"\n        ></iframe>\n      </div>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query DiapoQuery($slug: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      fields {\n        classe\n        chapter\n        matter\n        nChapter\n        part\n        nPart\n        type\n      }\n    }\n  }\n`\n"],"names":["data","location","cours","flattenFileNode","markdownRemark","title","classeNameFromClasse","classe","matterNameFromMatter","matter","chapter","description","type","currentCoursePath","pathname","substring","length","replace","htmlAttributes","class","part","classeWikidataURIFromClasse","href","node","nChapter","className","onClick","e","target","nextSibling","requestFullscreen","src","width","height"],"sourceRoot":""}