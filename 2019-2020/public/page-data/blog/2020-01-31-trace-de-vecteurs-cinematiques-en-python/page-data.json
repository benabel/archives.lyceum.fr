{"componentChunkName":"component---src-templates-blog-md-js","path":"/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"exploration-des-possibilités-offertes-par-python\" style=\"position:relative;\"><a href=\"#exploration-des-possibilit%C3%A9s-offertes-par-python\" aria-label=\"exploration des possibilités offertes par python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exploration des possibilités offertes par Python</h2>\n<p>Dans cette partie nous allons tiliser deux bibliothèques particulièrement adaptées à notre travail:</p>\n<ul>\n<li><a href=\"https://pandas.pydata.org/\">pandas</a>: pour l'import de données sous format texte.</li>\n<li><a href=\"https://matplotlib.org/\">matplotlib</a>: pour le tracé des vecteurs.</li>\n</ul>\n<p>A priori ces bibliothèques sont directement installées avec la plupart des distributions python.</p>\n<h3 id=\"export-csv-depuis-logger-pro\" style=\"position:relative;\"><a href=\"#export-csv-depuis-logger-pro\" aria-label=\"export csv depuis logger pro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Export csv depuis <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a></h3>\n<p>Une fois les pointages réalisés dans <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a>, on les exporte au format <code class=\"language-text\">csv</code> dans le même dossier que le script python.</p>\n<p>On obtient un fichier <code class=\"language-text\">csv</code> qui a cette forme(ici, il s'agit d'un pointage de lancer de ballon de basket avec rebond, je l'ai appelé <a href=\"/2019-2020/10a018227686415f3386520187a014b6/basket.csv\"><code class=\"language-text\">basket.csv</code></a>):</p>\n<div class=\"gatsby-highlight\" data-language=\"csv\"><pre class=\"language-csv\"><code class=\"language-csv\">&quot;Analyse Vidéo: Temps (s)&quot;;&quot;Analyse Vidéo: X (m)&quot;;&quot;Analyse Vidéo: Y (m)&quot;;&quot;Analyse Vidéo: Vitesse X (m/s)&quot;;&quot;Analyse Vidéo: Vitesse Y (m/s)&quot;\n0;0,0524329864114;2,06735774994;2,13773602824;1,97072540103\n0,013;0,0898851195624;2,09731945646;0,65546386032;1,3425328963\n0,046;0,0823946929322;2,12728116298;0,416469595422;1,36256531621\n0,079;0,104865972823;2,17971414939;0,821528854964;1,84956069973</code></pre></div>\n<p>Les valeurs sont séparées par des <code class=\"language-text\">;</code> et le séparateur décimal est <code class=\"language-text\">,</code>.</p>\n<p>On les importe dans python grâce à la libraire Python <code class=\"language-text\">pandas</code> avec la fonction <code class=\"language-text\">read_csv()</code>, et on simplifie les noms de colonne pour y accéder simplement avec la notation pointée.</p>\n<ul>\n<li><code class=\"language-text\">data.x</code> pour les abscisses.</li>\n<li><code class=\"language-text\">data.vitesse_x</code> pour la composant horizontale de la vitesse.</li>\n</ul>\n<p>Nous allons maintenant les importer dans Python grâce à la bibliothèque pandas.</p>\n<h3 id=\"import-des-données-avec-pandas\" style=\"position:relative;\"><a href=\"#import-des-donn%C3%A9es-avec-pandas\" aria-label=\"import des données avec pandas permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Import des données avec <code class=\"language-text\">pandas</code></h3>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token comment\">## Format A4 pour les graphs(en pouces)</span>\nplt<span class=\"token punctuation\">.</span>rcParams<span class=\"token punctuation\">[</span><span class=\"token string\">\"figure.figsize\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token number\">11.7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8.3</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"basket.csv\"</span><span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\";\"</span><span class=\"token punctuation\">,</span> decimal<span class=\"token operator\">=</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">## On renomme les colonnes sans le Analyse Vidéo ni l'unité</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">rename_cols</span><span class=\"token punctuation\">(</span>col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Renomme les colonnes pour garder que le symbole\"\"\"</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token string\">\"(\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">\" \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"_\"</span><span class=\"token punctuation\">)</span>\n    col <span class=\"token operator\">=</span> col<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token string\">\"_\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> col\n<span class=\"token comment\">##data.head()    </span>\ndata <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>rename<span class=\"token punctuation\">(</span>rename_cols<span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token string\">'columns'</span><span class=\"token punctuation\">)</span>\ndata<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>temps</th>\n      <th>x</th>\n      <th>y</th>\n      <th>vitesse_x</th>\n      <th>vitesse_y</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0.000</td>\n      <td>0.052433</td>\n      <td>2.067358</td>\n      <td>2.137736</td>\n      <td>1.970725</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>0.013</td>\n      <td>0.089885</td>\n      <td>2.097319</td>\n      <td>0.655464</td>\n      <td>1.342533</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>0.046</td>\n      <td>0.082395</td>\n      <td>2.127281</td>\n      <td>0.416470</td>\n      <td>1.362565</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>0.079</td>\n      <td>0.104866</td>\n      <td>2.179714</td>\n      <td>0.821529</td>\n      <td>1.849561</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>0.113</td>\n      <td>0.142318</td>\n      <td>2.247128</td>\n      <td>1.233414</td>\n      <td>2.783728</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n</div>\n<h3 id=\"tracé-des-vecteurs-avec-matplotlib\" style=\"position:relative;\"><a href=\"#trac%C3%A9-des-vecteurs-avec-matplotlib\" aria-label=\"tracé des vecteurs avec matplotlib permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tracé des vecteurs avec <code class=\"language-text\">matplotlib</code></h3>\n<p>Les positions sont tracées avec <code class=\"language-text\">plt.scatter</code>, les vecteurs avec <code class=\"language-text\">plt.quiver</code>. Les arguments utilisés peuvent être changés, notamment pour les échelles qui ne sont pas évidentes à régler.</p>\n<p>Voici les liens vers la doc.</p>\n<ul>\n<li><a href=\"https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.scatter.html\">https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.scatter.html</a></li>\n<li><a href=\"https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.quiver.html?highlight=quiver#matplotlib.pyplot.quiver\">https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.quiver.html?highlight=quiver#matplotlib.pyplot.quiver</a></li>\n</ul>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">## Positions en vert</span>\nplt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">## vecteurs vitesse en bleu</span>\n<span class=\"token comment\">## TODO travailler sur l'échelle</span>\nplt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n           color<span class=\"token operator\">=</span><span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span>\n           scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n           scale<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n           alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n           label<span class=\"token operator\">=</span><span class=\"token string\">\"$\\\\vec{v}$\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">## vecteurs accélération en rouge</span>\n<span class=\"token comment\">## TODO travailler sur l'échelle</span>\ndiff <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>diff<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n           data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n           diff<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n           diff<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n           color<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span>\n           scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n           scale<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n           alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n           label<span class=\"token operator\">=</span><span class=\"token string\">\"$\\\\vec{\\Delta v}$\"</span><span class=\"token punctuation\">)</span>\nplt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;matplotlib.legend.Legend at 0x7f7b08a96e20&gt;</code></pre></div>\n</div>\n<p><img src=\"/2019-2020/a8e263565187598a570457a06a9ba808/index_4_1.svg\" alt=\"svg\" width=\"100%\"></p>\n<h3 id=\"améliorations-possibles\" style=\"position:relative;\"><a href=\"#am%C3%A9liorations-possibles\" aria-label=\"améliorations possibles permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Améliorations possibles</h3>\n<p>On peut utiliser une moyenne mobile sur les mesures pour avoir moins de points et améliorer la précison.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data2 <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>rolling<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> center<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>mean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndata2</code></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>temps</th>\n      <th>x</th>\n      <th>y</th>\n      <th>vitesse_x</th>\n      <th>vitesse_y</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>69</th>\n      <td>2.2649</td>\n      <td>5.106973</td>\n      <td>1.858375</td>\n      <td>0.876044</td>\n      <td>-1.294343</td>\n    </tr>\n    <tr>\n      <th>70</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>71</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>72</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n<p>74 rows × 5 columns</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">trace_vecteurs</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># Positions en vert</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span> color<span class=\"token operator\">=</span><span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># vecteurs vitesse en bleu</span>\n    <span class=\"token comment\"># TODO travailler sur l'échelle</span>\n    plt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n               color<span class=\"token operator\">=</span><span class=\"token string\">\"blue\"</span><span class=\"token punctuation\">,</span>\n               scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n               scale<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n               alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n               label<span class=\"token operator\">=</span><span class=\"token string\">\"$\\\\vec{v}$\"</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\"># vecteurs accélération en rouge</span>\n    <span class=\"token comment\"># TODO travailler sur l'échelle</span>\n    diff <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>diff<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>quiver<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n               data<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n               diff<span class=\"token punctuation\">.</span>vitesse_x<span class=\"token punctuation\">,</span>\n               diff<span class=\"token punctuation\">.</span>vitesse_y<span class=\"token punctuation\">,</span>\n               color<span class=\"token operator\">=</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">,</span>\n               scale_units<span class=\"token operator\">=</span><span class=\"token string\">\"xy\"</span><span class=\"token punctuation\">,</span>\n               scale<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n               alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n               label<span class=\"token operator\">=</span> <span class=\"token string\">\"$\\\\vec{\\Delta v}$\"</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntrace_vecteurs<span class=\"token punctuation\">(</span>data2<span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/usr/lib/python3.8/site-packages/matplotlib/quiver.py:748: RuntimeWarning: invalid value encountered in less\n  short = np.repeat(length &lt; minsh, 8, axis=1)\n/usr/lib/python3.8/site-packages/matplotlib/quiver.py:762: RuntimeWarning: invalid value encountered in less\n  tooshort = length &lt; self.minlength</code></pre></div>\n</div>\n<hr>\n<p><img src=\"/2019-2020/a8f39ac040e8209567c4e7fef03763f1/index_7_1.svg\" alt=\"svg\" width=\"100%\"></p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">## sous échantillonage</span>\nN <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\ndata3 <span class=\"token operator\">=</span> data2<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span>i <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> data2<span class=\"token punctuation\">.</span>index <span class=\"token keyword\">if</span> i <span class=\"token operator\">%</span> N <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\ntrace_vecteurs<span class=\"token punctuation\">(</span>data3<span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<p><img src=\"/2019-2020/f74347391c68ea082597c44f773eff19/index_8_0.svg\" alt=\"svg\" width=\"100%\"></p>\n<h2 id=\"création-dun-module-trace_cinematique\" style=\"position:relative;\"><a href=\"#cr%C3%A9ation-dun-module-trace_cinematique\" aria-label=\"création dun module trace_cinematique permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Création d'un module <code class=\"language-text\">trace_cinematique</code></h2>\n<p>Compte tenu de la complexité du code et des paramètres des tracés, j'ai créé un module <code class=\"language-text\">trace_cinematique</code> qui contient une fonction <code class=\"language-text\">trace_vecteurs</code> que les élèves peuvent importer simplement et utiliser en travaillant sur les paramètres proposés de la fonction.</p>\n<p>Le module <code class=\"language-text\">trace_cinematique</code> est disponible dans un dépôt sur <a href=\"https://framagit.org/benabel/trace_cinematique/\">framagit</a>.</p>\n<p>Vous pouvez le télécharger à cette adresse: <a href=\"https://framagit.org/benabel/trace_cinematique/-/archive/master/trace_cinematique-master.zip\">https://framagit.org/benabel/trace_cinematique/-/archive/master/trace_cinematique-master.zip</a></p>\n<p>N'hésitez pas à faire part de vos remarques en ouvrant un <a href=\"https://framagit.org/benabel/trace_cinematique/issues\">ticket</a>.</p>\n<h3 id=\"mode-demploi\" style=\"position:relative;\"><a href=\"#mode-demploi\" aria-label=\"mode demploi permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mode d'emploi</h3>\n<p>Après avoir fait les pointages, les élèves exportent leurs pointages au format <code class=\"language-text\">csv</code> à partir de <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a> dans le même dossier que le fichier <code class=\"language-text\">trace_cinematique</code> .</p>\n<p>Ensuite dans un fichier nommé par exemple <code class=\"language-text\">fichier_eleve.py</code> placé toujours dans le même dossier, les élèves importent la fonction <code class=\"language-text\">trace_vecteurs</code> et donnent le nom du fichier csv en argument:</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">## import de la fonction de tracé</span>\n<span class=\"token keyword\">from</span> trace_cinematique <span class=\"token keyword\">import</span> trace_vecteurs\n\n<span class=\"token comment\">## appel de la fonction pour le tracé des vecteurs cinematiques</span>\ntrace_vecteurs<span class=\"token punctuation\">(</span><span class=\"token string\">\"basket.csv\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<p><img src=\"/2019-2020/b5d98a14e29232c66368d1c9a606e001/index_10_0.svg\" alt=\"svg\" width=\"100%\"></p>\n<h3 id=\"travail-sur-les-paramètres-du-tracé\" style=\"position:relative;\"><a href=\"#travail-sur-les-param%C3%A8tres-du-trac%C3%A9\" aria-label=\"travail sur les paramètres du tracé permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Travail sur les paramètres du tracé</h3>\n<p>une documentation de la fonction est disponible grâce à la fonction générique <code class=\"language-text\">help()</code>.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token builtin\">help</span><span class=\"token punctuation\">(</span>trace_vecteurs<span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Help on function trace_vecteurs in module trace_cinematique:\n\ntrace_vecteurs(csv_file, echelle_v=1, echelle_dv=1, n_lissage=10, n_select=1)\n    Tracé de vecteurs vitesses et variations de vecteurs vitesse\n    \n    Arguments\n    ---------\n    csv_file\n        chemin vers le fichier csv des pointages\n    echelle_v\n        echelle de tracé des vecteurs vitesse: par défaut 1\n    echelle_dv\n        echelle de tracé des vecteurs variation de vecteurs vitesses: par défaut 1\n    n_lissage\n        nombre de points de lissage par défaut 10\n    n_select\n        fraction des points ou les vecteurs sont tracés\n        p.ex: pour n_s=3, 1 vecteur sur 3 st tracé</code></pre></div>\n</div>\n<hr>\n<p>Ensuite en jouant sur les paramètres envoyés à la fonction(échelles , fractions de vecteurs tracés…)</p>\n<p>On peut obtenir un tracé comme celui-ci:</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">trace_vecteurs<span class=\"token punctuation\">(</span><span class=\"token string\">\"basket.csv\"</span><span class=\"token punctuation\">,</span>\n               echelle_v<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n               echelle_dv<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n               n_lissage<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span>\n               n_select<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<p><img src=\"/2019-2020/61885933b8f8b49e2d0e74ab09e7a862/index_14_0.svg\" alt=\"svg\" width=\"100%\"></p>\n<h3 id=\"licence-et-droits-dutilisation\" style=\"position:relative;\"><a href=\"#licence-et-droits-dutilisation\" aria-label=\"licence et droits dutilisation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Licence et droits d'utilisation</h3>\n<p>Le code mis à disposition dans le module <code class=\"language-text\">trace_cinematique</code> est sous licence <a href=\"https://fr.wikipedia.org/wiki/Licence_ISC\">ISC</a>, une licence libre qui permet de l'utiliser et le modifier comme bon vous semble.</p>\n<p>Le logiciel <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a> est un logiciel sous droits d'auteurs, je n'ai aucun rapport avec l'entreprise qui le développe, vous pouvez certainement adapter le code au logiciel que vous utilisez dans votre établissement.</p>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#exploration-des-possibilit%C3%A9s-offertes-par-python\">Exploration des possibilités offertes par Python</a></p>\n<ul>\n<li><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#export-csv-depuis-logger-pro\">Export csv depuis Logger Pro©</a></li>\n<li><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#import-des-donn%C3%A9es-avec-pandas\">Import des données avec <code class=\"language-text\">pandas</code></a></li>\n<li><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#trac%C3%A9-des-vecteurs-avec-matplotlib\">Tracé des vecteurs avec <code class=\"language-text\">matplotlib</code></a></li>\n<li><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#am%C3%A9liorations-possibles\">Améliorations possibles</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#cr%C3%A9ation-dun-module-trace_cinematique\">Création d'un module <code class=\"language-text\">trace_cinematique</code></a></p>\n<ul>\n<li><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#mode-demploi\">Mode d'emploi</a></li>\n<li><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#travail-sur-les-param%C3%A8tres-du-trac%C3%A9\">Travail sur les paramètres du tracé</a></li>\n<li><a href=\"/2019-2020/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/#licence-et-droits-dutilisation\">Licence et droits d'utilisation</a></li>\n</ul>\n</li>\n</ul>","timeToRead":8,"fields":{"slug":"blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/"},"frontmatter":{"author":"Benjamin Abel","tags":["physique","mécanique","cinématique","vecteur","vitesse","variation"],"title":"Tracé de vecteurs vitesse et variations de vitesse en Python","date":"2020-01-31T00:00:00.000Z"}}},"pageContext":{"slug":"blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/"}}}