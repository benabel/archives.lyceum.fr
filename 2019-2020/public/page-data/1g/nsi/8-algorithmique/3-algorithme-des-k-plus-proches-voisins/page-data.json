{"componentChunkName":"component---src-templates-cours-md-js","path":"/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\"><summary>Programme Officiel</summary><div><table class=\"table table-bordered table-hover\"><thead class=\"table-warning\"><tr><th colspan=\"1\" rowspan=\"1\"><p>Contenus</p></th><th colspan=\"1\" rowspan=\"1\"><p>Capacités attendues</p></th><th colspan=\"1\" rowspan=\"1\"><p>Commentaires</p></th></tr></thead><tbody><tr><td colspan=\"1\" rowspan=\"1\"><p>Algorithme des k plus\nproches voisins</p></td><td colspan=\"1\" rowspan=\"1\"><p>Écrire un algorithme qui prédit\nla classe d’un élément en\nfonction de la classe majoritaire\nde ses k plus proches voisins.</p></td><td colspan=\"1\" rowspan=\"1\"><p>Il s’agit d’un exemple d’algorithme\nd’apprentissage.</p></td></tr></tbody></table></div><a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme complet</a></details>\n<p>Dans ce chapitre nous abordons un algorithme dit d’<strong>apprentissage automatique</strong> qui permet à un programme d’apprendre à classer des « objets » en utilisant un jeu de données pour qu’il y trouve des similarités.</p>\n<p>C’est un algorithme simple de <em>« machine learning »</em> un sujet très en vogue à l’heure actuelle dans le domaine de l’informatique.</p>\n<h2 id=\"principe\" style=\"position:relative;\"><a href=\"#principe\" aria-label=\"principe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe</h2>\n<h3 id=\"principe-de-lapprentissage-supervisé\" style=\"position:relative;\"><a href=\"#principe-de-lapprentissage-supervis%C3%A9\" aria-label=\"principe de lapprentissage supervisé permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe de l'apprentissage supervisé</h3>\n<p>A l'heure actuelle, l'intelligence artificielle se base souvent sur l'utilisation de données annotées que l'on fournit à l'ordinateur pour qu'il y trouve des similarités(c'est ce que l'on appele de l'apprentissage supervisé).</p>\n<div class=\"example\"><p>On peut fournir à un programme une grande quantité d'écritures de chiffres.</p><p>Le programme va lire toutes les données, et grâce à des algorithmes plus ou moins évolués, le programme va trouver les points communs entre les chiffres représentant le même nombre.\n<a title=\"Josef Steppan / CC BY-SA (https://creativecommons.org/licenses/by-sa/4.0)\" href=\"https://commons.wikimedia.org/wiki/File:MnistExamples.png\"><img width=\"512\" alt=\"MnistExamples\" src=\"https://upload.wikimedia.org/wikipedia/commons/2/27/MnistExamples.png\"></a></p><p>Ensuite, on peut donner au programme une image non annotée, et il nous dira s'il s'agit d'un 1, d'un 6 ou d'un 8...</p><p>C'est un système qui est utilisé depuis des années pour la lecture des codes postaux sur les lettres avec un efficacité supérieure à 99%.</p></div>\n<h3 id=\"principe-lalgorithme-des-k-plus-proches-voisins\" style=\"position:relative;\"><a href=\"#principe-lalgorithme-des-k-plus-proches-voisins\" aria-label=\"principe lalgorithme des k plus proches voisins permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Principe l'algorithme des k plus proches voisins</h3>\n<p>On dispose d'une collection de données annotées, et on veut savoir à quelle catégorie appartient un nouvel échantillon. Il s'agit d'un problème de <strong>classification</strong>.</p>\n<p>Prenons l'exemple suivant issu de cette <a href=\"https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/\">page</a>.</p>\n<blockquote>\n<p>Imaginons… On étudie des papillons. Ceux-ci ont une certaine largeur et une certaine longueur. Certains sont des males, d’autres des femelles.</p>\n<p>On étudie un certain nombre de ces papillons. Cela constitue un jeu d’apprentissage dont les caractéristiques sont représentées ci-dessous.</p>\n<p>A partir de ce jeu d’apprentissage, on cherche à prédire le sexe d’un papillon dont on connaît les dimensions.</p>\n</blockquote>\n<blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/29114/geogebra-papillons.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABdUlEQVQoz01R2W6DMBDMU15y/Gt5CygfWrVpg1AAQaDg+8CmYzuoHSlkvOzs7Jjd8XisqsY5r5QWgo/DIKU02miclTbGKBn/rNEbnHNN00C4w6+pW7es1phhHFAN742WWhJJQKikDvO4CBPQZMy6rm3bns/nIH7/LAcCG4WRnHNoZzFLJdGpFkP7Tj9qOjGpghJvvffwOJ1OQXx7fEzrD6wWu3ARxN557Mkkm8TMGWfCOr8si7XROjm/1u7aDmcdkhk4c8nhbI2lgjKmIQrJlSYE24em5PwSY4xffYxkoVWACSvGzIZShbmUynATOsSG+M8ZY5AWEizMGAu3HbPhzuMnkPGkUhFtaK7rOogPh0NVVahSSmE7TRPfgEF4CiFYxDiO6AFBpSzLLXMXMiMbRsIWBIuBp0oCEvV9Dxk4miF5Od/vd1ThSQh5Pp+JzBGJpCc8E8Eyt6/vIN7v91mWXa/XPM+LorhcLonkEcWG/0U0v2UZhL91hSJlA6ZBmgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Classification des papillons\"\n        title=\"Classification des papillons\"\n        src=\"/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/e5715/geogebra-papillons.png\"\n        srcset=\"/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/8514f/geogebra-papillons.png 192w,\n/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/804b2/geogebra-papillons.png 384w,\n/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/e5715/geogebra-papillons.png 768w,\n/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/4ad3a/geogebra-papillons.png 1152w,\n/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/71c1d/geogebra-papillons.png 1536w,\n/2019-2020/static/f93143296c3d3778756685ad22d4a5a2/29114/geogebra-papillons.png 1920w\"\n        sizes=\"(max-width: 768px) 100vw, 768px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</blockquote>\n<blockquote>\n<p>L’objectif est maintenant d’identifier le sexe d’un nouveau papillon en s’appuyant sur notre expérience précédente.</p>\n<p><strong>Le principe est simple : On fait l’hypothèse que notre papillon a le même sexe que ces voisins.</strong></p>\n</blockquote>\n<p>On voit par exemple que le voisin le plus proche est un paillon mâle:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 159px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2019-2020/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.90566037735849%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACU0lEQVQ4y3VTy1IaQRSdr/CX3PoBLvgI/QXZu7B0p26STUo2Wi4IMCAzgAkUY6qEQYlAUZaDo8yDnmd350y34ZEyZ9F1u/ue7nNfSpqmlNIwDKMoYoylayCE4Eo6LN3iOF5ulSRJYIUC2Gfb7CqFAbI0lmsQBPhjud0gy/d83wcN5zCkH4APPyFTgUggZSnnfKe4s1ffg+ETHxwZDrZSNmj0LxQZrS8QRiGNaH1UN56Nh95DuVxWVbVSqWia1uv18BV8FosFKJCAVQETzxOBJE6iOKIx1Wt6p9OZz+eZQsYQRkvXb2o1IkiRiBGSlGUaZcIgT62qw99DGFnCkFjfZ66Lbf/pSdc0qE8Zgx9lbIMMj8lk0mw2YWRyFovssWqVn5+nFxdcVRv5/NvZGb+8pFdXdDZbkaEInlA7nU5hIJuh55F+P2y18CQtFnmjMazXu4UCv7tLTJM6zqpUkqzpmuM4qDRySizL3N7u7+7SIEh4hueXl1/395kuIV5ZVh8R4rT9s22/2qgNToltW8fH1ukpJQRRoPvebDt/cDAZjzkc4lgBB0zP81zXBadUL3WNblZk33dcF/9HSRJmFXFwaBhGLpcrQDnnqNlHzEEY8JSPXkdbX7YOvx7Cpoz6nocPIS0M/P198/r6sdGoeF5WatneynrTkpDoU304Hpa+lxzXwRX/ADs6ap+cfHt/n6HZVu25XiomAF/LsqrVqq7rg8HANM3b2x+GoSE4yJe9/clUYZ5iATyBO9TsUcC2beHNkKCNwfjfPGehiraRcuQ8/DPPfwC8i7WgodnSiAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"k=1\"\n        title=\"k=1\"\n        src=\"/2019-2020/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png\"\n        srcset=\"/2019-2020/static/67af857cfe8fa6faf1e98c96b10a70eb/f69fa/geogebra-1voisin.png 159w\"\n        sizes=\"(max-width: 159px) 100vw, 159px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Cependant la particularité de l'algorithme des k plus proches voisins est le fait que l'on puisse choisir <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span></span></span></span>, le nombre de plus proches voisins nous permettant de faire notre choix, on va prendre plusieurs voisins pour éviter de se baser que sur une observation pour notre choix.</p>\n<p>Voici par exemple l'application pour <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding=\"application/x-tex\">k=5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">5</span></span></span></span>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 245px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2019-2020/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAClklEQVQ4y02Ty07jQBBF/c38A5+QD2AVtiEbwiZs0DBIQ8gLO1JedkLIC4jbcfvdPafdgpmSIpU7detW3apypJRZbUmSpGma5/lms3l9fe31ei8vL4PBYDQaTafTKIqUUoTJ2my8gwcAr6qq7XY7HA7n8/npdArDsCxLgoQQq9WKLIvFgpcfMExOkiU8aa0h7Pf7vCqtKlXh8E5GCK3j+/5kMslr47MoCqfKK5C73W48HvNd1QaAxGVtfOKTi7C3tzfXdW06A758utSl7g8MZ5zERNzMbtrzNo9ZnhFBnNXC4l3XozscXhzv6PlLKvJhEJFQuXJ37mQ/yWSWpAmgVMrz+WzETBIAQnyNRn2SGsF0pb2JF8exLc/WbMumrep0oiv0RKhCwafu7nbN5q+iIF45ZKUNW4bts6gtyTKSqW5X3d6qTke12+r+Xp/DzTZ9/uN9fBwgcGBHQ8DA8szICBwO6gsuLqKnJxWK/HAohVBCUAuRIIMgwHGYPithVYllXKF3XmV5LsPweH0t5zOCTMNFQeJatjwIVoChcRBpNB6VRSlTqXPdWXSaXlMrHcVnupVJ1motPz5FLXZmh0+lB2opS4fEwTxgjVgMONfhevo5NWyIVBQM+OHhIIQ03Xwb22o30hkfxq1ha71Ys1g8WaltF3ZDSAShHTg+nB30U8osyePqsbPqLLzF/rBHMiTnxx92522TJLV4cnEtjUaDjTTMZpmViqLYdXtXV8Pn5y+tQSZMPq2NAMZJFpg5j/V6besyh2FSMhulpIy73d+z2YpNsGPX30Y0R8Ztvr+/E/nvMKyA9V4YgXx/SRA3yALT3vF4tDfDOBGVRLaWsu7QgO0lFUbb1Mqz3++RdFkbdUL7c5v/n+RfGMb1rmFWfScAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"k=5\"\n        title=\"k=5\"\n        src=\"/2019-2020/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png\"\n        srcset=\"/2019-2020/static/149fcbf4c88f134c75494257d35e417d/8514f/geogebra-5-voisins.png 192w,\n/2019-2020/static/149fcbf4c88f134c75494257d35e417d/86a2e/geogebra-5-voisins.png 245w\"\n        sizes=\"(max-width: 245px) 100vw, 245px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<details class=\"appli\" data-titre=\"Influence du nombre de voisins\"><summary>Influence du nombre de voisins</summary><p>En utilisant ce fichier <a href=\"https://www.geogebra.org/m/zhbhycsh\">geogebra</a> montrer comment le choix de <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span></span></span></span> a une influence sur la prévision de la méthode.</p></details>\n<h2 id=\"implémentation-naïve-en-python\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-na%C3%AFve-en-python\" aria-label=\"implémentation naïve en python permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation naïve en Python</h2>\n<p>Le code qui suit utilise des méthodes de <code class=\"language-text\">pandas</code> <code class=\"language-text\">matplotlib</code> et <code class=\"language-text\">numpy</code> non vues, il n'est pas nécessaire de savoir le refaire, par contre en utilisant les commentaires vous pouvez voir comment est effctuée la classification dans cet implémentation.</p>\n<h3 id=\"classification-délèves-en-conseil-de-classe\" style=\"position:relative;\"><a href=\"#classification-d%C3%A9l%C3%A8ves-en-conseil-de-classe\" aria-label=\"classification délèves en conseil de classe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Classification d'élèves en conseil de classe</h3>\n<p>Nous allons utiliser un fichier <code class=\"language-text\">csv</code> qui contient les <em>moyennes, absences et mentions d'élèves de lycée</em>.</p>\n<p>Vous pouvez visualiser ce fichier ici: <a href=\"https://github.com/heoinfo/k-plus-proches-voisins/blob/master/data/mentions-anonymised.csv\">https://github.com/heoinfo/k-plus-proches-voisins/blob/master/data/mentions-anonymised.csv</a></p>\n<p>A partir de ce fichier de données <strong>l'algorithme sera capable de vous indiquer quelle sera votre mention (Félicitations, compliments...)</strong> en fonction de notre moyenne générale et notre nombre d'absences.</p>\n<h3 id=\"tracé-de-la-classification\" style=\"position:relative;\"><a href=\"#trac%C3%A9-de-la-classification\" aria-label=\"tracé de la classification permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Tracé de la classification</h3>\n<p>Commencons par observer l'ensemble des données sous forme graphique pour se faire une idée.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">%</span>matplotlib inline\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np</code></pre></div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># données du conseil de classe </span>\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">'./data/mentions-anonymised.csv'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># On affiche 3 échantillons du tableau</span>\ndf<span class=\"token punctuation\">.</span>sample<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Mentions</th>\n      <th>1/2j abs</th>\n      <th>Rang</th>\n      <th>Moyenne Générale</th>\n      <th>PHILOSOPHIE</th>\n      <th>HISTOIRE-GEOGRAPHIE</th>\n      <th>MATHEMATIQUES</th>\n      <th>PHYSIQUE-CHIMIE</th>\n      <th>SCIENCES VIE &amp; TERRE</th>\n      <th>ED.PHYSIQUE &amp; SPORT.</th>\n      <th>...</th>\n      <th>ESPAGNOL LV2</th>\n      <th>ITALIEN LV2</th>\n      <th>JAPONAIS LV2</th>\n      <th>SPECIALITE SVT</th>\n      <th>SPECIALITE PHYS</th>\n      <th>NISSART LV3</th>\n      <th>SPECIALITE MATHS</th>\n      <th>SPECIALITE ISN</th>\n      <th>arts fac</th>\n      <th>ENS. MORAL &amp; CIVIQUE</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>59</th>\n      <td>Encouragements</td>\n      <td>16.0</td>\n      <td>20.0</td>\n      <td>12.1</td>\n      <td>13.5</td>\n      <td>NaN</td>\n      <td>12.4</td>\n      <td>9.0</td>\n      <td>11.0</td>\n      <td>18.0</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>12.1</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>N.Not</td>\n      <td>13.7</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>Félicitations</td>\n      <td>9.0</td>\n      <td>3.0</td>\n      <td>17.8</td>\n      <td>18.5</td>\n      <td>18.5</td>\n      <td>18.9</td>\n      <td>20.0</td>\n      <td>17.6</td>\n      <td>12.0</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>17.3</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>16.3</td>\n      <td>18.7</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>68</th>\n      <td>Encouragements</td>\n      <td>2.0</td>\n      <td>24.0</td>\n      <td>12.3</td>\n      <td>13.7</td>\n      <td>12.5</td>\n      <td>12.4</td>\n      <td>11.5</td>\n      <td>12.0</td>\n      <td>15.5</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>14.5</td>\n      <td>NaN</td>\n      <td>11.1</td>\n      <td>NaN</td>\n      <td>16.9</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>14.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>3 rows × 22 columns</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># on ne conserve que 3 colonnes pour cette étude simplifiée</span>\ndf <span class=\"token operator\">=</span>  df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Moyenne Générale'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'1/2j abs'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Mentions'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\ndf</code></pre></div>\n</div>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Moyenne Générale</th>\n      <th>1/2j abs</th>\n      <th>Mentions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>17.4</td>\n      <td>3.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>18.1</td>\n      <td>5.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>18.2</td>\n      <td>NaN</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>17.0</td>\n      <td>1.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>17.6</td>\n      <td>2.0</td>\n      <td>Félicitations</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>9.0</td>\n      <td>12.0</td>\n      <td>Encouragements</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>9.4</td>\n      <td>14.0</td>\n      <td>Pas de mention</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>7.7</td>\n      <td>49.0</td>\n      <td>Pas de mention</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>12.3</td>\n      <td>32.0</td>\n      <td>Pas de mention</td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>11.7</td>\n      <td>33.0</td>\n      <td>Pas de mention</td>\n    </tr>\n  </tbody>\n</table>\n<p>96 rows × 3 columns</p>\n</div>\n</div>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> tracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> mention <span class=\"token keyword\">in</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Pas de mention\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Encouragements\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Compliments\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Félicitations\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        df_mention <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>loc<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">\"Mentions\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> mention<span class=\"token punctuation\">]</span>\n        plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>df_mention<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> df_mention<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span>mention<span class=\"token punctuation\">,</span> alpha<span class=\"token operator\">=</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n    plt<span class=\"token punctuation\">.</span>legend<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2019-2020/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACBUlEQVQ4y62Ty4oTQRSG8y7ufAEHnYXiYmBk8KVkBmYnvoHLwLiIBiGjs8guIllIYugwGRJz6U51uivV17p1HU9XJyGjERQ8cDhd1ae+/uvvqloNYz6dvgYhADwP/jbyPMd2D1zXhdFoBGmagu/7NzULvLs7B+KDGI9zzZjCflUIoQxWY8y91FqrnIeK0kD1+33V6/XKyqWUQAhpWOBsPr8sv1okiZRBACJNrAoE7BRtn4uiAM7WEGKf4zgwHA5hNpuVIoBS2rTApbe8qPbBpYoYULYEU1EsaJtbsFEKNKZAmzjnZbXA9XpdAYlLLgfJLQz6X2Uex0CDhVViAXu+baEaa2H234AFkmCjkITsnDEHvn95K6PEh1WyhFWEUJntVJKI71ZnUgPH3ClGbyuFrAJOZwvroaBT+W3xAxsksIiClvnGNwPjVQKZ0Ad93QIZ2wDHC/8CJMWZufRCAinCIm5AZ2tIk8huu1SUS33Y01+B07mLChM8W5kEIwyjgVEFmEKkxl0S44ehqew0f4r7wGDlv7Jm439G4zTPYl0Nq+R4+vbHB1KU6+M4fm+BjjN8A/8Yovh9Dm/KZwtstVoP2u32aRiGj95dXZ3djkbH3W73WaPReIGH9ehDs3na6XSeTyaTJ/V6/SX2HX1sXZ+0rj+deJ77GOfO8Po9HQwGD2sIrv3P+AkKCVoXqpbYpwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2019-2020/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png\"\n        srcset=\"/2019-2020/static/aa7e3a26233e59e7a0e6bba3c898f299/8514f/cours_4_0.png 192w,\n/2019-2020/static/aa7e3a26233e59e7a0e6bba3c898f299/2b727/cours_4_0.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>On voit bien le groupe des <strong>Félicitations</strong> se dégager avec des hautes notes et peu d'absences, ainsi que le groupe <strong>Pas de mention</strong> pour les absentéistes. Par contre la zone basse du graphique présente de nombreux points de divers mentions proches. </p>\n<h3 id=\"implémentation-de-lalgorithme\" style=\"position:relative;\"><a href=\"#impl%C3%A9mentation-de-lalgorithme\" aria-label=\"implémentation de lalgorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Implémentation de l'algorithme</h3>\n<p>Nous allons maintenant définir la fonction qui à partie de la moyenne et des absences données en argument renverra la mention des k plus proches voisins(par défaut: 3).</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">k_plus_proches_voisins</span><span class=\"token punctuation\">(</span>moyenne<span class=\"token punctuation\">,</span> absences<span class=\"token punctuation\">,</span> k<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token triple-quoted-string string\">\"\"\"Renvoie la classe des k plus proches voisins\n    \n    Entrée:\n        moyenne: moyenne de l'élève\n        absences: nb de 1/2j d'absences lors du trimestre\n        k: nombre de voisins les plus proches à utiliser(par défaut 3)\n        \n    Sortie:\n        renvoie les classe la plus probable des k plus porches voisins\"\"\"</span>\n    \n    <span class=\"token comment\"># on commence par afficher notre point sur un graphique</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>absences<span class=\"token punctuation\">,</span> moyenne<span class=\"token punctuation\">,</span> label<span class=\"token operator\">=</span><span class=\"token string\">\"Elève étudié\"</span><span class=\"token punctuation\">,</span> marker<span class=\"token operator\">=</span><span class=\"token string\">\"P\"</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token comment\"># on crée une liste pour stocker les distances euclidiennes</span>\n    df<span class=\"token punctuation\">[</span><span class=\"token string\">'distance'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> row<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> moyenne<span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span> absences<span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token operator\">**</span><span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># On affiche les trois plus courtes distances</span>\n    df_voisins <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">.</span>distance<span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>k<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>df_voisins<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># on les marque sur le graph</span>\n    plt<span class=\"token punctuation\">.</span>scatter<span class=\"token punctuation\">(</span>df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"1/2j abs\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"Moyenne Générale\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                label<span class=\"token operator\">=</span><span class=\"token string\">\"Plus proches voisins\"</span><span class=\"token punctuation\">,</span> marker<span class=\"token operator\">=</span><span class=\"token string\">\"*\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># On ajoute tous les autres points</span>\n    tracé_graph<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> df_voisins<span class=\"token punctuation\">[</span><span class=\"token string\">\"Mentions\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>value_counts<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>nlargest<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<h3 id=\"appels-de-la-fonction\" style=\"position:relative;\"><a href=\"#appels-de-la-fonction\" aria-label=\"appels de la fonction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Appels de la fonction</h3>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">k_plus_proches_voisins<span class=\"token punctuation\">(</span><span class=\"token number\">12.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    Moyenne Générale  1/2j abs        Mentions  distance\n32              12.3      11.0     Compliments  1.019804\n62              11.6       9.0  Pas de mention  1.345362\n66              11.4       9.0  Pas de mention  1.486607</code></pre></div>\n</div>\n<hr>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Pas de mention    2\nName: Mentions, dtype: int64</code></pre></div>\n</div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2019-2020/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACIklEQVQ4y62Sy47aMBSGeZfu+gIdtV206mKkqUZ9qWpGYlf1LZCmCwrSiOlFYscG2BQIBEQgJJlcnQtxYjs+tc2AoGVTqX905JMT+/PxH9dqQqZpfgIhHAVwLC5rGINt27Ber8GyLGCMAaUUzilN0x+SV1stlzckQRDaG4yzVMzmlJSE4iKgQeBTTdPocrmks9mM6rpO4zimZVlKKuWcyygkUNSbCmhuNnVZKPMt2SIkRqx2LEQehgEsFguYTqcwmUxULjsUkOOgT8C2AjqPzq0ssLIgOMsgizI1EaMtBEEAw+EQBoMBjEYjyMR36UXFKjFwle+BSZzsgLZj1dEjBX2sE5xnkASJ8KqCAucQiy6Fx2BtLHBdV21EKFGhfObSaVBAN3R3QD9ObgrDhkXrJzHNCGIvgSxIoSqKg+GIoEOOKYaSlQfgvkMUo/aJh/lmRbTFL+CEic48oHjnJasYGLEBOcn3HR1397eHK9e6FecEYlvE923IkA8py4DECDJRl8sKWqjOjn/Gnx0egKbt1EF4l+eJMKfiKLA5g4qzfMutxzn3QpOra6nWntUp0Pf8j7JQCXvEnWA4Q0yedB+FeI7fz0T5dLG/KqA21T7DP6rcMU7ked53Bex0Os+63e5VGIYvvtzdXetz/XW/33/bbDbfR1F00Wq3rnq93jvDMF41Go0PYt7F/cP9Zedb59JxnJeidj2fz9+Mx+PnNQGu/U/9BtekVnfI/7ouAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2019-2020/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png\"\n        srcset=\"/2019-2020/static/00fedeb10c587b81af501a2d1034227c/8514f/cours_8_2.png 192w,\n/2019-2020/static/00fedeb10c587b81af501a2d1034227c/2b727/cours_8_2.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>On observe donc que l'élève n'aurait pas de mention malgré ses 12.5 de moyenne, Voyons ce qu'il en est si on réduit le nombre d'absences à 5.</p>\n<hr>\n<div class=\"card text-white bg-gradient-dark\">\n<div class=\"card-header\"><small class=\"text-muted\">Entrée</small></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">k_plus_proches_voisins<span class=\"token punctuation\">(</span><span class=\"token number\">12.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span></code></pre></div>\n</div>\n<div class=\"card text-white bg-gradient-light stream-output\">\n<div class=\"card-header\"><small class=\"text-muted\">Sortie</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">    Moyenne Générale  1/2j abs        Mentions  distance\n65              12.4       5.0  Encouragements       0.1\n46              12.9       5.0     Compliments       0.4\n58              12.5       4.0  Encouragements       1.0</code></pre></div>\n</div>\n<hr>\n<div class=\"card\">\n<div class=\"card-header\"><small class=\"text-muted\">Résultat</small></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Encouragements    2\nName: Mentions, dtype: int64</code></pre></div>\n</div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/2019-2020/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACJElEQVQ4y62Sy2rbQBSG/S7d9QUa2i5augikhLxUScC70pcohrTgJhDcy8I7b2yvfJUcK5Yl2bp4dB3NRXM6M46N03pT6C8OMzqa+fTr19RqUrZtfwQpvAnhUEL1MAbXdWGxWIDjOMA5B8YYHFOapr8Ur/Ywn1/SBEHkLjHOUrlaMEoow2XIwjBg4/GYzedzNp1OmWEYLI5jRghRVCaEUFUqoOw3NdBeLuuqQYqc5gjJEes3lnIeRSHMZjOYTCYwGo30XDmUkMNij8BbDfRW3pVqcEIozjLINpleiFEOYRhCv9+HXq8Hg8EAMvlcZVHxSg5Cz3fAJE62QNdz6mhFwRhOaZ6nkAQx8KqCEhcQS5cyY3CWDqzXa/0iyqgunbNQSYMGrqP1Fhgm2SW+X8Dw81daxgSyKIc0SKAqy33giKL9HDMMhJM9cOcQxWgLtB1HZ5jbFjWX9ypq6cwHhrdZ8oqDFVtQ0GLn6NDd3xk+rJ0rSEKgnkv9wIUMBZDyHGiMIJN9ta1kpXZ2+DP+dLgH2q5XhyKDokhkOJVAoSs4VIIXuXBWpvAjW+hjqfce1VNg4AcfVKOS8cgzwXGGuPrSXZXyOrw/UuTxYH/TwPFk/An+UWTLeCLf939qYKvVetZut8+iKHrx5fr63DCN191u922z2Xy/2WxObm5vzjqdzjvLsl41Go0Lue7k7vvdaetH69TzvJeyd26a5pvhcPi8JsG1/6nfGOtWlkR2fFMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"png\"\n        title=\"png\"\n        src=\"/2019-2020/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png\"\n        srcset=\"/2019-2020/static/bbaab03563ce5e1664e9d8a2f76c9fea/8514f/cours_10_2.png 192w,\n/2019-2020/static/bbaab03563ce5e1664e9d8a2f76c9fea/2b727/cours_10_2.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>L'élève a maintenant les encouragements.</p>\n<h3 id=\"et-vous-quelle-serait-votre-mention\" style=\"position:relative;\"><a href=\"#et-vous-quelle-serait-votre-mention\" aria-label=\"et vous quelle serait votre mention permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Et vous, quelle serait votre mention?</h3>\n<p>L'algorithme et les données sont en ligne dans le dépôt suivant:</p>\n<p><a href=\"https://github.com/heoinfo/k-plus-proches-voisins\">https://github.com/heoinfo/k-plus-proches-voisins</a></p>\n<p>Vous pouvez <em>soit</em> télécharger le <a href=\"https://github.com/heoinfo/k-plus-proches-voisins/archive/master.zip\">dossier</a> pour travailler sur le code sur votre machine si vous avaez installé python et anconda chez vous.</p>\n<p>Vous pouvez sinon travailler en ligne en lancant un environment <a href=\"http://mybinder.org/v2/gh/heoinfo/k-plus-proches-voisins/master?filepath=index.ipynb\"><img src=\"http://mybinder.org/badge_logo.svg\" alt=\"Binder\"></a>.</p>\n<p>::: {.appli titre=\"L'algorithme est-il efficace?\"}\nReprendre vos bulletins de lycée pour vérifier si la prévision faite à partir de votre moyenne générale et de votre nombre de jours d'absences est conforme au résultat obtenu.</p>\n<p>Vous pouvez éventuellement changer la valeur de <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi></mrow><annotation encoding=\"application/x-tex\">k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.03148em;\">k</span></span></span></span> pour améliorer les prédictions.</p>\n<p><strong>Pour conclure:</strong> Que diriez-vous de cette méthode? Peut-on vraiment qualifier cet algorithme d'<em>intelligence artificielle</em>? Voyez-vous des dangers à la prise de décisions par des algorithmes?\nlayout:::</p>\n<h2 id=\"notes-sur-lalgorithme\" style=\"position:relative;\"><a href=\"#notes-sur-lalgorithme\" aria-label=\"notes sur lalgorithme permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Notes sur l'algorithme</h2>\n<p>Cet algorithme(<em>brute-force</em>) est peu efficace avec une complexité de <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">[</mo><mi>D</mi><msup><mi>N</mi><mn>2</mn></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">O[D N^2]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">[</span><span class=\"mord mathdefault\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord\"><span class=\"mord mathdefault\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">]</span></span></span></span>(voir <a href=\"https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms\">doc sklearn</a>).</p>\n<p>D'autres part, il serait bon de mettre à l'échelle les données utilisées, car on voit bien que l'échelle des absences est trois fois plus grande que les moyennes, et ainsi a un importance accrue dans le calcul de la distance des voisins.</p>\n<h2 id=\"références\" style=\"position:relative;\"><a href=\"#r%C3%A9f%C3%A9rences\" aria-label=\"références permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Références</h2>\n<ul>\n<li>Cours de Nadja Rebinguet duquel est extrait l'exemple des papillons: <a href=\"https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/\">https://nadjarebinguet.wordpress.com/2020/03/20/algorithme-des-k-plus-proches-voisins/</a></li>\n<li>Cette video de <a href=\"https://www.youtube.com/watch?v=OEJX-q6UOag\">Phillippe Bouchery sur le machine learning</a></li>\n<li>Cours sur pixees.fr: <a href=\"https://pixees.fr/informatiquelycee/n_site/nsi_prem_knn.html\">https://pixees.fr/informatiquelycee/n_site/nsi_prem_knn.html</a>\n</li>\n<li>Article Wikipedia: <a href=\"https://fr.wikipedia.org/wiki/M%C3%A9thode_des_k_plus_proches_voisins\">https://fr.wikipedia.org/wiki/M%C3%A9thode_des_k_plus_proches_voisins</a>\n</li>\n<li>Doc sklearn: <a href=\"https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms\">https://scikit-learn.org/stable/modules/neighbors.html#nearest-neighbor-algorithms</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#principe\">Principe</a></p>\n<ul>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#principe-de-lapprentissage-supervis%C3%A9\">Principe de l'apprentissage supervisé</a></li>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#principe-lalgorithme-des-k-plus-proches-voisins\">Principe l'algorithme des k plus proches voisins</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#impl%C3%A9mentation-na%C3%AFve-en-python\">Implémentation naïve en Python</a></p>\n<ul>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#classification-d%C3%A9l%C3%A8ves-en-conseil-de-classe\">Classification d'élèves en conseil de classe</a></li>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#trac%C3%A9-de-la-classification\">Tracé de la classification</a></li>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#impl%C3%A9mentation-de-lalgorithme\">Implémentation de l'algorithme</a></li>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#appels-de-la-fonction\">Appels de la fonction</a></li>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#et-vous-quelle-serait-votre-mention\">Et vous, quelle serait votre mention?</a></li>\n</ul>\n</li>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#notes-sur-lalgorithme\">Notes sur l'algorithme</a></li>\n<li><a href=\"/2019-2020/1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins/#r%C3%A9f%C3%A9rences\">Références</a></li>\n</ul>","frontmatter":{"tags":["Python","algorithmique","Recherche des k plus proche voisins"]},"fields":{"classe":"1g","chapter":"Algorithme des k plus proches voisins","matter":"nsi","nChapter":"3","part":"Algorithmique","nPart":"8"}}},"pageContext":{"slug":"1g/nsi/8-algorithmique/3-algorithme-des-k-plus-proches-voisins","chapter":"Algorithme des k plus proches voisins"}}}