<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.319">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>cours</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="cours_files/libs/clipboard/clipboard.min.js"></script>
<script src="cours_files/libs/quarto-html/quarto.js"></script>
<script src="cours_files/libs/quarto-html/popper.min.js"></script>
<script src="cours_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="cours_files/libs/quarto-html/anchor.min.js"></script>
<link href="cours_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cours_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="cours_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="cours_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="cours_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Algorithme de recherche dans un tableau non trié</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<details class="programme"><summary>Programme Officiel</summary>
<table class="table table-bordered table-hover">
<thead class="table-warning">
<tr class="header">
<th>Contenus</th>
<th>Capacités attendues</th>
<th>Commentaires</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Parcours séquentiel d’un tableau</td>
<td>Écrire un algorithme de recherche d’une occurence sur des valeurs de type quelconque</td>
<td>On montre que le coût est linéaire</td>
</tr>
<tr class="even">
<td>Recherche dichotomique dans un tableau trié</td>
<td>Montrer la terminaison de la recherche dichotomique à l’aide d’un variant de boucle.</td>
<td><p>Des assertions peuvent être utilisées.</p>
<p>La preuve de la correction peut être présentée par le professeur.</p></td>
</tr>
</tbody>
</table>
<a class="lien-programme" href="../programme/">Lien vers le programme complet</a></details>

<div class="intro quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p>Dans ce chapitre, nous allons étudier un algorithme très efficace de recherche d’élément dans un tableau: la recherche dichotomique. Il illustre une méthode algorithmique très efficace et utile appelée: «Diviser pour régner».</p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><wc-wikimage title="Binary_Search_Depiction.svg" caption="Dichotomie vient du grec ancien διχοτομία, dikhotomia (« division en deux parties »),"></wc-wikimage></p>
</div>
</div>
</div>
<p>Commençons par créer une liste d’éléments pour cela nous allons écrire une fonction pour créer facilement des listes de mots.</p>
<div class="cell" data-execution_count="1">
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">product</span>
<span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">ascii_uppercase</span> <span class="k">as</span> <span class="n">alphabet</span>
<span></span>
<span class="k">def</span> <span class="nf">lister_mots</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Renvoie une liste ordonnés de mots ayant l lettres"""</span>
<span class="k">    return</span> <span class="p">[</span><span class="s1">''</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">lettres</span><span class="p">)</span> <span class="k">for</span> <span class="n">lettres</span> <span class="ow">in</span> <span class="n">product</span><span class="p">(</span><span class="n">alphabet</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="n">l</span><span class="p">)]</span>
<span></span>
<span class="n">mots5</span> <span class="o">=</span>  <span class="n">lister_mots</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="c1"># le nombre de noms générés est exponentiel par rapport à sa longueur</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">mots5</span><span class="p">)</span> <span class="o">==</span> <span class="mi">26</span><span class="o">**</span><span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mots5</span><span class="p">),</span> <span class="s2">"mots"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Voici les sept premiers"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mots5</span><span class="p">[:</span><span class="mi">7</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Et les sept derniers"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mots5</span><span class="p">[</span><span class="o">-</span><span class="mi">7</span><span class="p">:])</span>
</pre></div>

<div class="cell-output cell-output-stdout">
<div class="highlight"><pre><span></span>11881376 mots
Voici les sept premiers
['AAAAA', 'AAAAB', 'AAAAC', 'AAAAD', 'AAAAE', 'AAAAF', 'AAAAG']
Et les sept derniers
['ZZZZT', 'ZZZZU', 'ZZZZV', 'ZZZZW', 'ZZZZX', 'ZZZZY', 'ZZZZZ']
</pre></div>

</div>
</div>
<p>Nous allons voir comment chercher une valeur dans un tableau par une méthode de parcours du tableau: <em>la recherche en table</em>.</p>
<p>Cet algorithme naïf est couteux, mais on <em>ne peut pas faire mieux si les données ne sont pas triées</em>.</p>
<p>On parcourt l’ensemble du tableau et on s’arrête lorsqu’on trouve l’élément.</p>
<p>Dans une fonction <strong>le <code>return</code> est définitif</strong>, on peut donc facilement arrêter la boucle dès que la valeur est trouvée. Si on est arrivé au bout de la boucle on est donc certains que l’élément cherché n’est pas présent.</p>
<div class="cell" data-execution_count="2">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">recherche</span><span class="p">(</span><span class="n">élément</span><span class="p">,</span> <span class="n">liste</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""Fonction de recherche de l'élément dans la liste</span>
<span></span>
<span class="sd">    Arguments</span>
<span class="sd">    ---------</span>
<span class="sd">    élement: str</span>
<span class="sd">        l'élément cherché</span>
<span class="sd">    l: liste</span>
<span class="sd">        la liste dans laquelle on cherche</span>
<span class="sd">    Retourne</span>
<span class="sd">    --------</span>
<span class="sd">    bool</span>
<span class="sd">        True si l'élément est trouvé et False sinon</span>
<span class="sd">    """</span>
<span class="k">    for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">liste</span><span class="p">:</span>
<span class="k">        if</span> <span class="n">e</span> <span class="o">==</span> <span class="n">élément</span><span class="p">:</span>
<span class="k">            return</span> <span class="kc">True</span>
<span class="k">    return</span> <span class="kc">False</span>
</pre></div>

</div>
<p>Appelons la fonction sur un mot présent dans le tableau.</p>
<div class="cell" data-execution_count="4">
<div class="highlight"><pre><span></span><span class="n">recherche</span><span class="p">(</span><span class="s2">"EULER"</span><span class="p">,</span> <span class="n">mots5</span><span class="p">)</span>
</pre></div>

<div class="cell-output cell-output-stdout">
<div class="highlight"><pre><span></span>EULER trouvé en 2186982 tours de boucle.
</pre></div>

</div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div class="highlight"><pre><span></span>True
</pre></div>

</div>
</div>
<p>Regardons maintenant, si le mot n’est pas trouvé.</p>
<div class="cell" data-execution_count="5">
<div class="highlight"><pre><span></span><span class="n">recherche</span><span class="p">(</span><span class="s2">"€UL€R"</span><span class="p">,</span> <span class="n">mots5</span><span class="p">)</span>
</pre></div>

<div class="cell-output cell-output-stdout">
<div class="highlight"><pre><span></span>€UL€R non trouvé en 11881376 tours de boucle.
</pre></div>

</div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div class="highlight"><pre><span></span>False
</pre></div>

</div>
</div>
<h2 id="la-recherche-dichotomique" class="anchored">La recherche dichotomique</h2>
<p>Nous allons maintenant étudier l’algorithme de recherche par dichotomie. On peut comparer ça à une recherche dans un dictionnaire (<em>qui a eu la bonne idée d’être trié!</em>)</p>
<h3 id="principe" class="anchored">Principe</h3>
<blockquote class="blockquote">
<p>La recherche dichotomique ou recherche par dichotomie, est un algorithme de recherche pour trouver la position d’un élément dans un tableau trié. Le principe est le suivant : comparer l’élément avec la valeur de la case au milieu du tableau ; si les valeurs sont égales, la tâche est accomplie, sinon on recommence dans la moitié du tableau pertinente. <a href="https://fr.wikipedia.org/wiki/Recherche_dichotomique">Source Wikipedia</a></p>
</blockquote>
<p><wc-wikimage title="Binary-search-work.gif" caption=""></wc-wikimage></p>
<h3 id="définition-de-la-fonction-de-recherche" class="anchored">Définition de la fonction de recherche</h3>
<div class="cell" data-execution_count="6">
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">recherche_dichotomique</span><span class="p">(</span><span class="n">élément</span><span class="p">,</span> <span class="n">liste</span><span class="p">):</span>
<span class="n">    N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>
<span class="c1">    
    # on initialise les indices début </span>
<span class="c1">    # et fin aux extrémités de la liste</span>
<span class="n">    début</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">    fin</span> <span class="o">=</span> <span class="n">N</span> <span class="o">-</span> <span class="mi">1</span>
<span class="k">    
    while</span> <span class="n">début</span> <span class="o">&lt;=</span> <span class="n">fin</span> <span class="ow">and</span> <span class="n">fin</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">:</span>
<span class="c1">        # On se place au milieu de la liste</span>
<span class="n">        milieu</span> <span class="o">=</span> <span class="p">(</span><span class="n">début</span> <span class="o">+</span> <span class="n">fin</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span> <span class="c1"># il, s'agit d'une division entière</span>
<span class="c1">        # trois cas possibles</span>
<span class="k">        
        if</span> <span class="n">liste</span><span class="p">[</span><span class="n">milieu</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">élément</span><span class="p">:</span>       
<span class="n">            début</span> <span class="o">=</span> <span class="n">milieu</span> <span class="o">+</span> <span class="mi">1</span>
<span class="k">        elif</span> <span class="n">liste</span><span class="p">[</span><span class="n">milieu</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">élément</span><span class="p">:</span> 
<span class="n">            fin</span> <span class="o">=</span> <span class="n">milieu</span> <span class="o">-</span> <span class="mi">1</span>
<span class="k">        else</span><span class="p">:</span>
<span class="k">            return</span> <span class="kc">True</span>
<span class="k">    return</span> <span class="kc">False</span>
</pre></div>

</div>
<h3 id="appels-de-la-fonction" class="anchored">Appels de la fonction</h3>
<p>Recherchons le mot <code>EULER</code> de la liste.</p>
<div class="cell" data-execution_count="8">
<div class="highlight"><pre><span></span><span class="n">recherche_dichotomique</span><span class="p">(</span><span class="s1">'EULER'</span><span class="p">,</span> <span class="n">mots5</span><span class="p">)</span>
</pre></div>

<div class="cell-output cell-output-stdout">
<div class="highlight"><pre><span></span>EULER trouvé en 23 tours de boucle.
</pre></div>

</div>
<div class="cell-output cell-output-display" data-execution_count="8">
<div class="highlight"><pre><span></span>True
</pre></div>

</div>
</div>
<p>Incroyable on a trouvé en 23 fois au lieu de 2186982 avec la recherche en table.</p>
<div class="cell" data-execution_count="9">
<div class="highlight"><pre><span></span><span class="n">recherche_dichotomique</span><span class="p">(</span><span class="s1">'€UL€R'</span><span class="p">,</span> <span class="n">mots5</span><span class="p">)</span>
</pre></div>

<div class="cell-output cell-output-stdout">
<div class="highlight"><pre><span></span>€UL€R non trouvé en 24 tours de boucle.
</pre></div>

</div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div class="highlight"><pre><span></span>False
</pre></div>

</div>
</div>
<p>24 tours au lieu de 11881376 dans le pire cas: <em>le mot est absent</em>.</p>
<p>L’algorithme de recherche dichotomique est incroyablement plus efficace que l’algorithme de recherche en table.</p>
<p>Il s’agit d’un logarithme ayant une complexité en <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">log_2 (n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>
, c’est-à-dire le nombre de fois qu’il faut couper la liste en deux pour qu’elle ne contienne qu’un élément.</p>
<p>Par exemple:</p>
<ul>
<li>si n= <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>
: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>8</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">log_2(8) = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">8</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>
</li>
<li>si n= <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>256</mn></mrow><annotation encoding="application/x-tex">256</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">256</span></span></span></span>
: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>256</mn><mo stretchy="false">)</mo><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">log_2(256) = 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">256</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span></span></span></span>
</li>
<li>si n= <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1024</mn></mrow><annotation encoding="application/x-tex">1024</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1024</span></span></span></span>
: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1024</mn><mo stretchy="false">)</mo><mo>=</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">log_2 (1024) = 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1024</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span></span></span></span>
</li>
<li>si n= <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11881376</mn></mrow><annotation encoding="application/x-tex">11881376</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11881376</span></span></span></span>
: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>11881376</mn><mo stretchy="false">)</mo><mo>=</mo><mn>23</mn><mo separator="true">,</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">log_2 (11881376) = 23,5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">11881376</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">23</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">5</span></span></span></span>
</li>
</ul>
<p><strong>Au lieu de 11881376 d’opérations, on en effectue 24 au maximum!</strong></p>
<h2 id="complexité-temporelle" class="anchored">Complexité temporelle</h2>
<p>Comme on l’a vu, si on utilise un tableau trié, la recherche dichotomique est beaucoup plus efficace que la recherche en table. Cela se traduit par un temps d’exécution infime en raison de sa <em>complexité logarithmique</em>.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="rtbl quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Recherche en table: Complexité linéaire</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
O(N)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></span>
</p>
<p><em>Benchmark</em></p>
<div class="cell" data-execution_count="10">
<div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">timeit</span> <span class="o">-</span><span class="n">n1</span> <span class="o">-</span><span class="n">r1</span>
<span class="n">recherche</span><span class="p">(</span><span class="s1">'€UL€R'</span><span class="p">,</span> <span class="n">mots5</span><span class="p">)</span>
</pre></div>

<div class="cell-output cell-output-stdout">
<div class="highlight"><pre><span></span>€UL€R non trouvé en 11881376 tours de boucle.
522 ms ± 0 ns per loop (mean ± std. dev. of 1 run, 1 loop each)
</pre></div>

</div>
</div>
</div>
<div class="dicho quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><strong>Recherche dichotomique: Complexité logarithmique</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">
O(\log(N))
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mclose">))</span></span></span></span></span>
</p>
<p><em>Benchmark</em></p>
<div class="cell" data-execution_count="11">
<div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">timeit</span> <span class="o">-</span><span class="n">n1</span> <span class="o">-</span><span class="n">r1</span>
<span class="n">recherche_dichotomique</span><span class="p">(</span><span class="s1">'€UL€R'</span><span class="p">,</span> <span class="n">mots5</span><span class="p">)</span>
</pre></div>

<div class="cell-output cell-output-stdout">
<div class="highlight"><pre><span></span>€UL€R non trouvé en 24 tours de boucle.
42 µs ± 0 ns per loop (mean ± std. dev. of 1 run, 1 loop each)
</pre></div>

</div>
</div>
</div>
</div>
</div>

<!-- 
## Aspects théoriques

Nous allons **démontrer la terminaison et la correction de l'algorithme de façon théorique**.

Nous avons vu qu'il était possible d'utiliser des jeu de tests pour vérifier qu'un programme fonctionne, cependant il n'est jamais possible de créer des tests pour toutes les situations connues.

C'est pour cela qu'on utilise parfois des outils *plus abstarits* pour démontrer que nos algorithmes "fonctionnent" dans tous les cas.

### Terminaison: est-ce que l'algorithme s'arrête?

On voit qu'à chaque tour de boucle, le nombre d'éléments à tester entre $i$ et $j$ est divisé par 2. 

Après un nombre d'itérations fini, ce nombre d'éléments est inférieur ou égal à 1 et la boucle s'arrête. (Si N est le nombre d'éléments ce nombre d'itérations est $log_2(N)$

::: {.cell execution_count=12}
``` {.python .cell-code}
# On prend 128 éléments = 2**8
i = 0
j = 127
compteur = 0
while i < j:
    j = (i + j) //2
    compteur += 1
print(compteur) # 8 tours
```

::: {.cell-output .cell-output-stdout}
```
7
```
:::
:::


::: {.cell execution_count=13}
``` {.python .cell-code}
# On prend 2048 éléments = 2**11
i = 1
j = 2048
compteur = 0
while i < j:
    j = (i + j) //2
    compteur += 1
print(compteur) # 11 tours
```

::: {.cell-output .cell-output-stdout}
```
11
```
:::
:::


### En plus: Correction: Est-ce que le résultat est juste?

L'algorithme renvoie-t-il la bonne valeur?

**La démonstration est délicate est non exigible.**


[Informatique et sciences du numérique Spécialité ISN en terminale S - Avec des exercices corrigés
et des idées de projets par Gilles
Dowek](http://www.editions-eyrolles.com/Livre/9782212135435/){.cite-source}

> Ensuite, pour démontrer que la réponse donnée par l’algorithme est correcte, on commence par
montrer que si la chaîne de caractères $s$ est dans la table, alors son indice appartient toujours
à l’intervalle $[i, j]$. Cette propriété est un **invariant de la boucle**, c’est-à-dire une
propriété qui reste vraie à chaque exécution du corps de la boucle.

>  Ici, quand on réduit l’intervalle $[i, j]$ à l’intervalle $[i, k - 1]$ par exemple, c’est parce
que l’on sait que la chaîne $s$ est avant la chaîne $nom[k]$ dans l’ordre alphabétique et donc que
l’indice de la chaîne $s$, s’il existe, n’est pas dans l’intervalle $[k, j]$. La propriété reste donc
vraie jusqu’à la fin de l’exécution de la boucle. Enfin, on montre que quand on sort de la boucle,
l’intervalle $[i, j]$ est soit le singleton $[i, i]$, soit l’intervalle vide $[i , i-1]$. Dans les deux
cas, $i$ est compris entre les valeurs minimale et maximale de départ.

>  Pour cela, on montre un autre invariant de la boucle : si l’intervalle $[i, j]$ n’est pas vide,
alors ses bornes $i$ et $j$ sont comprises entre les valeurs minimale et maximale de départ, et s’il
est vide, alors sa borne inférieure $i$ est comprise entre les valeurs minimale et maximale de
départ.

> - Si l’intervalle $[i, j]$ contient au moins trois points, c’est-à-dire si $i + 2 \le j$, il
  n’est pas difficile de montrer que les nombres $k - 1$ et $k + 1$, où $k = (i + j) // 2$, sont
  tous les deux compris entre $i$ et $j$ au sens large. Le nouvel intervalle $[k, k]$, $[i, k - 1]$
  ou $[k + 1, j]$ est contenu dans $[i, j]$ et donc ses bornes sont comprises entre les valeurs
  minimale et maximale de départ.
> - Si l’intervalle $[i, j]$ contient deux points, c’est-à-dire si $j = i + 1$, alors $k = (i + j) // 2$
   est égal à $i$. Le nombre $k + 1$ est égal à $j$ : il est compris entre $i$ et $j$ au sens large. En revanche, le nombre $k - 1$ est égal à $i - 1$.
  Dans ce cas, le nouvel intervalle est $[i, i]$ ou $[ j, j]$ dont les bornes sont comprises entre les valeurs minimale et
  maximale de départ, ou l’intervalle vide $[i, i - 1]$ dont la borne inférieure $i$ est comprise entre
  les valeurs minimale et maximale de départ.
  
> On sort de la boucle quand l’intervalle $[i, j]$ contient zéro ou un point. Dans un cas 
  comme dans l’autre, l’indice $i$ est compris entre les
  valeurs minimale et maximale de départ. Si la chaîne de caractères `nom[i]` est identique à $s$, on a
  trouvé l’indice de la chaîne $s$ dans la liste $nom$ ; si ce n’est pas le cas, la chaîne $s$ n’est pas
  dans la table.
  -->

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>