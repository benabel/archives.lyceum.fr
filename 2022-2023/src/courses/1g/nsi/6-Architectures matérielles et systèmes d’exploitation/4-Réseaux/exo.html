<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.146">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>exo</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="exo_files/libs/clipboard/clipboard.min.js"></script>
<script src="exo_files/libs/quarto-html/quarto.js"></script>
<script src="exo_files/libs/quarto-html/popper.min.js"></script>
<script src="exo_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="exo_files/libs/quarto-html/anchor.min.js"></script>
<link href="exo_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="exo_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="exo_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="exo_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="exo_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<h2 id="simulation-dun-réseau-avec-filius" class="anchored">Simulation d’un réseau avec Filius</h2>
<p>Faire le TP suivant:</p>
<p>http://portail.lyc-la-martiniere-diderot.ac-lyon.fr/srv1/co/activiteapprentissage_Filius.html</p>
<p>Qui utilise le logiciel Filius téléchargeable <a href="http://lernsoftware-filius.de/Herunterladen">ici</a>.</p>
<!-- 
> Les exercices de ce chapitre sont issus du site [pixees.fr]() de David Roche sous licence CC-BY-SA.

Après la théorie, passons maintenant à la pratique. Il est un peu difficile de mettre en place un
réseau pour effectuer quelques tests.

À la place, nous allons utiliser un **simulateur de réseau**. Il
existe différents types de simulateurs : du plus simple au plus `professionnel`.

Nous allons utiliser un simulateur relativement simple à prendre en main, mais suffisamment
performant : [`Filius`](http://www.lernsoftware-filius.de/Herunterladen) (la page web est en
allemand, mais le logiciel est disponible en anglais).


## [Simulation réseau 1](https://pixees.fr/informatiquelycee/n_site/nsi_prem_simReseau1.html)

Avant de visionner une petite vidéo qui devrait vous aider à prendre en main `Filius`, quelques petites indications

Nous allons utiliser deux commandes dans la vidéo :

- **`ipconfig`** qui permet de connaitre la configuration réseau de la machine(adresse IP, adresse
  MAC...) sur laquelle est exécutée cette commande (`ipconfig` est une commande Windows, sous les
  systèmes de type UNIX (Linux ou macOS par exemple), la commande équivalente est `ifconfig`)
- **`ping`** qui permet d'envoyer des paquets de données d'une machine A vers une machine B. Si la
  commande est exécutée sur la machine A, le `ping` devra être suivi par l'adresse IP de la machine
  B (par exemple, si l'adresse IP de B est `192.168.0.2`, on aura `ping 192.168.0.2`)

::: {.plus titre="Utilisation de la ligne de commande"}
Vous pouvez essayer directement ces commandes dans votre invite de commande.

- `ping lyceum.fr`
- `ipconfig` (ou `ifconfig` si vous êtes sur NIX). 
:::

Autre chose à retenir, vous allez peut-être apercevoir dans cette vidéo un *netmask* (masque de
réseau en français), vous devez juste savoir que :

- pour une adresse du type `a.b.c.d/8`, on a un *netmask* qui est `255.0.0.0`
- pour une adresse du type `a.b.c.d/16`, on a un *netmask* qui est `255.255.0.0`
- pour une adresse du type `a.b.c.d/24`, on a un *netmask* qui est `255.255.255.0`

Vous pouvez maintenant visionner la vidéo.

`youtube: nzuRSOwdF5I`


::: {.appli titre="Création d'un réseau"}
1. En utilisant le logiciel Filius, créez un réseau de 4 machines (`M1`, `M2`, `M3` et `M4`).
L'adresse IP de la machine `M1` est `192.168.1.1`, choisissez les adresses IP des machines `M2`, 
`M3` et `M4`.
2. Effectuez un `ipconfig` sur la machine `M1` afin de vérifier son adresse IP et de déterminer 
son adresse MAC (adresse physique).
3. Effectuez un `ping` de la machine `M2` vers la machine `M4`.
:::

## [Simulation réseau 2](https://pixees.fr/informatiquelycee/n_site/nsi_prem_simReseau2.html)

En utilisant `Filius`, nous allons maintenant mettre en place un serveur Web afin de pouvoir faire
des requêtes HTTP. Il sera possible d'analyser les données échangées entre les machines grâce à
l'outil *data exchange*.

Pour afficher cet outil, il suffit de faire un clic droit sur la machine concernée et de choisir
`show data exchange`. 

Commencez par visionner la vidéo ci-dessous :

`youtube: fY2yiRXMdS8`


::: {.appli titre="Échange de données entre un client et un serveur"}
Une fois la vidéo visionnée, en utilisant le logiciel Filius, mettez en place un réseau composé de
2 clients et d'un serveur Web, créez ensuite une page HTML toute simple et activez le serveur Web
(comme indiqué dans la vidéo).

Choisissez un client et par l'intermédiaire d'un navigateur Web(que
vous aurez au préalable installé sur le client), effectuez une requête HTTP. Analysez les données
échangées entre le client et le serveur à l'aide de l'outil `data exchange`.

Comme vous pouvez le constater on retrouve :

- le protocole **TCP** au niveau de la couche *Transport*(*ACK* signifie *acknowledgement*, ce sont les
accusés de réception aussi appelés acquittement)
- le protocole **HTTP** au niveau de la couche *Application* (en cliquant sur les requêtes et 
réponses de la couche application `HTTP` on trouve notamment la directive `GET`)
- le protocole **ARP** qui permet de trouver une adresse `MAC` à partir d'une adresse `IP` 
(l'échange entre les 2 machines commence d'ailleurs avec ce protocole `ARP`, sinon, impossible 
d'envoyer les trames)

On notera que les trames et les paquets IP ne sont pas directement visibles avec cet outil *data
exchange* : il faut cliquer sur une ligne `TCP` pour *voir* les couches *Internet* et *accès
réseau*.
::: -->

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>