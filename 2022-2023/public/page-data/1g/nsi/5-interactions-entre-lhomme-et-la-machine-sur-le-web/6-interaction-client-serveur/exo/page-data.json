{"componentChunkName":"component---src-templates-exo-md-js","path":"/1g/nsi/5-interactions-entre-lhomme-et-la-machine-sur-le-web/6-interaction-client-serveur/exo/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"tp-sur-lapplication-web-serveur-en-python\" class=\"anchored\">TP sur l’application web serveur en python</h2>\n<p>Vous allez créer une application web, avec un serveur écrit en python, telle que décrite dans le cours.</p>\n<p>Le code est disponible dans ce dépôt <a href=\"https://framagit.org/lyceum/flask-csv\">framagit</a> au format <a href=\"https://framagit.org/lyceum/flask-csv/-/archive/master/flask-csv-master.zip\">zip</a>. Téléchargez-le, puis dézippez-le.</p>\n<p>Ouvrir le <strong>dossier</strong> dans Visual Studio Code.</p>\n<p>Lancer l’application en tapant dans le terminal de vscode: <code>python flask-csv.py</code></p>\n<p>Vous pourrez alors ouvrir votre navigateur pour observer son fonctionnement à l’adresse locale&nbsp;: http://localhost:5000</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACAElEQVR42oXOzWsTQRgG8PwJiiQk2bizuzM7u7Mzm6YfMXoSvIlob4KIBymKIkqgF5uvipT6b1mk2tI2jfFaKR7E3aSNZqdkQvZjJDm0IKLP6T28P54ntbH5rtlsra3VarV6o9Gs1+uN5nqrtT69G433H7a3Pu5ubX/a3W8fdLqHn7+0O92dvYOdvcP9TjfFKDNNK5NOp7M5pVAo5LPZbA6oaiaT0aHBORdC+L7X7/dHIxHHURRFYRjGSSKlTFWu3yiXKxhjE1ulxRJljm3bhFqmhZjLgiCYhOF4PBZChLMIIaIoiuM4SZLUtUplcWnJMAxN0wl1CbExxg5zkIkodTjn8exVCDGZTKSUQohkVjttnl9YYMyF0AAA6CaGEOm6QahDi45bZGecD85GvcHP8QwnSRKG4QWmlEGIIIRAVZFpmRhrAFgYu0VWmi8Jztsnw45/KqUMZxPON08xYy5CJoRQ03RMHIgQAMAwDEPXKaVBEEgpz6v+yAUGmoaZi4mtqqqmaXlFsWyb/xsXi3MIYduyGHEosYllEYwpIaauu4wNg+EUx4mUf/EpE0G1oEBolOeYjSAoKFeVXD6buXL5kg7U/8x+UH1z8+HL5cert56/vf309d0nq/efVZdXXt159OLeSvXo6PjYO/367bv/wxv8Cnong36v53u+5/m+7/8GrqB9Guyr4+IAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"screenshot vscode firefox flask app\" title=\"\" src=\"/2022-2023/static/1729bd2457a2f4595ebee3942d40eae0/fcda8/screenshot-vscode-firefox-flask-app.png\" srcset=\"/2022-2023/static/1729bd2457a2f4595ebee3942d40eae0/12f09/screenshot-vscode-firefox-flask-app.png 148w,\n/2022-2023/static/1729bd2457a2f4595ebee3942d40eae0/e4a3f/screenshot-vscode-firefox-flask-app.png 295w,\n/2022-2023/static/1729bd2457a2f4595ebee3942d40eae0/fcda8/screenshot-vscode-firefox-flask-app.png 590w,\n/2022-2023/static/1729bd2457a2f4595ebee3942d40eae0/efc66/screenshot-vscode-firefox-flask-app.png 885w,\n/2022-2023/static/1729bd2457a2f4595ebee3942d40eae0/c83ae/screenshot-vscode-firefox-flask-app.png 1180w,\n/2022-2023/static/1729bd2457a2f4595ebee3942d40eae0/29114/screenshot-vscode-firefox-flask-app.png 1920w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n<p></p><figcaption class=\"figure-caption\">copie d’écran de développement</figcaption><p></p>\n</figure>\n</div>\n<p>L’application présente trois pages accessibles au adresse:</p>\n<ul>\n<li><code>/</code> page racine: affiche la liste des élèves</li>\n<li><code>/ajout</code> ajout d’élève avec un formulaire GET.</li>\n<li><code>/ajout_post</code> ajout d’élève avec un formulaire POST.</li>\n</ul>\n<p>Vous pourrez parcourir le code, et le modifier:</p>\n<ul>\n<li><p>côté <strong>serveur</strong>&nbsp;: fichier <code>flask-csv.py</code> (langage serveur&nbsp;: <code>python</code>)</p>\n<p>Ce fichier contient le code permettant de traiter les trois pages côté serveur.</p>\n<p>Par exemple la page racine:</p>\n<div class=\"highlight\"><pre><span></span><span class=\"nd\">@app</span><span class=\"o\">.</span><span class=\"n\">route</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">index_page</span><span class=\"p\">():</span>\n<span class=\"s2\">    \"Page d'accueil qui liste les élèves.\"</span>\n<span></span>\n<span class=\"k\">    return</span> <span class=\"n\">render_template</span><span class=\"p\">(</span><span class=\"s2\">\"index.html\"</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">data</span><span class=\"p\">)</span>\n</pre></div></li></ul>\n<p>La première ligne indique le chemin(<em>route</em>) vers la page, ici <code>/</code> comme on est à la racine.</p>\n<p>la dernière indique que l’on renvoie la page <code>index.html</code> dans laquelle on a fait passer les données <code>data</code> du fichier <code>csv</code>.</p></li>\n<li><p>côté <strong>client</strong>&nbsp;:</p>\n<p>Toutes les pages html se trouvent dans le dossier <code>pages</code>. fichier <code>pages/index.html</code> (langage client <code>html</code>)</p></li>\n</ul>\n<p><strong>Travail proposé</strong></p>\n<ol type=\"1\">\n<li>Traiter les données avec le formulaire dans la fonction <code>post_form_page</code> du fichier <code>flask_csv.py</code>.</li>\n<li>Ajouter <strong>coté client</strong> des entrées au formulaire pour stocker d’autres informations, par exemple l’âge. Modifier le code côté serveur pour stocker correctement ces nouvelles entrées dans le fichier <code>csv</code>.</li>\n<li>Ajouter une validation du champ âge <strong>côté client</strong> pour vérifier que l’age est bien supérieur à 14 ans.</li>\n<li>Travailler <strong>à la fois du côté du client et du serveur</strong> pour proposer à l’utilisateur de supprimer une entrée.</li>\n</ol>","frontmatter":{"tocHTML":"<ul><li><a href=\"#tp-sur-lapplication-web-serveur-en-python\" data-localhref=\"true\">TP sur l’application web serveur en python</a></li></ul>"},"fields":{"classe":"1g","chapter":"Interaction client–serveur","matter":"nsi","nChapter":"6","part":"Interactions entre l’homme et la machine sur le Web","nPart":"5","type":"exo"}}},"pageContext":{"slug":"1g/nsi/5-interactions-entre-lhomme-et-la-machine-sur-le-web/6-interaction-client-serveur/exo"}},"staticQueryHashes":["604483588"],"slicesMap":{}}