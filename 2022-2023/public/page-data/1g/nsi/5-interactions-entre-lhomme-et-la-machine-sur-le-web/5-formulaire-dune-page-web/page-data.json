{"componentChunkName":"component---src-templates-cours-md-js","path":"/1g/nsi/5-interactions-entre-lhomme-et-la-machine-sur-le-web/5-formulaire-dune-page-web/","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\"><summary>Programme Officiel</summary>\n<table class=\"table table-bordered table-hover\">\n<thead class=\"table-warning\">\n<tr class=\"header\">\n<th>Contenus</th>\n<th>Capacités attendues</th>\n<th>Commentaires</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Formulaire d’une page Web</td>\n<td><p>Analyser le fonctionnement d’un formulaire simple.</p>\n<p>Distinguer les transmissions de paramètres par les requêtes POST ou GET.</p></td>\n<td>Discuter les deux types de requêtes selon le type des valeurs à transmettre et/ou leur confidentialité.</td>\n</tr>\n</tbody>\n</table>\n<a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme complet</a></details>\n<div class=\"intro quarto-layout-panel\">\n<div class=\"quarto-layout-row quarto-layout-valign-top\">\n<div class=\"quarto-layout-cell\" style=\"flex-basis: 50.0%;justify-content: center;\">\n<p>Dans ce chapitre, nous allons voir comment permettre à l’utilisateur d’entrer des données sur une page web grâce à la balise html <code>&lt;form&gt;</code>. Ces données seront ensuite transmises au serveur pour alimenter des bases de données comme nous le verront au chapitre suivant.</p>\n</div>\n<div class=\"quarto-layout-cell\" style=\"flex-basis: 50.0%;justify-content: center;\">\n<p><wc-wikimage title=\"Sample_web_form.png\" caption=\"Les formulaires web permettent d'utiliser' types d'entrée: texte, nombre, bouton radio, liste déroulante...\"></wc-wikimage></p>\n</div>\n</div>\n</div>\n<h2 id=\"création-du-formulaire-avec-la-balise-form\" class=\"anchored\">Création du formulaire avec la balise <code>&lt;form&gt;</code></h2>\n<p>Les formulaires sont un moyen de récupérer des données à partir du client pour les passer à l’application serveur.</p>\n<p>Dans le fichier <code>html</code>, on utilise la balise <code>&lt;form&gt;</code> en y ajoutant l’attribut <code>method</code> qui permet d’indiquer quel est le type de requête HTTP.</p>\n<div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">form</span> <span class=\"na\">method</span><span class=\"o\">=</span><span class=\"s\">\"get\"</span><span class=\"p\">&gt;</span>\n<span></span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">label</span> <span class=\"na\">for</span><span class=\"o\">=</span><span class=\"s\">\"nom\"</span><span class=\"p\">&gt;</span>Entrez votre nom: <span class=\"p\">&lt;/</span><span class=\"nt\">label</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"text\"</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"nom\"</span> <span class=\"na\">required</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  \n    &lt;</span><span class=\"nt\">label</span> <span class=\"na\">for</span><span class=\"o\">=</span><span class=\"s\">\"email\"</span><span class=\"p\">&gt;</span>Entrez votre email: <span class=\"p\">&lt;/</span><span class=\"nt\">label</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"email\"</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"email\"</span> <span class=\"na\">required</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  \n    &lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">value</span><span class=\"o\">=</span><span class=\"s\">\"Enregistrer\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  \n&lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n</pre></div>\n<h3 id=\"méthode-http-get\" class=\"anchored\">Méthode <code>HTTP GET</code></h3>\n<p>Avec cette méthode, les paramètres du formulaire sont placés dans l’<em>url</em> lors de la soumission.</p>\n<div class=\"example\">\n<p>Soumission des données par la méthode GET:</p>\n<p><a href=\"http://chemin/fichier.html?nom=James&amp;email=james%40cameron.com\" class=\"uri\">http://chemin/fichier.html?nom=James&amp;email=james%40cameron.com</a></p>\n<ul>\n<li>nom: James</li>\n<li>email: james@cameron.com</li>\n</ul>\n</div>\n<details class=\"plus\"><summary>Percent-encoding</summary>\n<p>Dans les URL, les caractères spéciaux tels <code>@</code> sont échappés avec un code par exemple: <code>%40</code> pour <code>@</code>, <code>%20</code> pour l’espace.</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 9.45945945945946%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAZklEQVR42i3H6wrCMAxA4b3/Kwq6Nkmty6WNzDV2f0QRDh+cRf3wPaQf8zxX3C7XRFQyICACECAmwNuaMlAGZJaI94g5IiLmUirXTag8yr1q8/01WvfWnz+/Wffm/1UzFmU1VWOWD0tbbtI+cBY9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"percent encoding wikipedia\" title=\"\" src=\"/2022-2023/static/a5f60bb61c7ee8e9a2c8761043bf6499/fcda8/percent-encoding-wikipedia.png\" srcset=\"/2022-2023/static/a5f60bb61c7ee8e9a2c8761043bf6499/12f09/percent-encoding-wikipedia.png 148w,\n/2022-2023/static/a5f60bb61c7ee8e9a2c8761043bf6499/e4a3f/percent-encoding-wikipedia.png 295w,\n/2022-2023/static/a5f60bb61c7ee8e9a2c8761043bf6499/fcda8/percent-encoding-wikipedia.png 590w,\n/2022-2023/static/a5f60bb61c7ee8e9a2c8761043bf6499/efc66/percent-encoding-wikipedia.png 885w,\n/2022-2023/static/a5f60bb61c7ee8e9a2c8761043bf6499/709cb/percent-encoding-wikipedia.png 1034w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n<p></p><figcaption class=\"figure-caption\">Tableau d’exemples issu de wikipedia</figcaption><p></p>\n</figure>\n</div>\n<p>Voir l’article <a href=\"https://fr.wikipedia.org/wiki/Percent-encoding\">Wikipedia</a> pour plus de détails.</p>\n</details>\n<details class=\"appli\"><summary>Création d'un formulaire avec la méthode GET</summary>\n<p>Créer une page <code>index.html</code> dans laquelle vous placerez un formulaire, avec la méthode <code>GET</code>.</p>\n<div class=\"highlight\"><pre><span></span><span class=\"cp\">&lt;!doctype html&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html</span> <span class=\"na\">lang</span><span class=\"o\">=</span><span class=\"s\">\"fr\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">meta</span> <span class=\"na\">charset</span><span class=\"o\">=</span><span class=\"s\">\"utf-8\"</span> <span class=\"p\">/&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>Un document minuscule<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;/</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>Les formulaires en html<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n<span class=\"cm\">    &lt;!-- Le formulaire ci-dessous --&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">form</span> <span class=\"na\">method</span><span class=\"o\">=</span><span class=\"s\">\"GET\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"text\"</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"nom\"</span> <span class=\"na\">placeholder</span><span class=\"o\">=</span><span class=\"s\">\"Entrer votre nom\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">button</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"submit\"</span><span class=\"p\">&gt;</span>Envoyer les données<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n</pre></div>\n<p>Enregistrer ce fichier puis l’ouvrir dans le navigateur.</p>\n<ol type=\"1\">\n<li><p>Entrer une valeur dans le formulaire et appuyer sur le bouton pour le soumettre et observer la barre d’adresse du navigateur.</p></li>\n<li><p>Ajouter d’autres types d’entrées avec la balise <code>&lt;input&gt;</code>.</p>\n<ul>\n<li><code>&lt;input type=\"text\" ...</code>: Par défaut: entrée de texte.</li>\n<li><code>&lt;input type=\"button\" ...</code>: Un bouton(on préfèrera cependant la balise <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button\"><code>&lt;button&gt;</code></a> cependant).</li>\n<li><code>&lt;input type=\"checkbox\" ...</code>: Case à cocher.</li>\n<li><code>&lt;input type=\"radio\" ...</code>: un bouton radio qui permet de sélectionner une seule valeur parmi un groupe de différentes valeurs.</li>\n</ul>\n<p>Assurez-vous que toutes les balises <code>input</code> ont bien un attribut <code>name</code> pour pouvoir être traités.</p>\n<p>Observer dans la barre d’adresse comment sont placés les paramètres lors de la soumission du formulaire avec le bouton <code>submit</code>.</p></li>\n</ol>\n</details>\n<h3 id=\"méthode-http-post\" class=\"anchored\">Méthode <code>HTTP POST</code></h3>\n<p>Avec cette méthode les données sont transmises dans le corps de la requête http, sans les encoder dans l’url cette fois-ci.</p>\n<p>Le serveur doit accepter les requêtes POST.</p>\n<p>Pour observer les paramètres d’une requête <code>POST</code>, il faut ouvrir la console de développement du navigateur, dans l’onglet réseaux.</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 22.972972972972975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA6UlEQVR42oWLsU7DMBBA8/8zSwMMfAFLVZEuSCRlZACKWiYkCqj2nR3bF/fi2BcEfABvenrSqxSg0ghg0fSAVgO+I7/BpLFXGhTg4Ut9HrVBo5Sy1saBRh7pqAGxmjiUKUoeJbOUUUqay69InmeRnJjZ0ikOAzNT5D7EEEIgIhqqi1Zf3evFHZzd6nrj6k2/2LhFZ89buOyg7sz1g0EAY61BVIY+bHL+5/aBquYlNNt+9eyXj32zi+v9ab2PzS6utnSz9csn3746NM4oS46mNOUplVxSSt6Hav4PEQlc2IzFJYlZiojIX/8GsC0Ul2YFRZAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"console reseaux post\" title=\"\" src=\"/2022-2023/static/a977e67e85c6320a5d005d79124f05dd/fcda8/console-reseaux-post.png\" srcset=\"/2022-2023/static/a977e67e85c6320a5d005d79124f05dd/12f09/console-reseaux-post.png 148w,\n/2022-2023/static/a977e67e85c6320a5d005d79124f05dd/e4a3f/console-reseaux-post.png 295w,\n/2022-2023/static/a977e67e85c6320a5d005d79124f05dd/fcda8/console-reseaux-post.png 590w,\n/2022-2023/static/a977e67e85c6320a5d005d79124f05dd/efc66/console-reseaux-post.png 885w,\n/2022-2023/static/a977e67e85c6320a5d005d79124f05dd/d9199/console-reseaux-post.png 960w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n<p></p><figcaption class=\"figure-caption\">console réseau POST firefox</figcaption><p></p>\n</figure>\n</div>\n<p>Les paramètres étant «cachés» dans la requête HTML, on les utilisera notamment pour la soumission de formulaires avec des données confidentielles:</p>\n<ul>\n<li>mot de passe</li>\n<li>email</li>\n<li><a href=\"/2gt/snt/4-les-donnees-structurees-et-leur-traitement/1-donnees\">données personnelles</a> en général</li>\n</ul>\n<details class=\"appli\"><summary>Création d'un formulaire avec la méthode POST</summary>\n<p>Sur la page web précédente, ajouter un autre formulaire, qui utilisera cette fois-ci la méthode <code>POST</code>.</p>\n<p>Pour que le formulaire fonctionne il faut lancer un serveur local, si vous êtes sur Visual Studio Code, je vous conseille d’installer l’extension <a href=\"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer\">Live Server</a></p>\n<p>Vérifier les différences de fonctionnement entre ces deux formulaires en utilisant la console réseau du navigateur.</p>\n</details>\n<h2 id=\"validation-des-données-du-formulaire\" class=\"anchored\">Validation des données du formulaire</h2>\n<p>A priori, les données sont destinées traitées au niveau du serveur comme nous le verrons dans le prochain chapitre.</p>\n<p>Il n’est cependant pas rare de valider les données côté client en <code>javascript</code> avant envoi des données pour ne pas surcharger le serveur.</p>\n<div class=\"example\">\n<p>Vérification que le nom n’est pas vide.</p>\n<div class=\"highlight\"><pre><span></span><span class=\"cp\">&lt;!doctype html&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">html</span> <span class=\"na\">lang</span><span class=\"o\">=</span><span class=\"s\">\"fr\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">meta</span> <span class=\"na\">charset</span><span class=\"o\">=</span><span class=\"s\">\"utf-8\"</span> <span class=\"p\">/&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>Un document minuscule<span class=\"p\">&lt;/</span><span class=\"nt\">title</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;/</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>Les formulaires en html<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n<span class=\"cm\">    &lt;!-- Le formulaire ci-dessous --&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">form</span> <span class=\"na\">method</span><span class=\"o\">=</span><span class=\"s\">\"GET\"</span> <span class=\"p\">&gt;</span>\n<span class=\"p\">      &lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"text\"</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"nom\"</span> <span class=\"na\">placeholder</span><span class=\"o\">=</span><span class=\"s\">\"Entrer votre nom\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">      &lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"tel\"</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">\"telephone\"</span> <span class=\"na\">placeholder</span><span class=\"o\">=</span><span class=\"s\">\"0123456789\"</span><span class=\"p\">&gt;</span>\n<span class=\"p\">      &lt;</span><span class=\"nt\">button</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">onclick</span><span class=\"o\">=</span><span class=\"s\">\"validateForm()\"</span><span class=\"p\">&gt;</span>Envoyer les données<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n<span class=\"p\">    &lt;</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n<span class=\"w\">      </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">validateForm</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">nom</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">querySelector</span><span class=\"p\">(</span><span class=\"s2\">\"input[name='nom']\"</span><span class=\"p\">).</span><span class=\"nx\">value</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nx\">nom</span><span class=\"w\"> </span><span class=\"o\">===</span><span class=\"w\"> </span><span class=\"s1\">''</span><span class=\"p\">){</span>\n<span class=\"w\">          </span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"Nom ne doit pas être vide\"</span><span class=\"p\">)</span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"s2\">\"Envoi des données\"</span><span class=\"p\">}</span>\n<span class=\"w\">      </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n<span class=\"p\">  &lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<details class=\"appli\"><summary>&nbsp;</summary>\n<p>Vérifier en <code>javascript</code> qu’on a un numéro de téléphone qui commence par 0 et comporte 10 chiffres.</p>\n</details>","tableOfContents":"","frontmatter":{"tags":["http","formulaire","client-serveur"],"tocHTML":"<ul><li><a href=\"#création-du-formulaire-avec-la-balise-form\" data-localhref=\"true\">Création du formulaire avec la balise <code>&lt;form&gt;</code></a></li><ul><li><a href=\"#méthode-http-get\" data-localhref=\"true\">Méthode <code>HTTP GET</code></a></li><li><a href=\"#méthode-http-post\" data-localhref=\"true\">Méthode <code>HTTP POST</code></a></li></ul><li><a href=\"#validation-des-données-du-formulaire\" data-localhref=\"true\">Validation des données du formulaire</a></li></ul>"},"fields":{"classe":"1g","chapter":"Formulaire d’une page web","matter":"nsi","nChapter":"5","part":"Interactions entre l’homme et la machine sur le Web","nPart":"5"}}},"pageContext":{"slug":"1g/nsi/5-interactions-entre-lhomme-et-la-machine-sur-le-web/5-formulaire-dune-page-web","chapter":"Formulaire d’une page web"}},"staticQueryHashes":["604483588"],"slicesMap":{}}