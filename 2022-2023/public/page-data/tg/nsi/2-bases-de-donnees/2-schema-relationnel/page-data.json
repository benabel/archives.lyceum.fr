{"componentChunkName":"component---src-templates-cours-md-js","path":"/tg/nsi/2-bases-de-donnees/2-schema-relationnel/","result":{"data":{"markdownRemark":{"html":"<details class=\"programme\"><summary>Programme Officiel</summary>\n<table class=\"table table-bordered table-hover\">\n<thead class=\"table-warning\">\n<tr class=\"header\">\n<th>Contenus</th>\n<th>Capacités attendues</th>\n<th>Commentaires</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Base de données relationnelle.</td>\n<td><p>Savoir distinguer la structure d’une base de données de son contenu.</p>\n<p>Repérer des anomalies dans le schéma d’une base de données.</p></td>\n<td><p>La structure est un ensemble de schémas relationnels qui respecte les contraintes du modèle relationnel.</p>\n<p>Les anomalies peuvent être des redondances de données ou des anomalies d’insertion, de suppression, de mise à jour.</p>\n<p>On privilégie la manipulation de données nombreuses et réalistes.</p></td>\n</tr>\n</tbody>\n</table>\n<a class=\"lien-programme\" href=\"../programme/\">Lien vers le programme complet</a></details>\n<blockquote class=\"blockquote\">\n<p>Nous allons voir plus en détail ce que sont les bases de données relationnelles et mettre en évidence quelques anomalies qui peuvent être rencontrées.</p>\n</blockquote>\n<h2 id=\"vocabulaire\" class=\"anchored\">Vocabulaire</h2>\n<p>Nous allons définir le vocabulaire de l’algèbre relationnelle inventée en 1970 par Edgar Frank Codd, et le mettre en relation avec le vocabulaire plus abordable des tableaux.</p>\n<p><wc-wikimage class=\"half center\" title=\"Table_relationnel.png\" caption=\"Le vocabulaire des bases de données.\"></wc-wikimage></p>\n<dl>\n<dt>\nRelation\n</dt>\n<dd>\n<div>\n<p>Dans le modèle relationnel, les données sont stockées dans des tables, aussi appelées <strong>relations</strong>.</p>\n</div>\n</dd>\n</dl>\n<p>L’illustration ci-dessus présente une relation appelée <code>voiture</code>.</p>\n<dl>\n<dt>\nAttribut\n</dt>\n<dd>\n<div>\n<p>Le nom d’une colonne d’une relation est appelé <strong>attribut</strong>.</p>\n</div>\n</dd>\n</dl>\n<p>La relation <code>voiture</code> possède trois attributs: <code>marque</code>, <code>couleur</code> et <code>plaque</code>.</p>\n<dl>\n<dt>\nn-uplet\n</dt>\n<dd>\n<div>\n<p>Un enregistrement (ligne) d’une relation est appelé <strong>n-uplet</strong>.</p>\n</div>\n</dd>\n</dl>\n<div class=\"examples\">\n<ul>\n<li><code>ID voiture</code>, <code>marque</code> de la table voiture.</li>\n<li><code>ID carburant</code>, <code>type</code> de la table carburant.</li>\n</ul>\n</div>\n<dl>\n<dt>\nDomaine\n</dt>\n<dd>\n<div>\n<p>Le <strong>domaine</strong> d’un attribut est l’ensemble des valeurs qui peuvent être prises par cet attribut.</p>\n</div>\n</dd>\n</dl>\n<div class=\"examples\">\n<p>Une base de donnée <a href=\"https://www.sqlite.org/datatype3.html#storage_classes_and_datatypes\">sqlite</a> il n’y a que cinq domaines de valeurs possibles:</p>\n<ul>\n<li><code>NULL</code>. La valeur est une valeur NULL.</li>\n<li><code>INTEGER</code>. La valeur est un entier signé, stocké dans 1, 2, 3, 4, 6 ou 8 octets en fonction de l’amplitude de la valeur.</li>\n<li><code>REAL</code>. La valeur est une valeur à virgule flottante, stockée sous forme de nombre à virgule flottante IEEE de 8 octets.</li>\n<li><code>TEXT</code>. La valeur est une chaîne de texte, stockée à l’aide du codage de la base de données (UTF-8, UTF-16BE ou UTF-16LE).</li>\n<li><code>BLOB</code>. La valeur est une donnée binaire brute, stocké exactement comme elle a été entrée.</li>\n</ul>\n<p>Dans le SGBD MariaDB il y a beaucoup plus de types avec notamment des formats pour les dates <a href=\"https://mariadb.com/kb/en/data-types/\">(voir doc)</a>.</p>\n</div>\n<p>Pour résumer, le tableau suivant montre celui, rigoureux, issu de l’algèbre relationnelle et celui, plus vague, correspondant à la représentation par table. Les termes de chaque ligne seront considérés comme équivalents, mais on privilégiera les premiers qui sont plus précis.</p>\n<table class=\"table table-bordered table-hover\">\n<thead class=\"table-warning\">\n<tr class=\"header\">\n<th>Terme de l’algèbre relationnelle</th>\n<th>Terme de la représentation par table</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Relation</td>\n<td>Table</td>\n</tr>\n<tr class=\"even\">\n<td>n-uplet</td>\n<td>ligne</td>\n</tr>\n<tr class=\"odd\">\n<td>Nom d’attribut</td>\n<td>Nom de colonne</td>\n</tr>\n<tr class=\"even\">\n<td>Valeur d’attribut</td>\n<td>Cellule</td>\n</tr>\n<tr class=\"odd\">\n<td>Domaine</td>\n<td>Type</td>\n</tr>\n</tbody>\n</table>\n<p><a href=\"http://sql.bdpedia.fr/relationnel.html#le-schema\" class=\"cite-source\">Philippe Rigaux sur sql.dbpedia.fr CC-BY-NC-SA</a></p>\n<h2 id=\"clés-primaire-et-secondaire\" class=\"anchored\">Clés primaire et secondaire</h2>\n<dl>\n<dt>\nClé primaire\n</dt>\n<dd>\n<div>\n<p>Chaque ligne de la table doit comporter un attribut qui l’identifie de façon <strong>unique</strong>, on l’appelle la <strong>clé primaire</strong>.</p>\n</div>\n</dd>\n</dl>\n<div class=\"examples\">\n<ul>\n<li>Dans la table <code>voiture</code> l’attribut <code>plaque</code> pourrait constituer la clé primaire.</li>\n<li>En s’inscrivant sur un site, on vous impose d’utiliser un <code>identifiant</code> unique pour créer votre ligne dans la base de données.</li>\n<li>L’email d’un utilisateur peut servir de clé primaire, mais ce n’est pas conseillé.</li>\n</ul>\n</div>\n<details class=\"plus\"><summary>&nbsp;</summary>\n<p>On préférera utiliser une clé primaire complètement indépendante des données métier, afin de s’assurer que le champ est toujours rempli et n’évolue pas dans le temps.</p>\n<p>Toutes les bases de données proposent des mécanismes prenant en charge une numérotation utilisable pour les clés primaires.</p>\n</details>\n<dl>\n<dt>\nClé secondaire\n</dt>\n<dd>\n<div>\n<p>Une clé secondaire ou <em>clé étrangère</em> est une clé utilisée dans une table pour faire référence à un enregistrement d’une autre table.</p>\n</div>\n</dd>\n</dl>\n<div class=\"example\">\n<p><wc-wikimage class=\"half center\" title=\"Relation.png\" caption=\"La clé primaire ID carburant de la relation carburant sert de clé secondaire dans la relation voiture.\"></wc-wikimage></p>\n</div>\n<div class=\"prop\">\n<p>L’ensemble constitué d’une <em>clé primaire</em> et d’une <em>clé étrangère</em> sert à établir des <em>relations</em> entre tables.</p>\n</div>\n<h2 id=\"contraintes-dintégrité\" class=\"anchored\">Contraintes d’intégrité</h2>\n<p>Les SGBD modernes permettent de garder les données conformes au modèle relationnel. <strong>Trois types de contraintes d’intégrité</strong> font partie intégrante du modèle de données relationnel:</p>\n<ul>\n<li><strong>L’intégrité de clé primaire</strong>: cette règle stipule que chaque table doit avoir une clé primaire et que la ou les colonnes choisies pour être la clé primaire doivent être uniques et non nulles.</li>\n</ul>\n<div class=\"example\">\n<p>Dans la table <code>voiture</code> essayez d’ajouter la troisième voiture avec l’ID 2, l’ajout sera refusé, car <code>ID voiture</code> a été déclaré comme clé primaire</p>\n</div>\n<ul>\n<li><strong>L’intégrité référentielle</strong> est une situation dans laquelle pour chaque information d’une table A qui fait référence à une information d’une table B, l’information référencée existe dans la table B.</li>\n</ul>\n<div class=\"examples\">\n<p>Si vous tentez de supprimer la ligne 2 de la table <code>carburant</code>, le SGBD vous le refusera en raison de sa présence dans la table des voitures à la ligne de la BMW.</p>\n<p>Il est aussi impossible d’ajouter dans la table <code>voitures</code> un <code>id carburant</code> qui n’existe pas dans la relation <code>carburant</code>.</p>\n</div>\n<ul>\n<li><strong>L’intégrité du domaine</strong> spécifie que toutes les colonnes d’une base de données relationnelle doivent être déclarées sur un domaine défini.</li>\n</ul>\n<div class=\"example\">\n<p>S’assurer qu’une valeur est bien un email, un numéro de téléphone ou un code postal.</p>\n<p>Le support des types dans sqlite étant relativement limité, vous pouvez par exemple vérifier qu’on ne peut ajouter un <code>id voiture</code> qui ne soit pas un entier comme <code>A</code> par exemple.</p>\n</div>\n<div class=\"prop\">\n<p>Une fois la contrainte déclarée, le SGBD refusera toute modification du contenu de la base de données qui violerait une de ces règles et casserait l’intégrité.</p>\n</div>\n<details class=\"appli\"><summary>&nbsp;</summary>\n<p>Télécharger la base de données sqlite <code>voitures.db</code> à l’adresse suivante: https://apps.lyceum.fr/sqlite/dbs/voitures.db.</p>\n<p>L’ouvrir dans sqliteBrowser et vérifier que les trois contraintes d’intégrité sont bien gérées par le SGBD sqlite.</p>\n</details>\n<h2 id=\"exemples-danomalies\" class=\"anchored\">Exemples d’anomalies</h2>\n<p>Nous allons montrer sur un l’exemple d’une base de donnée de DVD <em>mal construite</em> quels types d’anomalies peuvent apparaître.</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 41.21621621621622%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABaElEQVR42jWQ646bMBSEef8X66aJtCtFkVIgtjHGN3wA2/gWktBuVv1+z4xmpjKEhOvVDMPv4/F0PJ5OJ4TQ+XyWUs7TZIyZplkI/vHxq2cMY3w4HCilX5+flNJKcA7jWEqRb57PZ0qJvXVC8HEcOefzPLdtK4Q0xoAB7z0AlFIqznlHac5Zaz3P8+v1yjn1PUMIW2tLKdu2retKKV2WBcA450IIhJAQQiUEB4D7/a61llJu21ZK4ZxjjDFCTdMghGOMmBCllNYq5+y9/+lYUUrruk4paa2MMfu+55y6rmuaxgCs/0EIAYAxxnkfQqCUxhgrxvrL5RJi1EpppffXnlJCt9v1+mdd1/3NunqMkbUOAKZpjjG2bWutrRhj42hKKVprIcR7cx6GgRAyDINSijG2LAshRMrvw5Zlcc5Zax+Px7fZmO96jPUDG3LOzrmuI7e2pT313ltrAaCu66ZtpZTjOP5E/Hv7LzFFt2QUYOXOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"table univ orleans\" title=\"\" src=\"/2022-2023/static/b9c17be41e0b7f1face0b5123aeab92c/fcda8/table-univ-orleans.png\" srcset=\"/2022-2023/static/b9c17be41e0b7f1face0b5123aeab92c/12f09/table-univ-orleans.png 148w,\n/2022-2023/static/b9c17be41e0b7f1face0b5123aeab92c/e4a3f/table-univ-orleans.png 295w,\n/2022-2023/static/b9c17be41e0b7f1face0b5123aeab92c/fcda8/table-univ-orleans.png 590w,\n/2022-2023/static/b9c17be41e0b7f1face0b5123aeab92c/efc66/table-univ-orleans.png 885w,\n/2022-2023/static/b9c17be41e0b7f1face0b5123aeab92c/03914/table-univ-orleans.png 1173w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n<p></p><figcaption class=\"figure-caption\">exemple de table de DVDs</figcaption><p></p>\n</figure>\n</div>\n<p><a href=\"https://www.univ-orleans.fr/lifo/Members/Mirian.Halfeld/Cours/BD/iutA2-intro.pdf\" class=\"cite-source\">Mirian Halfeld-Ferrari Université d’Orléans</a></p>\n<p>Comme vous le voyez cette table est mal construite:</p>\n<ul>\n<li>Les données sont <em>redondantes</em>: À chaque fois qu’un film apparaît, les valeurs pour le genre, length et rating apparaissent aussi.</li>\n<li>Les attributs concernent à la fois le DVD et le film, il <strong>faudrait créer des tables séparées</strong>.</li>\n</ul>\n<p>Maintenant, intéressons-nous aux anomalies qui pourraient se présenter:</p>\n<ul>\n<li><strong>Anomalie de mise à jour</strong>: Que se passe-t-il si le film <code>Elisabeth</code> est renommé <code>Élisabeth</code> pour satisfaire les clients francophones?</li>\n<li><strong>Anomalie d’insertion</strong>: Que se passe-t-il avec l’insertion du n-uplet : <code>〈102,1/1/99,   Elisabeth, drama,110, PG13〉</code></li>\n<li><strong>Anomalie de suppression</strong>: Que se passe-t-il lors de la suppression du DVD numéro <code>123</code>?</li>\n</ul>\n<h2 id=\"comment-concevoir-une-base-de-données-bien-structurée\" class=\"anchored\">Comment concevoir une base de données bien structurée?</h2>\n<p>Une base de données bien structurée:</p>\n<ul>\n<li>Économise de l’espace disque en éliminant les données redondantes.</li>\n<li>Maintient l’exactitude et l’intégrité des données.</li>\n<li>Fournit un accès facile aux données utiles.</li>\n</ul>\n<p>Le processus de conception peut-être scindé comme suit:</p>\n<ol type=\"1\">\n<li>Analyse des besoins ou identification de l’objectif de votre base de données.</li>\n<li>Organisation des données en tableaux.</li>\n<li>Spécification des clés primaires et analyse des relations.</li>\n</ol>\n<p>L’utilisation d’un diagramme relationnel aide à visualiser les relations entre les données.</p>\n<p>Voici l’exemple de la base de données «<a href=\"https://apps.lyceum.fr/sqlite\">Rock60</a>» qui rassemble des données sur les albums de rock des années 60 ainsi que les musiciens et producteurs qui y ont participé.</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 92.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACCklEQVR42pVUS3PaMBD2//8VbQ+dTi859FBgQgm0gRyakASGZwwGbMBg4zr4Ie1Kux2bpkwJJKlmZ6SV9ttvXyODmHeSCJEIoYkVs+Y3LSMB6HlrS4hWGFans8J4XPL9SSIJ2fPkYOj2B4FtA9ExcAxQ7nQrlnWr1Dff/zgYfEEwU8RU37cWxcLN+fmgXrdz40MHRqrUlW2XBuOiaZ7P5xebTQ15AYqZAVkpljKT42HvNin2VwiMuFe1zlycBFMOoN1iVv9avwLO2E5TvQTO+kQE8MTLhKgR8xP9Bf95+w/mvP8kpBZwrNbMRhDgeLTp9nzLktutdt2k1bbbbW/uqFAKR8puEFZN6zLY2EIcuDBarfnFRadQuC+XR66b3jZnxdJdsdRv3qyWj+G1u/oZBO8ajffDYS+KDsGIpBRHESBmAWcxI0vIrDwpK9NpZemW136VeZInQ6/lTLucUbNUBJokEmqtn9XspYLtAnneKnojWOVgVEwnJ4woSfaviAyQqQozIXryRbQBcOK4s1i2PW+cpob1+PgQx5W+eblaNZMk1dpPYC3VcO12/PAhEkoTQMafCv7xYNXc5edu94M5KsWxcWU7jU3wdTY7c5zydhtrfT2d1N3lWa//aTopx5HSejdtRGyHofkrHEWRBbBgNoAoVUoSSWbIh7C5WNQcp7ZafU/Tuyzzk//Kb1ZhRm+QS5SUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"BDD ROCK60 MODELE LOGIQUE\" title=\"\" src=\"/2022-2023/static/baccff89d4fea57da3d1fb1d3e7f3392/fcda8/BDD-ROCK60-MODELE-LOGIQUE.png\" srcset=\"/2022-2023/static/baccff89d4fea57da3d1fb1d3e7f3392/12f09/BDD-ROCK60-MODELE-LOGIQUE.png 148w,\n/2022-2023/static/baccff89d4fea57da3d1fb1d3e7f3392/e4a3f/BDD-ROCK60-MODELE-LOGIQUE.png 295w,\n/2022-2023/static/baccff89d4fea57da3d1fb1d3e7f3392/fcda8/BDD-ROCK60-MODELE-LOGIQUE.png 590w,\n/2022-2023/static/baccff89d4fea57da3d1fb1d3e7f3392/e7dce/BDD-ROCK60-MODELE-LOGIQUE.png 653w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n<p></p><figcaption class=\"figure-caption\">Schéma relationnel de la base de données rock60</figcaption><p></p>\n</figure>\n</div>\n<p>Outre l’utilisation de clés primaires et secondaires, on a ajouté des tables particulières qui permettent de relier deux tables lorsque qu’on a une relation dite N:N.</p>\n<div class=\"example\">\n<p>Une personne peut jouer dans plusieurs groupes et un groupe est constitué de plusieurs personnes.</p>\n<p>La table <code>Joue Dans</code> permet d’exprimer cette relation en utilisant deux clés étrangères.</p>\n</div>\n<details class=\"appli\"><summary>&nbsp;</summary>\n<p>En étudiant le schéma ci-dessus:</p>\n<ul>\n<li>Donner le nom de toutes les clés primaires.</li>\n<li>Donner le nom de toutes les clés secondaires.</li>\n<li>Donner le nom de toutes les tables exprimant les relations N:N comme la table <code>Joue Dans</code>.</li>\n</ul>\n</details>","tableOfContents":"","frontmatter":{"tags":["bases de données","algèbre relationnel","schéma relationnel"],"tocHTML":"<ul><li><a href=\"#vocabulaire\" data-localhref=\"true\">Vocabulaire</a></li><li><a href=\"#clés-primaire-et-secondaire\" data-localhref=\"true\">Clés primaire et secondaire</a></li><li><a href=\"#contraintes-dintégrité\" data-localhref=\"true\">Contraintes d’intégrité</a></li><li><a href=\"#exemples-danomalies\" data-localhref=\"true\">Exemples d’anomalies</a></li><li><a href=\"#comment-concevoir-une-base-de-données-bien-structurée\" data-localhref=\"true\">Comment concevoir une base de données bien structurée?</a></li></ul>"},"fields":{"classe":"tg","chapter":"Schéma relationnel","matter":"nsi","nChapter":"2","part":"Bases de données","nPart":"2"}}},"pageContext":{"slug":"tg/nsi/2-bases-de-donnees/2-schema-relationnel","chapter":"Schéma relationnel"}},"staticQueryHashes":["604483588"],"slicesMap":{}}