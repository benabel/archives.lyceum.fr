{"componentChunkName":"component---src-templates-exo-md-js","path":"/tg/nsi/2-bases-de-donnees/3-langage-sql/exo/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"tp-du-cnam-sur-les-requêtes-sql\" class=\"anchored\">TP du Cnam sur les requêtes <code>sql</code></h2>\n<p>Un TP en ligne avec correction est proposé par le CNAM et vous permet de vous entraîner sur 4 jeux de données: <a href=\"http://deptfod.cnam.fr/bd/tp\" class=\"uri\">http://deptfod.cnam.fr/bd/tp</a>.</p>\n<p>La base de données <code>films</code> a été importée sur https://apps.lyceum.fr/sqlite.</p>\n<h2 id=\"enquête-en-ligne-et-en-anglais\" class=\"anchored\">Enquête en ligne (et en anglais)</h2>\n<p>Résolvez l’enquête du meurtre de SQL City. Pour accéder à cette enquête, il existe diverses possibilités:</p>\n<ul>\n<li>Version interactive en <code>html</code>: <a href=\"http://mystery.knightlab.com\" class=\"uri\">http://mystery.knightlab.com</a></li>\n<li>Fichiers dont la base de données sqlite sur github: <a href=\"https://github.com/NUKnightLab/sql-mysteries\" class=\"uri\">https://github.com/NUKnightLab/sql-mysteries</a></li>\n<li>Version interactive sur repl.it: <a href=\"https://repl.it/@ToniScullion1/Silver-TASK-2-SQL-Murder-Mystery#actvity.md\" class=\"uri\">https://repl.it/@ToniScullion1/Silver-TASK-2-SQL-Murder-Mystery#actvity.md</a></li>\n</ul>\n<h2 id=\"mini-projet-application-web-avec-base-de-données-sqlite\" class=\"anchored\">Mini-projet: application web avec base de données <code>sqlite</code></h2>\n<p>Le dépôt git suivant contient une mini-application web utilisant python pour accéder aux données d’une base de données <code>sqlite</code>.</p>\n<p><a href=\"https://framagit.org/lyceum/flask-sqlite\" class=\"uri\">https://framagit.org/lyceum/flask-sqlite</a></p>\n<p>Par <strong>groupe de 2 ou 3</strong>, développez l’ébauche d’application proposée pour qu’elle utilise des <em>données intéressantes</em> de votre choix mais non personnelles.</p>\n<p>Outre le changement de données, vous pourrez:</p>\n<ul>\n<li>utiliser plusieurs relations dans votre base de données, et les joindre dans vos requêtes.</li>\n<li>proposer plusieurs pages <code>html</code> pour la visualisation de données différentes, leur édition…</li>\n</ul>\n<h2 id=\"exercice-type-bac\" class=\"anchored\">Exercice type BAC</h2>\n<blockquote class=\"blockquote\">\n<p>Cet exercice est issu du sujet zéro.</p>\n</blockquote>\n<p>L’énoncé de cet exercice utilise les mots du langage <code>SQL</code> suivant :</p>\n<p><code>SELECT</code>, <code>FROM</code>, <code>WHERE</code>, <code>JOIN</code>, <code>INSERT INTO</code>, <code>VALUES</code>, <code>COUNT</code>, <code>ORDER BY</code>.</p>\n<p>Dans un lycée imaginaire, les données relatives aux élèves de secondes sont regroupées dans un fichier nommé <code>seconde_lyc.csv</code>. Un extrait de son contenu est représenté figure 1.</p>\n<div class=\"quarto-figure quarto-figure-center\">\n<figure class=\"figure\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 574px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 82.43243243243244%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAADAUlEQVR42i2RWZOaQBRG/f9/xTjjmJpRmkVQx2HVZhcaVGRrugVbGauStxRJ7vupOue7I8s0ZGXlOq6iKNnloqkqhLCu6zDwAeDfplPDMBCK5/N5mh4hhEWR27ZdllVRFCPT0JXV2nZsy9r9+v1bU78c13s8HglC7x/z8Xi8h7DI85+zWZKmhJD7/R4Ewe3GKCGj7WbNAWDbUFpKhNDtdhsj1HUdiuPFgpv8mARBeD6fAceds6xtW8aY49iUUozrEdzvVquV53rKchmEoaqqrutWVR1FB0EUOY6zLCuO4/V6necFIaRtr47jYNwM2oauL2XZcV1VVRm7a6oaRREhBKF4wXGTycQ0zSRJeADOWRbFcVVV/+CyLIdmUZI8zxVFsW07w9A937/dbqdjynHgx3hsWVaWZfPFvKqHY4wNzYxRSkeGrgmC4Do2AHyNsa5pURRhjNM0kaTl2/RtD2GCElmWi7Lsuo4xZtt205CqqkaWacqycghDSZLKstL1AW6aJo4iUZTe3mae559PJ0EQUJIghMqy/KuN/zVr0nIZBsFqtRq0dd3zPUoJimOeFyaTCbTt4zF9f3/P8yLLMkKI57qE0Lqu/8OODTebz+fzaZqGZVnsxk7HIy8ILy8vumGcTicOcGVZPR6P5/PbH0ZhlJJhbVlWbAh5ni/LSv3aOo7bNBghBACYTqd7CI/HIwAgRgnG+EqpbcO6/qu921mbzQZCuN1+EkJN0wiCEGMcHUIAwGw2g3uYpAkAXBQPRwfY/t+831myrARBsJSW1+t1eJXnMcaOacLzwng89n3/crnM5/NLnrdt2/e953ld1xFCRl/bT54XAj9QZOXGmKFrlrW73W5pghaLxevry/brCyWJKIq4adqufTzuvu+1bdc0zUhTVVGSdrudIAg1xp+fm9Vqnef54RB+fMynr6+6poWHgyAIlzyvqopSst/vqrrO83xU13VRFJTS8/nc999FkRdl2fd917VZlqE4xk3Tdd3lcun7777vn89n0zR93/ePxx+KTCBXPuo3OgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"image bdd csv\" title=\"\" src=\"/2022-2023/static/ab141eee0c7d635edb3dbf0906425be1/86389/image-bdd-csv.png\" srcset=\"/2022-2023/static/ab141eee0c7d635edb3dbf0906425be1/12f09/image-bdd-csv.png 148w,\n/2022-2023/static/ab141eee0c7d635edb3dbf0906425be1/e4a3f/image-bdd-csv.png 295w,\n/2022-2023/static/ab141eee0c7d635edb3dbf0906425be1/86389/image-bdd-csv.png 574w\" sizes=\"(max-width: 574px) 100vw, 574px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n<p></p><figcaption class=\"figure-caption\">Extrait du fichier seconde_lyc.csv</figcaption><p></p>\n</figure>\n</div>\n<p>Pour les besoins de l’organisation du lycée, le chef d’établissement exploite la base de données par des requêtes en langage <code>SQL</code>. Il a pour cela créé une table (ou relation) <code>SQL</code> dénommée <code>seconde</code> dans son système de gestion de bases de données dont la structure est la suivante :</p>\n<div class=\"highlight\"><pre><span></span>+--------------------------+\n| seconde                  |\n+==========================+\n| num_eleve(clef primaire) |\n+--------------------------+\n| langue1                  |\n+--------------------------+\n| langue2                  |\n+--------------------------+\n| option                   |\n+--------------------------+\n| classe                   |\n+--------------------------+\n</pre></div>\n<p>L’attribut <code>num_eleve</code> est un entier, les autres sont des chaines de caractère (le type <code>CHAR</code>).</p>\n<ol type=\"1\">\n<li><p>&nbsp;</p>\n<ol type=\"1\">\n<li><p>Dans le modèle relationnel, quel est l’intérêt de l’attribut <code>num_eleve</code>.</p></li>\n<li><p>Écrire une requête SQL d’insertion permettant d’enregistrer l’élève <code>ACHIR Mussa</code> dans la table seconde. Les informations relatives à cet élève sont données dans la ligne 1 du fichier <code>seconde_lyc.csv</code>.</p></li>\n<li><p>Lors de l’insertion de l’élève <code>ALTMEYER Yohan</code> (ligne 2 du fichier <code>seconde_lyc.csv</code>), une erreur de saisie a été commise sur la première langue, qui devrait être allemand. Écrire une requête SQL de mise à jour corrigeant les données de cet élève.</p></li>\n</ol></li>\n<li><p>On suppose maintenant que la table seconde contient les informations issues de la figure 1 (ni plus, ni moins, même si la figure 1 n’est qu’un extrait du fichier <code>seconde_lyc.csv</code>).</p>\n<ol type=\"1\">\n<li><p>Quel est le résultat de la requête suivante?</p>\n<div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"n\">num_eleve</span><span class=\"w\"> </span><span class=\"k\">FROM</span><span class=\"w\"> </span><span class=\"n\">seconde</span><span class=\"p\">;</span>\n</pre></div>\n</li>\n<li><p>On rappelle qu’en <code>SQL</code>, la fonction d’agrégation <code>COUNT()</code> permet de compter le nombre d’enregistrements dans une table. Quel est le résultat de la requête suivante?</p>\n<div class=\"highlight\"><pre><span></span><span class=\"k\">SELECT</span><span class=\"w\"> </span><span class=\"k\">COUNT</span><span class=\"p\">(</span><span class=\"n\">num_eleve</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"k\">FROM</span><span class=\"w\"> </span><span class=\"n\">seconde</span><span class=\"p\">;</span>\n</pre></div>\n</li>\n<li><p>Écrire la requête permettant de connaître le nombre d’élèves qui font allemand en <code>langue1</code> ou <code>langue2</code>.</p></li>\n</ol></li>\n<li><p>Le chef d’établissement souhaite faire évoluer la structure de sa base de données. Pour ce faire, il créé une nouvelle table eleve dont la structure est la suivante:</p>\n<div class=\"highlight\"><pre><span></span>+-------------------------------------+\n| eleve                               |\n+=====================================+\n| num_eleve (clef primaire,           |\n+-------------------------------------+\n| clef étrangère de la table seconde) |\n+-------------------------------------+\n| nom                                 |\n+-------------------------------------+\n| prenom                              |\n+-------------------------------------+\n| datenaissance                       |\n+-------------------------------------+\n</pre></div>\n</li>\n</ol>\n<p>Là encore, l’attribut <code>num_eleve</code> est un entier, les autres sont des chaines de caractère (le type <code>CHAR</code>).</p>\n<ol type=\"1\">\n<li><p>Expliquer ce qu’apporte l’information <code>clef étrangère</code> pour l’attribut <code>num_eleve</code> de cette table en termes d’intégrité et de cohérence.</p></li>\n<li><p>On suppose la table <code>eleve</code> correctement créée et complétée. Le chef d’établissement aimerait lister les élèves (nom, prénom, date de naissance) de la classe <code>2A</code>.</p>\n<p>Écrire la commande qui permet d’établir cette liste à l’aide d’une jointure entre <code>eleve</code> et <code>seconde</code>.</p></li>\n<li><p>Proposer la structure d’une table <code>coordonnees</code> dans laquelle on pourra indiquer, pour chaque élève, son adresse, son code postal, sa ville, son adresse mail. Préciser la clef primaire et/ou la clé étrangère en vue de la mise en relation avec les autres tables.</p></li>\n</ol>","frontmatter":{"tocHTML":"<ul><li><a href=\"#tp-du-cnam-sur-les-requêtes-sql\" data-localhref=\"true\">TP du Cnam sur les requêtes <code>sql</code></a></li><li><a href=\"#enquête-en-ligne-et-en-anglais\" data-localhref=\"true\">Enquête en ligne (et en anglais)</a></li><li><a href=\"#mini-projet-application-web-avec-base-de-données-sqlite\" data-localhref=\"true\">Mini-projet: application web avec base de données <code>sqlite</code></a></li><li><a href=\"#exercice-type-bac\" data-localhref=\"true\">Exercice type BAC</a></li></ul>"},"fields":{"classe":"tg","chapter":"Langage SQL","matter":"nsi","nChapter":"3","part":"Bases de données","nPart":"2","type":"exo"}}},"pageContext":{"slug":"tg/nsi/2-bases-de-donnees/3-langage-sql/exo"}},"staticQueryHashes":["604483588"],"slicesMap":{}}