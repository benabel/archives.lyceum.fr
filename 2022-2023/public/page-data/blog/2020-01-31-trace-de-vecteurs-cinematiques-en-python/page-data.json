{"componentChunkName":"component---src-templates-blog-md-js","path":"/blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"exploration-des-possibilités-offertes-par-python\" class=\"anchored\">Exploration des possibilités offertes par Python</h2>\n<p>Dans cette partie nous allons tiliser deux bibliothèques particulièrement adaptées à notre travail:</p>\n<ul>\n<li><a href=\"https://pandas.pydata.org/\">pandas</a>: pour l’import de données sous format texte.</li>\n<li><a href=\"https://matplotlib.org/\">matplotlib</a>: pour le tracé des vecteurs.</li>\n</ul>\n<p>A priori ces bibliothèques sont directement installées avec la plupart des distributions python.</p>\n<h3 id=\"export-csv-depuis-logger-pro\" class=\"anchored\">Export csv depuis <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a></h3>\n<p>Une fois les pointages réalisés dans <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a>, on les exporte au format <code>csv</code> dans le même dossier que le script python.</p>\n<p>On obtient un fichier <code>csv</code> qui a cette forme(ici, il s’agit d’un pointage de lancer de ballon de basket avec rebond, je l’ai appelé <a href=\"/2022-2023/10a018227686415f3386520187a014b6/basket.csv\"><code>basket.csv</code></a>):</p>\n<div class=\"highlight\"><pre><span></span>\"Analyse Vidéo: Temps (s)\";\"Analyse Vidéo: X (m)\";\"Analyse Vidéo: Y (m)\";\"Analyse Vidéo: Vitesse X (m/s)\";\"Analyse Vidéo: Vitesse Y (m/s)\"\n0;0,0524329864114;2,06735774994;2,13773602824;1,97072540103\n0,013;0,0898851195624;2,09731945646;0,65546386032;1,3425328963\n0,046;0,0823946929322;2,12728116298;0,416469595422;1,36256531621\n0,079;0,104865972823;2,17971414939;0,821528854964;1,84956069973\n</pre></div>\n<p>Les valeurs sont séparées par des <code>;</code> et le séparateur décimal est <code>,</code>.</p>\n<p>On les importe dans python grâce à la libraire Python <code>pandas</code> avec la fonction <code>read_csv()</code>, et on simplifie les noms de colonne pour y accéder simplement avec la notation pointée.</p>\n<ul>\n<li><code>data.x</code> pour les abscisses.</li>\n<li><code>data.vitesse_x</code> pour la composant horizontale de la vitesse.</li>\n</ul>\n<p>Nous allons maintenant les importer dans Python grâce à la bibliothèque pandas.</p>\n<h3 id=\"import-des-données-avec-pandas\" class=\"anchored\">Import des données avec <code>pandas</code></h3>\n<div class=\"cell\" data-execution_count=\"1\">\n<div class=\"highlight\"><pre><span></span><span class=\"o\">%</span><span class=\"n\">matplotlib</span> <span class=\"n\">inline</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"k\">as</span> <span class=\"nn\">pd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">matplotlib.pyplot</span> <span class=\"k\">as</span> <span class=\"nn\">plt</span>\n<span class=\"c1\">## Format A4 pour les graphs(en pouces)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">rcParams</span><span class=\"p\">[</span><span class=\"s2\">\"figure.figsize\"</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">11.7</span><span class=\"p\">,</span> <span class=\"mf\">8.3</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"cell\" data-execution_count=\"2\">\n<div class=\"highlight\"><pre><span></span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"s2\">\"basket.csv\"</span><span class=\"p\">,</span> <span class=\"n\">sep</span><span class=\"o\">=</span><span class=\"s2\">\";\"</span><span class=\"p\">,</span> <span class=\"n\">decimal</span><span class=\"o\">=</span><span class=\"s2\">\",\"</span><span class=\"p\">)</span>\n<span class=\"c1\">## On renomme les colonnes sans le Analyse Vidéo ni l'unité</span>\n<span class=\"k\">def</span> <span class=\"nf\">rename_cols</span><span class=\"p\">(</span><span class=\"n\">col</span><span class=\"p\">):</span>\n<span class=\"w\">    </span><span class=\"sd\">\"\"\"Renomme les colonnes pour garder que le symbole\"\"\"</span>\n<span class=\"n\">    col</span> <span class=\"o\">=</span> <span class=\"n\">col</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s2\">\":\"</span><span class=\"p\">)[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span>\n<span class=\"n\">    col</span> <span class=\"o\">=</span> <span class=\"n\">col</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s2\">\"(\"</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n<span class=\"n\">    col</span> <span class=\"o\">=</span> <span class=\"n\">col</span><span class=\"o\">.</span><span class=\"n\">replace</span><span class=\"p\">(</span><span class=\"s2\">\" \"</span><span class=\"p\">,</span> <span class=\"s2\">\"_\"</span><span class=\"p\">)</span>\n<span class=\"n\">    col</span> <span class=\"o\">=</span> <span class=\"n\">col</span><span class=\"o\">.</span><span class=\"n\">strip</span><span class=\"p\">(</span><span class=\"s2\">\"_\"</span><span class=\"p\">)</span>\n<span class=\"k\">    return</span> <span class=\"n\">col</span>\n<span class=\"c1\">##data.head()    </span>\n<span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">rename</span><span class=\"p\">(</span><span class=\"n\">rename_cols</span><span class=\"p\">,</span> <span class=\"n\">axis</span><span class=\"o\">=</span><span class=\"s1\">'columns'</span><span class=\"p\">)</span>\n<span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">()</span>\n</pre></div>\n<div class=\"cell-output cell-output-display\" data-execution_count=\"2\">\n<div>\n<style scoped=\"\">\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<pre><code>.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}\n</code></pre>\n</style>\n<table class=\"table table-bordered table-hover table-sm table-striped\" data-border=\"1\">\n<thead class=\"table-warning\">\n<tr class=\"header\" style=\"text-align: right;\">\n<th></th>\n<th>temps</th>\n<th>x</th>\n<th>y</th>\n<th>vitesse_x</th>\n<th>vitesse_y</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<th>0</th>\n<td>0.000</td>\n<td>0.052433</td>\n<td>2.067358</td>\n<td>2.137736</td>\n<td>1.970725</td>\n</tr>\n<tr class=\"even\">\n<th>1</th>\n<td>0.013</td>\n<td>0.089885</td>\n<td>2.097319</td>\n<td>0.655464</td>\n<td>1.342533</td>\n</tr>\n<tr class=\"odd\">\n<th>2</th>\n<td>0.046</td>\n<td>0.082395</td>\n<td>2.127281</td>\n<td>0.416470</td>\n<td>1.362565</td>\n</tr>\n<tr class=\"even\">\n<th>3</th>\n<td>0.079</td>\n<td>0.104866</td>\n<td>2.179714</td>\n<td>0.821529</td>\n<td>1.849561</td>\n</tr>\n<tr class=\"odd\">\n<th>4</th>\n<td>0.113</td>\n<td>0.142318</td>\n<td>2.247128</td>\n<td>1.233414</td>\n<td>2.783728</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n<h3 id=\"tracé-des-vecteurs-avec-matplotlib\" class=\"anchored\">Tracé des vecteurs avec <code>matplotlib</code></h3>\n<p>Les positions sont tracées avec <code>plt.scatter</code>, les vecteurs avec <code>plt.quiver</code>. Les arguments utilisés peuvent être changés, notamment pour les échelles qui ne sont pas évidentes à régler.</p>\n<p>Voici les liens vers la doc.</p>\n<ul>\n<li>https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.scatter.html</li>\n<li>https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.quiver.html?highlight=quiver#matplotlib.pyplot.quiver</li>\n</ul>\n<div class=\"cell\" data-execution_count=\"3\">\n<div class=\"highlight\"><pre><span></span><span class=\"c1\">## Positions en vert</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">scatter</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">'green'</span><span class=\"p\">,</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span></span>\n<span class=\"c1\">## vecteurs vitesse en bleu</span>\n<span class=\"c1\">## TODO travailler sur l'échelle</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">quiver</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span>\n<span class=\"n\">           data</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span>\n<span class=\"n\">           data</span><span class=\"o\">.</span><span class=\"n\">vitesse_x</span><span class=\"p\">,</span>\n<span class=\"n\">           data</span><span class=\"o\">.</span><span class=\"n\">vitesse_y</span><span class=\"p\">,</span>\n<span class=\"n\">           color</span><span class=\"o\">=</span><span class=\"s2\">\"blue\"</span><span class=\"p\">,</span>\n<span class=\"n\">           scale_units</span><span class=\"o\">=</span><span class=\"s2\">\"xy\"</span><span class=\"p\">,</span>\n<span class=\"n\">           scale</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span>\n<span class=\"n\">           alpha</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">,</span>\n<span class=\"n\">           label</span><span class=\"o\">=</span><span class=\"s2\">\"$</span><span class=\"se\">\\\\</span><span class=\"s2\">vec</span><span class=\"si\">{v}</span><span class=\"s2\">$\"</span><span class=\"p\">)</span>\n<span></span>\n<span class=\"c1\">## vecteurs accélération en rouge</span>\n<span class=\"c1\">## TODO travailler sur l'échelle</span>\n<span class=\"n\">diff</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">diff</span><span class=\"p\">()</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">quiver</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span>\n<span class=\"n\">           data</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span>\n<span class=\"n\">           diff</span><span class=\"o\">.</span><span class=\"n\">vitesse_x</span><span class=\"p\">,</span>\n<span class=\"n\">           diff</span><span class=\"o\">.</span><span class=\"n\">vitesse_y</span><span class=\"p\">,</span>\n<span class=\"n\">           color</span><span class=\"o\">=</span><span class=\"s2\">\"red\"</span><span class=\"p\">,</span>\n<span class=\"n\">           scale_units</span><span class=\"o\">=</span><span class=\"s2\">\"xy\"</span><span class=\"p\">,</span>\n<span class=\"n\">           scale</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n<span class=\"n\">           alpha</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">,</span>\n<span class=\"n\">           label</span><span class=\"o\">=</span><span class=\"s2\">\"$</span><span class=\"se\">\\\\</span><span class=\"s2\">vec{\\Delta v}$\"</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">legend</span><span class=\"p\">()</span>\n</pre></div>\n<div class=\"cell-output cell-output-display\" data-execution_count=\"3\">\n<div class=\"highlight\"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7f37f8471a50&gt;\n</pre></div>\n<div class=\"cell-output cell-output-display\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAB2HAAAdhwGP5fFlAAACHklEQVR42pWU604TQRSA91H1GXwBg0HUeEt/qKhEJELUEIXADzRBpSoYLkpRaGlrsbC0BcpKt3ufnfnMzALRhAR7kpOZOWfyncvsWStJEowKgVIJuw3J0+GY5w9ajN5vMDPV4d2coF5PgYQ4SRFJgtjbQzgOQkqEEOzbLodtB8vzPNJUoiUMFU9ut5m8uc7R+2X4WeUwv8ab68vk7sTsNPQthdLLwUGmxyJdD8/tYgVBgDwGLo1vURj8CG4LtWtDu41Cwm6ZwusSuWsuO3YGULYNzSZ/SxzHWL7nm0O7cshG/0v4umAyUEKAUiip0MXqIAu5eUbGINbxt+vwqw5S/gsMfB8BbD6ao5UvkUrOFFOF8Jm4W+HLItB1UKWyaUGnA1tbINIYSypBc71JYaqW9UapM4GZNaE1X+TZY5/ftocqrBnrwyEYuGVyxArcDkebNeIo5TxRJn3F7HCdD9NdKH0HUu71Nbl64RteLE8e5XyYAcosz/ZqnaFch7RUIdx3We1/RfHiFQpL3d6AppeGGTH9osPKeAWqVeyZVYKVH+THqli+7yOl/G9g1mLF9rLNSF+FOP8ZZ7FsfPOfAqwoinoC6tcxTOExeWOD0uVRpOMYl70TZZPSE/A0S8nG2xqzlyZwDvRInnyHuoc9Ak8lDBkcaLB9PD1RFGOFYYjuoy5d/yR0AL3X0fSqz3qv9cSn7/l+QCpjikVBq6ltme8PvUcoJvaLM68AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cell 4 output 2\" title=\"\" src=\"/2022-2023/static/0d7ba9414e3c2d22cd1386734b66f082/fcda8/cell-4-output-2.png\" srcset=\"/2022-2023/static/0d7ba9414e3c2d22cd1386734b66f082/12f09/cell-4-output-2.png 148w,\n/2022-2023/static/0d7ba9414e3c2d22cd1386734b66f082/e4a3f/cell-4-output-2.png 295w,\n/2022-2023/static/0d7ba9414e3c2d22cd1386734b66f082/fcda8/cell-4-output-2.png 590w,\n/2022-2023/static/0d7ba9414e3c2d22cd1386734b66f082/efc66/cell-4-output-2.png 885w,\n/2022-2023/static/0d7ba9414e3c2d22cd1386734b66f082/c83ae/cell-4-output-2.png 1180w,\n/2022-2023/static/0d7ba9414e3c2d22cd1386734b66f082/161ec/cell-4-output-2.png 1840w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n</div>\n\n<h3 id=\"améliorations-possibles\" class=\"anchored\">Améliorations possibles</h3>\n<p>On peut utiliser une moyenne mobile sur les mesures pour avoir moins de points et améliorer la précison.</p>\n<div class=\"cell\" data-execution_count=\"4\">\n<div class=\"highlight\"><pre><span></span><span class=\"n\">data2</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">rolling</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">center</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">mean</span><span class=\"p\">()</span>\n<span class=\"n\">data2</span>\n</pre></div></div>\n<div class=\"cell-output cell-output-display\" data-execution_count=\"4\">\n<div>\n<style scoped=\"\">\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<pre><code>.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}\n</code></pre>\n</style>\n<table class=\"table table-bordered table-hover table-sm table-striped\" data-border=\"1\">\n<thead class=\"table-warning\">\n<tr class=\"header\" style=\"text-align: right;\">\n<th></th>\n<th>temps</th>\n<th>x</th>\n<th>y</th>\n<th>vitesse_x</th>\n<th>vitesse_y</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<th>0</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"even\">\n<th>1</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"odd\">\n<th>2</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"even\">\n<th>3</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"odd\">\n<th>4</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"even\">\n<th>...</th>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n<tr class=\"odd\">\n<th>69</th>\n<td>2.2649</td>\n<td>5.106973</td>\n<td>1.858375</td>\n<td>0.876044</td>\n<td>-1.294343</td>\n</tr>\n<tr class=\"even\">\n<th>70</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"odd\">\n<th>71</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"even\">\n<th>72</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n<tr class=\"odd\">\n<th>73</th>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n<td>NaN</td>\n</tr>\n</tbody>\n</table>\n<p>74 rows × 5 columns</p>\n</div>\n</div>\n</div>\n<div class=\"cell\" data-execution_count=\"5\">\n<div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">trace_vecteurs</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">):</span>\n<span class=\"c1\">    # Positions en vert</span>\n<span class=\"n\">    plt</span><span class=\"o\">.</span><span class=\"n\">scatter</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">'green'</span><span class=\"p\">,</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span></span>\n<span class=\"c1\">    # vecteurs vitesse en bleu</span>\n<span class=\"c1\">    # TODO travailler sur l'échelle</span>\n<span class=\"n\">    plt</span><span class=\"o\">.</span><span class=\"n\">quiver</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span>\n<span class=\"n\">               data</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span>\n<span class=\"n\">               data</span><span class=\"o\">.</span><span class=\"n\">vitesse_x</span><span class=\"p\">,</span>\n<span class=\"n\">               data</span><span class=\"o\">.</span><span class=\"n\">vitesse_y</span><span class=\"p\">,</span>\n<span class=\"n\">               color</span><span class=\"o\">=</span><span class=\"s2\">\"blue\"</span><span class=\"p\">,</span>\n<span class=\"n\">               scale_units</span><span class=\"o\">=</span><span class=\"s2\">\"xy\"</span><span class=\"p\">,</span>\n<span class=\"n\">               scale</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span>\n<span class=\"n\">               alpha</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">,</span>\n<span class=\"n\">               label</span><span class=\"o\">=</span><span class=\"s2\">\"$</span><span class=\"se\">\\\\</span><span class=\"s2\">vec</span><span class=\"si\">{v}</span><span class=\"s2\">$\"</span><span class=\"p\">)</span>\n<span></span>\n<span class=\"c1\">    # vecteurs accélération en rouge</span>\n<span class=\"c1\">    # TODO travailler sur l'échelle</span>\n<span class=\"n\">    diff</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">diff</span><span class=\"p\">()</span>\n<span class=\"n\">    plt</span><span class=\"o\">.</span><span class=\"n\">quiver</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">x</span><span class=\"p\">,</span>\n<span class=\"n\">               data</span><span class=\"o\">.</span><span class=\"n\">y</span><span class=\"p\">,</span>\n<span class=\"n\">               diff</span><span class=\"o\">.</span><span class=\"n\">vitesse_x</span><span class=\"p\">,</span>\n<span class=\"n\">               diff</span><span class=\"o\">.</span><span class=\"n\">vitesse_y</span><span class=\"p\">,</span>\n<span class=\"n\">               color</span><span class=\"o\">=</span><span class=\"s2\">\"red\"</span><span class=\"p\">,</span>\n<span class=\"n\">               scale_units</span><span class=\"o\">=</span><span class=\"s2\">\"xy\"</span><span class=\"p\">,</span>\n<span class=\"n\">               scale</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n<span class=\"n\">               alpha</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">,</span>\n<span class=\"n\">               label</span><span class=\"o\">=</span> <span class=\"s2\">\"$</span><span class=\"se\">\\\\</span><span class=\"s2\">vec{\\Delta v}$\"</span><span class=\"p\">)</span>\n<span class=\"n\">    plt</span><span class=\"o\">.</span><span class=\"n\">legend</span><span class=\"p\">()</span>\n<span class=\"n\">trace_vecteurs</span><span class=\"p\">(</span><span class=\"n\">data2</span><span class=\"p\">)</span>\n</pre></div>\n<div class=\"cell-output cell-output-display\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAB7ElEQVR42pWUXWvTUBiA8//8BV5464Ve9UL/giDDzQ9EquKwgTG9kJUpKpOxtrZThyvbummRiW2nbWYTTU6+T/JITtpZ3Yb2hXPIefPmyXOSl6NFUUQ+YiDi20Ayez3mzuyQhWKfh/OC8lPJxw8xUsbE8cnD6NkMv5toQgikTMjCDeHaFcHKXJNotQr1Bka5ytLtfUoL0OupMtKUY5HYAmE7aGEYHgFfPLFp3n0NRps0y8USPAe23/P8VktBLet0aMbShCPUYrDv0i7VwDfJ8enRrK7aLR7d6FB+BjI+DsuKFDCbwlDSWWkhTXPkP/H6NB3ZSKzGFsW5n7T2csLflgroBz4/hgLPFKfvhTS3jmzWSzuU9BTP/bO8VgXTDNGCIEAmCRO7PDlGT0a9LvdnBjR31FZULgjgYgF2d0M013VJxsB/RF7l83bpC/rNIcnQUp/i8DClcKZJveLkhv8LHFv6fRP90gYHV3X4tM3nN316ZwtsVMzpDH8zE+r3Nlk7r0PtFd3FCta7NiJMpzSc+AmW4bF8YRln/jFd/SXGQUgs4+kNFXTUVqvFPbYuP6Bd3sQSEEfB9IaTlsbXiJlz6zTWbIQHUdaHjuPg+746IDK453nkzR6qfJYbryfvBX5AGPjUGpJON0IIT9X/AguXKhN4hJXeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cell 6 output 1\" title=\"\" src=\"/2022-2023/static/bf0f0ea70f6817cb30224d3475ddc1fd/fcda8/cell-6-output-1.png\" srcset=\"/2022-2023/static/bf0f0ea70f6817cb30224d3475ddc1fd/12f09/cell-6-output-1.png 148w,\n/2022-2023/static/bf0f0ea70f6817cb30224d3475ddc1fd/e4a3f/cell-6-output-1.png 295w,\n/2022-2023/static/bf0f0ea70f6817cb30224d3475ddc1fd/fcda8/cell-6-output-1.png 590w,\n/2022-2023/static/bf0f0ea70f6817cb30224d3475ddc1fd/efc66/cell-6-output-1.png 885w,\n/2022-2023/static/bf0f0ea70f6817cb30224d3475ddc1fd/c83ae/cell-6-output-1.png 1180w,\n/2022-2023/static/bf0f0ea70f6817cb30224d3475ddc1fd/161ec/cell-6-output-1.png 1840w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n</div>\n\n<div class=\"cell\" data-execution_count=\"6\">\n<div class=\"highlight\"><pre><span></span><span class=\"c1\">## sous échantillonage</span>\n<span class=\"n\">N</span> <span class=\"o\">=</span> <span class=\"mi\">3</span>\n<span class=\"n\">data3</span> <span class=\"o\">=</span> <span class=\"n\">data2</span><span class=\"o\">.</span><span class=\"n\">loc</span><span class=\"p\">[[</span><span class=\"n\">i</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">data2</span><span class=\"o\">.</span><span class=\"n\">index</span> <span class=\"k\">if</span> <span class=\"n\">i</span> <span class=\"o\">%</span> <span class=\"n\">N</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">]]</span>\n<span class=\"n\">trace_vecteurs</span><span class=\"p\">(</span><span class=\"n\">data3</span><span class=\"p\">)</span>\n</pre></div></div>\n<div class=\"cell-output cell-output-display\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAB+ElEQVR42pWS6XLTMBCA8/5PwfAAvEAZKAN0ytEWaKc5nCax68aJrziyfEiy9TFyWqb9A2RnNL5W335e7UhrzbCMwVqNEIaL7y3XVxXjmwpv1hDcd+xyg+01ureYJMF4HkYpTNdhjCEOBVmaM5JS0nU9LtIczj4pommGzXJsKRF+yvy2IghBlnbIY72GuzuoKp6iFxIpSkZKKWzf41Ivzip2Fx6k0QCkaSBNsWmCdy25Dxny2O9hsYAsO9DsoZBjDYYubb1sSW8fYHqNTVLYbAYDGycHaJ4zmyh8H2zXwWQCcczzGIBat8iqI9nqQzG3Y7mEsjwYxjHWwbOEMtwxX4KqDKyWEEVgzEtgXVfIWmO6x7euete9qIzWWPe/ZUG4qBnfdKhwC7MpuHZZWK1ASsWobVv6vuef4VqT57RxwWzaox4SWMyhrtAdvH3nWqoYVVX1f0BnKQTUgtATeJcF1h1MkbET8ObVlnu/OsLw8STJUtpgw69Lhfg2gWiF7zXMX39ksyqOMHziKgX7nNCTbH8E4M8ITmfIk8/IZHeE4XPLPEEst/w8WaPHHtH5HH1yik7i4w3/TEKW4H0ICL8EiPEKvp6jNpsjDZ9EB6gijVrO3xekVwvktkT3xs1hjYO6oXRX9+zu3frbt6ZtaRqFHyjEvqUoXG7Db/SdOPS+yzGFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cell 7 output 1\" title=\"\" src=\"/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/fcda8/cell-7-output-1.png\" srcset=\"/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/12f09/cell-7-output-1.png 148w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/e4a3f/cell-7-output-1.png 295w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/fcda8/cell-7-output-1.png 590w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/efc66/cell-7-output-1.png 885w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/c83ae/cell-7-output-1.png 1180w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/161ec/cell-7-output-1.png 1840w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n</div>\n\n<h2 id=\"création-dun-module-trace_cinematique\" class=\"anchored\">Création d’un module <code>trace_cinematique</code></h2>\n<p>Compte tenu de la complexité du code et des paramètres des tracés, j’ai créé un module <code>trace_cinematique</code> qui contient une fonction <code>trace_vecteurs</code> que les élèves peuvent importer simplement et utiliser en travaillant sur les paramètres proposés de la fonction.</p>\n<p>Le module <code>trace_cinematique</code> est disponible dans un dépôt sur <a href=\"https://framagit.org/benabel/trace_cinematique/\">framagit</a>.</p>\n<p>Vous pouvez le télécharger à cette adresse: <a href=\"https://framagit.org/benabel/trace_cinematique/-/archive/master/trace_cinematique-master.zip\" class=\"uri\">https://framagit.org/benabel/trace_cinematique/-/archive/master/trace_cinematique-master.zip</a></p>\n<p>N’hésitez pas à faire part de vos remarques en ouvrant un <a href=\"https://framagit.org/benabel/trace_cinematique/issues\">ticket</a>.</p>\n<h3 id=\"mode-demploi\" class=\"anchored\">Mode d’emploi</h3>\n<p>Après avoir fait les pointages, les élèves exportent leurs pointages au format <code>csv</code> à partir de <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a> dans le même dossier que le fichier <code>trace_cinematique</code> .</p>\n<p>Ensuite dans un fichier nommé par exemple <code>fichier_eleve.py</code> placé toujours dans le même dossier, les élèves importent la fonction <code>trace_vecteurs</code> et donnent le nom du fichier csv en argument:</p>\n<div class=\"cell\" data-execution_count=\"7\">\n<div class=\"highlight\"><pre><span></span><span class=\"c1\">## import de la fonction de tracé</span>\n<span class=\"kn\">from</span> <span class=\"nn\">trace_cinematique</span> <span class=\"kn\">import</span> <span class=\"n\">trace_vecteurs</span>\n<span></span>\n<span class=\"c1\">## appel de la fonction pour le tracé des vecteurs cinematiques</span>\n<span class=\"n\">trace_vecteurs</span><span class=\"p\">(</span><span class=\"s2\">\"basket.csv\"</span><span class=\"p\">)</span>\n</pre></div></div>\n<div class=\"cell-output cell-output-display\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAB2HAAAdhwGP5fFlAAACNElEQVR42pWU22vTUBzH89f56D/gk2+CKAjimyAi7MGJCht42Vx3IUMGxd28doi7duBc7WXtGujWtGuzbku3Nk1ycvtImm1OHGi/5IST3wmf8zk5h0iO4xA1F3DI5jwePnJ5/fyIyZcaoyMGnxc8trZcymWXWs2lWo1a2Nc0l0bD5bDWYrugIxmGgef5hDEF9D0wSDxN4XxdIlhdozGzxLvBElNxyGZAUUBV4eAADg+h2YTjY2jVDeZn20hCiHNgYrpFZngFGkWCsOZ6YLYh84OPAznexqFQgL09qNVA10+BJ7CtwEhMIBltowvbL3Uoji+DpRPhg/N7t7edY2pAZe4DFPJQLkO9HpmaJqyswOSkiAyF8FATObxwyjB+BIuIQXgBHvpqmjeDJ6xvQLEYdJderYJlgSxDLDS0bIvjIwNTN84BfyeIrJ0WyfEsshyQz8NOKQKG3/BJP4yNCSTbtvF8nwurvDynE4lKhdizfZaSoaXPXg3UCty+C7OzAqnT6eCfAf+R6C2L9eky8uARSqrJ7o5HNutz60qK9zNGZPi/wDNLU9OR732ncH8CbSFDck5DuXqHT3G9N8PfTJ/k8CaJ6xPU5QXSrxbJxhUqWtCj4YU9azZM5m/OofRNsdH/hfSmYEd1ezfsQk+P1behPGs3Yiy+SJHeAnXX7t3wouVB3eHxtSSjQy02f0KpJJDa7TaWZXV/ECHcNE2iwy669bB29vznmI2wLZbXwl12qFZNNM3iF1fPGRIlLIe/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cell 8 output 1\" title=\"\" src=\"/2022-2023/static/597d12667eb7bf07805489f2ab81de54/fcda8/cell-8-output-1.png\" srcset=\"/2022-2023/static/597d12667eb7bf07805489f2ab81de54/12f09/cell-8-output-1.png 148w,\n/2022-2023/static/597d12667eb7bf07805489f2ab81de54/e4a3f/cell-8-output-1.png 295w,\n/2022-2023/static/597d12667eb7bf07805489f2ab81de54/fcda8/cell-8-output-1.png 590w,\n/2022-2023/static/597d12667eb7bf07805489f2ab81de54/efc66/cell-8-output-1.png 885w,\n/2022-2023/static/597d12667eb7bf07805489f2ab81de54/c83ae/cell-8-output-1.png 1180w,\n/2022-2023/static/597d12667eb7bf07805489f2ab81de54/161ec/cell-8-output-1.png 1840w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n</div>\n\n<h3 id=\"travail-sur-les-paramètres-du-tracé\" class=\"anchored\">Travail sur les paramètres du tracé</h3>\n<p>une documentation de la fonction est disponible grâce à la fonction générique <code>help()</code>.</p>\n<div class=\"cell\" data-execution_count=\"8\">\n<div class=\"highlight\"><pre><span></span><span class=\"n\">help</span><span class=\"p\">(</span><span class=\"n\">trace_vecteurs</span><span class=\"p\">)</span>\n</pre></div></div>\n<div class=\"cell-output cell-output-stdout\">\n<div class=\"highlight\"><pre><span></span>Help on function trace_vecteurs in module trace_cinematique:\n<span></span>\ntrace_vecteurs(csv_file, echelle_v=1, echelle_dv=1, n_lissage=10, n_select=1)\n    Tracé de vecteurs vitesses et variations de vecteurs vitesse\n<pre><code>Arguments\n---------\ncsv_file\n    chemin vers le fichier csv des pointages\nechelle_v\n    echelle de tracé des vecteurs vitesse: par défaut 1\nechelle_dv\n    echelle de tracé des vecteurs variation de vecteurs vitesses: par défaut 1\nn_lissage\n    nombre de points de lissage par défaut 10\nn_select\n    fraction des points ou les vecteurs sont tracés\n    p.ex: pour n_s=3, 1 vecteur sur 3 st tracé\n</code></pre>\n<p></pre></div></p>\n</div>\n</div>\n<p>Ensuite en jouant sur les paramètres envoyés à la fonction(échelles , fractions de vecteurs tracés…)</p>\n<p>On peut obtenir un tracé comme celui-ci:</p>\n<div class=\"cell\" data-execution_count=\"9\">\n<div class=\"highlight\"><pre><span></span><span class=\"n\">trace_vecteurs</span><span class=\"p\">(</span><span class=\"s2\">\"basket.csv\"</span><span class=\"p\">,</span>\n<span class=\"n\">               echelle_v</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span>\n<span class=\"n\">               echelle_dv</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span>\n<span class=\"n\">               n_lissage</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span>\n<span class=\"n\">               n_select</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n</pre></div>\n<div class=\"cell-output cell-output-display\">\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 70.94594594594594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAB2HAAAdhwGP5fFlAAAB+ElEQVR42pWS6XLTMBCA8/5PwfAAvEAZKAN0ytEWaKc5nCax68aJrziyfEiy9TFyWqb9A2RnNL5W335e7UhrzbCMwVqNEIaL7y3XVxXjmwpv1hDcd+xyg+01ureYJMF4HkYpTNdhjCEOBVmaM5JS0nU9LtIczj4pommGzXJsKRF+yvy2IghBlnbIY72GuzuoKp6iFxIpSkZKKWzf41Ivzip2Fx6k0QCkaSBNsWmCdy25Dxny2O9hsYAsO9DsoZBjDYYubb1sSW8fYHqNTVLYbAYDGycHaJ4zmyh8H2zXwWQCcczzGIBat8iqI9nqQzG3Y7mEsjwYxjHWwbOEMtwxX4KqDKyWEEVgzEtgXVfIWmO6x7euete9qIzWWPe/ZUG4qBnfdKhwC7MpuHZZWK1ASsWobVv6vuef4VqT57RxwWzaox4SWMyhrtAdvH3nWqoYVVX1f0BnKQTUgtATeJcF1h1MkbET8ObVlnu/OsLw8STJUtpgw69Lhfg2gWiF7zXMX39ksyqOMHziKgX7nNCTbH8E4M8ITmfIk8/IZHeE4XPLPEEst/w8WaPHHtH5HH1yik7i4w3/TEKW4H0ICL8EiPEKvp6jNpsjDZ9EB6gijVrO3xekVwvktkT3xs1hjYO6oXRX9+zu3frbt6ZtaRqFHyjEvqUoXG7Db/SdOPS+yzGFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cell 10 output 1\" title=\"\" src=\"/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/fcda8/cell-10-output-1.png\" srcset=\"/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/12f09/cell-10-output-1.png 148w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/e4a3f/cell-10-output-1.png 295w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/fcda8/cell-10-output-1.png 590w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/efc66/cell-10-output-1.png 885w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/c83ae/cell-10-output-1.png 1180w,\n/2022-2023/static/60e80b56dc6c2e98fec7ea632a167832/161ec/cell-10-output-1.png 1840w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span></p>\n</div>\n\n<h3 id=\"licence-et-droits-dutilisation\" class=\"anchored\">Licence et droits d’utilisation</h3>\n<p>Le code mis à disposition dans le module <code>trace_cinematique</code> est sous licence <a href=\"https://fr.wikipedia.org/wiki/Licence_ISC\">ISC</a>, une licence libre qui permet de l’utiliser et le modifier comme bon vous semble.</p>\n<p>Le logiciel <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a> est un logiciel sous droits d’auteurs, je n’ai aucun rapport avec l’entreprise qui le développe, vous pouvez certainement adapter le code au logiciel que vous utilisez dans votre établissement.</p>","timeToRead":5,"fields":{"slug":"blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/"},"frontmatter":{"author":"Benjamin Abel","tags":["physique","mécanique","cinématique","vecteur","vitesse","variation"],"title":"Tracé de vecteurs vitesse et variations de vitesse en Python","date":"2020-01-31T00:00:00.000Z","tocHTML":"<ul><li><a href=\"#exploration-des-possibilités-offertes-par-python\" data-localhref=\"true\">Exploration des possibilités offertes par Python</a></li><ul><li><a href=\"#export-csv-depuis-logger-pro\" data-localhref=\"true\">Export csv depuis <a href=\"https://www.vernier.com/product/logger-pro-3/\">Logger Pro©</a></a></li><li><a href=\"#import-des-données-avec-pandas\" data-localhref=\"true\">Import des données avec <code>pandas</code></a></li><li><a href=\"#tracé-des-vecteurs-avec-matplotlib\" data-localhref=\"true\">Tracé des vecteurs avec <code>matplotlib</code></a></li><li><a href=\"#améliorations-possibles\" data-localhref=\"true\">Améliorations possibles</a></li></ul><li><a href=\"#création-dun-module-trace_cinematique\" data-localhref=\"true\">Création d’un module <code>trace_cinematique</code></a></li><ul><li><a href=\"#mode-demploi\" data-localhref=\"true\">Mode d’emploi</a></li><li><a href=\"#travail-sur-les-paramètres-du-tracé\" data-localhref=\"true\">Travail sur les paramètres du tracé</a></li><li><a href=\"#licence-et-droits-dutilisation\" data-localhref=\"true\">Licence et droits d’utilisation</a></li></ul></ul>"}}},"pageContext":{"slug":"blog/2020-01-31-trace-de-vecteurs-cinematiques-en-python/"}},"staticQueryHashes":["604483588"],"slicesMap":{}}