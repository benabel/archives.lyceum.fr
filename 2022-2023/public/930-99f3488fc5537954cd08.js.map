{"version":3,"file":"930-99f3488fc5537954cd08.js","mappings":"6KAAA,IAAIA,EAAEC,SAASC,cAAc,YAAYF,EAAEG,UAAU,i7BA+CnD,IAAIC,EAAE,cAAcC,YAAYC,cAAcC,QAAQC,KAAKC,aAAa,CAACC,KAAK,SAASF,KAAKG,QAAQ,EAAE,CAAYC,gCAAqB,MAAM,CAAC,QAAQ,UAAU,CAACC,yBAAyBC,EAAEC,EAAEC,GAAGD,IAAIC,IAAIR,KAAKM,GAAGE,EAAE,CAAKC,YAAQ,OAAOT,KAAKU,aAAa,QAAQ,CAAKD,UAAMH,GAAGN,KAAKW,aAAa,QAAQL,EAAE,CAAKH,cAAU,OAAOH,KAAKU,aAAa,UAAU,CAAKP,YAAQG,GAAGN,KAAKW,aAAa,UAAUL,EAAE,CAACM,gBAAgBN,GAAG,IAAIC,EAAE,SAASD,IAAIE,EAAE,0CAA0CK,EAAE,CAACC,OAAO,QAAQC,OAAO,OAAOC,KAAK,YAAYC,OAAO,cAAcC,OAAOX,GAAGC,GAAI,YAAYW,OAAOC,KAAKP,GAAGQ,SAAQ,SAASC,GAAGd,GAAG,IAAIc,EAAE,IAAIT,EAAES,EAAE,IAAG,IAAIC,QAAQC,MAAMhB,GAAGiB,MAAK,SAASH,GAAG,OAAOA,EAAEI,MAAM,IAAGD,MAAK,SAASH,GAAG,IAAIK,EAAEL,EAAEM,MAAMC,MAA0B,OAAOF,EAAzBR,OAAOC,KAAKO,GAAG,IAAeG,UAAU,GAAGC,WAAW,IAAGC,OAAM,SAASV,GAAGW,QAAQC,MAAMZ,EAAE,IAAGa,QAAQX,MAAM,kDAAkDjB,KAAKkB,MAAK,SAASH,GAAG,OAAOA,EAAEI,MAAM,IAAGD,MAAK,SAASH,GAAG,OAAOA,CAAC,IAAGU,OAAM,SAASV,GAAGW,QAAQC,MAAMZ,EAAE,IAAG,OAAOH,OAAOiB,OAAOb,EAAEY,EAAE,CAACvB,0BAA0BZ,KAAKqC,MAAMC,QAAQ,QAAQ,IAAIhC,QAAQN,KAAKuC,UAAUvC,KAAKS,OAAOF,EAAEf,EAAEgD,QAAQhC,EAAED,EAAEkC,cAAc,OAAOnC,EAAEoC,SAASC,IAAIC,SAAS,QAAQpC,EAAEqC,IAAIvC,EAAEoC,SAASC,IAAInC,EAAEqC,IAAIvC,EAAEwC,UAAUH,IAAI3C,KAAKG,QAAQK,EAAEuC,IAAI/C,KAAKG,QAAQG,EAAE0C,iBAAiBxC,EAAEuC,IAAIzC,EAAE0C,iBAAiBC,MAAM3C,EAAE4C,WAAW1C,EAAEuC,IAAIzC,EAAE4C,WAAWD,MAAMzC,EAAEuC,IAAI,yCAAyCxC,EAAEkC,cAAc,sBAAsBU,KAAK7C,EAAE8C,qBAAqB,IAAIvC,EAAEN,EAAEkC,cAAc,YAAYnC,EAAE+C,YAAY/C,EAAE+C,WAAWJ,MAAMpC,EAAEsC,KAAK7C,EAAE+C,WAAWJ,MAAM3C,EAAEgD,SAA2B,OAAlBhD,EAAEgD,QAAQL,QAAepC,EAAEsC,KAAK,qFAAqFtC,EAAElB,UAAUW,EAAEiD,iBAAiBN,MAAM,IAAI1B,EAAEhB,EAAEkC,cAAc,WAAyC,SAA9BnC,EAAEkD,oBAAoBP,OAAgB1B,EAAE5B,UAAU,eAAeW,EAAEmD,aAAanD,EAAEmD,YAAYR,QAAQ1B,EAAE5B,WAAWW,EAAEmD,YAAYR,QAAQ1B,EAAE5B,UAAU,GAAG,IAAIwC,EAAE5B,EAAEkC,cAAc,YAAYzC,KAAKG,QAAQgC,EAAExC,UAAUK,KAAKG,QAAQgC,EAAExC,UAAU,GAAGK,KAAK0D,WAAWC,YAAYpD,EAAEqD,WAAU,GAAI,GAAGC,eAAeC,OAAO,cAAclE,E","sources":["webpack://gatsby-lyceum-site/./node_modules/wc-wikimage/index.js"],"sourcesContent":["var s=document.createElement(\"template\");s.innerHTML=`\n<style>\n  figure {\n    border: thin #c0c0c0 solid;\n    border-radius: 0.7em;\n  }\n\n  img {\n    border-radius: 0.7em 0.7em 0 0;\n    display: block;\n    width: 100%;\n  }\n\n  a {\n    color: var(--wc-color-anchor, #5f7974);\n    text-decoration: none;\n  }\n\n  a:hover {\n    color: var(--wc-color-anchor-hover, #89acc7);\n    text-decoration: underline;\n  }\n\n  #caption {\n    background-color: #222;\n    color: #fff;\n    font: italic smaller sans-serif;\n    text-align: center;\n  }\n  \n  #credit {\n    background-color: rgba(255, 255, 255, 0.7);\n    border-radius: 0 0 0.7em 0.7em;\n    color: black;\n    font-size: 0.7em;\n    margin: 0 0.7em;\n    text-align: right;\n  }\n</style>\n<figure>\n  <img />\n  <figcaption id=\"caption\"></figcaption>\n  <figcaption id=\"credit\">\n    <a id=\"author\"></a>&nbsp; <a id=\"licence\"></a>&nbsp;\n    <a id=\"image-description\">via Wikimedia Commons</a>\n  </figcaption>\n</figure>\n`;var l=class extends HTMLElement{constructor(){super();this.attachShadow({mode:\"open\"}),this.caption=\"\"}static get observedAttributes(){return[\"title\",\"caption\"]}attributeChangedCallback(e,n,t){n!==t&&(this[e]=t)}get title(){return this.getAttribute(\"title\")}set title(e){this.setAttribute(\"title\",e)}get caption(){return this.getAttribute(\"caption\")}set caption(e){this.setAttribute(\"caption\",e)}async fetchData(e){let n=`Image:${e}`,t=\"https://commons.wikimedia.org/w/api.php\",a={action:\"query\",format:\"json\",prop:\"imageinfo\",iiprop:\"extmetadata\",titles:n};t=t+\"?origin=*\",Object.keys(a).forEach(function(i){t+=\"&\"+i+\"=\"+a[i]});let o=await fetch(t).then(function(i){return i.json()}).then(function(i){let c=i.query.pages,u=Object.keys(c)[0];return c[u].imageinfo[0].extmetadata}).catch(function(i){console.error(i)}),r=await fetch(`https://api.wikimedia.org/core/v1/commons/file/${n}`).then(function(i){return i.json()}).then(function(i){return i}).catch(function(i){console.error(i)});return Object.assign(o,r)}async connectedCallback(){this.style.display=\"block\";let e=await this.fetchData(this.title),n=s.content,t=n.querySelector(\"img\");e.original.url.endsWith(\".svg\")?t.src=e.original.url:t.src=e.preferred.url,this.caption?t.alt=this.caption:e.ImageDescription?t.alt=e.ImageDescription.value:e.ObjectName?t.alt=e.ObjectName.value:t.alt=\"Image libre issue de Wikimedia commons\",n.querySelector(\"#image-description\").href=e.file_description_url;let a=n.querySelector(\"#licence\");e.LicenseUrl&&e.LicenseUrl.value?a.href=e.LicenseUrl.value:e.License&&e.License.value===\"pd\"&&(a.href=\"https://fr.wikipedia.org/wiki/Domaine_public_(propri%C3%A9t%C3%A9_intellectuelle)\"),a.innerHTML=e.LicenseShortName.value;let o=n.querySelector(\"#author\");e.AttributionRequired.value===\"true\"?(o.innerHTML=\"&copy;&nbsp;\",e.Attribution&&e.Attribution.value&&(o.innerHTML+=e.Attribution.value)):o.innerHTML=\"\";let r=n.querySelector(\"#caption\");this.caption?r.innerHTML=this.caption:r.innerHTML=\"\",this.shadowRoot.appendChild(n.cloneNode(!0))}};customElements.define(\"wc-wikimage\",l);export{l as WCwikimage};\n"],"names":["s","document","createElement","innerHTML","l","HTMLElement","constructor","super","this","attachShadow","mode","caption","observedAttributes","attributeChangedCallback","e","n","t","title","getAttribute","setAttribute","async","a","action","format","prop","iiprop","titles","Object","keys","forEach","i","o","fetch","then","json","c","query","pages","imageinfo","extmetadata","catch","console","error","r","assign","style","display","fetchData","content","querySelector","original","url","endsWith","src","preferred","alt","ImageDescription","value","ObjectName","href","file_description_url","LicenseUrl","License","LicenseShortName","AttributionRequired","Attribution","shadowRoot","appendChild","cloneNode","customElements","define"],"sourceRoot":""}